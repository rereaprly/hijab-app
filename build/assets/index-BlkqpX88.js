import{ResponsiveContainer as S0,LineChart as w0,CartesianGrid as R0,XAxis as x0,YAxis as I0,Tooltip as C0,Legend as N0,Line as Jd}from"recharts";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var Nd={exports:{}},gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function Ib(){if(O_)return gl;O_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:c}}return gl.Fragment=e,gl.jsx=n,gl.jsxs=n,gl}var k_;function Cb(){return k_||(k_=1,Nd.exports=Ib()),Nd.exports}var E=Cb(),Dd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function Nb(){if(V_)return Re;V_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.iterator;function R(N){return N===null||typeof N!="object"?null:(N=x&&N[x]||N["@@iterator"],typeof N=="function"?N:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,$={};function ee(N,W,se){this.props=N,this.context=W,this.refs=$,this.updater=se||H}ee.prototype.isReactComponent={},ee.prototype.setState=function(N,W){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,W,"setState")},ee.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ne(){}ne.prototype=ee.prototype;function re(N,W,se){this.props=N,this.context=W,this.refs=$,this.updater=se||H}var ue=re.prototype=new ne;ue.constructor=re,G(ue,ee.prototype),ue.isPureReactComponent=!0;var De=Array.isArray,ge={H:null,A:null,T:null,S:null,V:null},Me=Object.prototype.hasOwnProperty;function k(N,W,se,te,fe,we){return se=we.ref,{$$typeof:s,type:N,key:W,ref:se!==void 0?se:null,props:we}}function S(N,W){return k(N.type,W,void 0,void 0,void 0,N.props)}function I(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function O(N){var W={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(se){return W[se]})}var V=/\/+/g;function D(N,W){return typeof N=="object"&&N!==null&&N.key!=null?O(""+N.key):W.toString(36)}function w(){}function Se(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(w,w):(N.status="pending",N.then(function(W){N.status==="pending"&&(N.status="fulfilled",N.value=W)},function(W){N.status==="pending"&&(N.status="rejected",N.reason=W)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function xe(N,W,se,te,fe){var we=typeof N;(we==="undefined"||we==="boolean")&&(N=null);var ve=!1;if(N===null)ve=!0;else switch(we){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(N.$$typeof){case s:case e:ve=!0;break;case b:return ve=N._init,xe(ve(N._payload),W,se,te,fe)}}if(ve)return fe=fe(N),ve=te===""?"."+D(N,0):te,De(fe)?(se="",ve!=null&&(se=ve.replace(V,"$&/")+"/"),xe(fe,W,se,"",function(An){return An})):fe!=null&&(I(fe)&&(fe=S(fe,se+(fe.key==null||N&&N.key===fe.key?"":(""+fe.key).replace(V,"$&/")+"/")+ve)),W.push(fe)),1;ve=0;var ft=te===""?".":te+":";if(De(N))for(var Ke=0;Ke<N.length;Ke++)te=N[Ke],we=ft+D(te,Ke),ve+=xe(te,W,se,we,fe);else if(Ke=R(N),typeof Ke=="function")for(N=Ke.call(N),Ke=0;!(te=N.next()).done;)te=te.value,we=ft+D(te,Ke++),ve+=xe(te,W,se,we,fe);else if(we==="object"){if(typeof N.then=="function")return xe(Se(N),W,se,te,fe);throw W=String(N),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ve}function B(N,W,se){if(N==null)return N;var te=[],fe=0;return xe(N,te,"","",function(we){return W.call(se,we,fe++)}),te}function Y(N){if(N._status===-1){var W=N._result;W=W(),W.then(function(se){(N._status===0||N._status===-1)&&(N._status=1,N._result=se)},function(se){(N._status===0||N._status===-1)&&(N._status=2,N._result=se)}),N._status===-1&&(N._status=0,N._result=W)}if(N._status===1)return N._result.default;throw N._result}var le=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Ce(){}return Re.Children={map:B,forEach:function(N,W,se){B(N,function(){W.apply(this,arguments)},se)},count:function(N){var W=0;return B(N,function(){W++}),W},toArray:function(N){return B(N,function(W){return W})||[]},only:function(N){if(!I(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Re.Component=ee,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=re,Re.StrictMode=r,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ge,Re.__COMPILER_RUNTIME={__proto__:null,c:function(N){return ge.H.useMemoCache(N)}},Re.cache=function(N){return function(){return N.apply(null,arguments)}},Re.cloneElement=function(N,W,se){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var te=G({},N.props),fe=N.key,we=void 0;if(W!=null)for(ve in W.ref!==void 0&&(we=void 0),W.key!==void 0&&(fe=""+W.key),W)!Me.call(W,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&W.ref===void 0||(te[ve]=W[ve]);var ve=arguments.length-2;if(ve===1)te.children=se;else if(1<ve){for(var ft=Array(ve),Ke=0;Ke<ve;Ke++)ft[Ke]=arguments[Ke+2];te.children=ft}return k(N.type,fe,void 0,void 0,we,te)},Re.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},Re.createElement=function(N,W,se){var te,fe={},we=null;if(W!=null)for(te in W.key!==void 0&&(we=""+W.key),W)Me.call(W,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(fe[te]=W[te]);var ve=arguments.length-2;if(ve===1)fe.children=se;else if(1<ve){for(var ft=Array(ve),Ke=0;Ke<ve;Ke++)ft[Ke]=arguments[Ke+2];fe.children=ft}if(N&&N.defaultProps)for(te in ve=N.defaultProps,ve)fe[te]===void 0&&(fe[te]=ve[te]);return k(N,we,void 0,void 0,null,fe)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(N){return{$$typeof:g,render:N}},Re.isValidElement=I,Re.lazy=function(N){return{$$typeof:b,_payload:{_status:-1,_result:N},_init:Y}},Re.memo=function(N,W){return{$$typeof:y,type:N,compare:W===void 0?null:W}},Re.startTransition=function(N){var W=ge.T,se={};ge.T=se;try{var te=N(),fe=ge.S;fe!==null&&fe(se,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(Ce,le)}catch(we){le(we)}finally{ge.T=W}},Re.unstable_useCacheRefresh=function(){return ge.H.useCacheRefresh()},Re.use=function(N){return ge.H.use(N)},Re.useActionState=function(N,W,se){return ge.H.useActionState(N,W,se)},Re.useCallback=function(N,W){return ge.H.useCallback(N,W)},Re.useContext=function(N){return ge.H.useContext(N)},Re.useDebugValue=function(){},Re.useDeferredValue=function(N,W){return ge.H.useDeferredValue(N,W)},Re.useEffect=function(N,W,se){var te=ge.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(N,W)},Re.useId=function(){return ge.H.useId()},Re.useImperativeHandle=function(N,W,se){return ge.H.useImperativeHandle(N,W,se)},Re.useInsertionEffect=function(N,W){return ge.H.useInsertionEffect(N,W)},Re.useLayoutEffect=function(N,W){return ge.H.useLayoutEffect(N,W)},Re.useMemo=function(N,W){return ge.H.useMemo(N,W)},Re.useOptimistic=function(N,W){return ge.H.useOptimistic(N,W)},Re.useReducer=function(N,W,se){return ge.H.useReducer(N,W,se)},Re.useRef=function(N){return ge.H.useRef(N)},Re.useState=function(N){return ge.H.useState(N)},Re.useSyncExternalStore=function(N,W,se){return ge.H.useSyncExternalStore(N,W,se)},Re.useTransition=function(){return ge.H.useTransition()},Re.version="19.1.0",Re}var P_;function Rm(){return P_||(P_=1,Dd.exports=Nb()),Dd.exports}var he=Rm(),Md={exports:{}},pl={},Od={exports:{}},kd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function Db(){return U_||(U_=1,function(s){function e(B,Y){var le=B.length;B.push(Y);e:for(;0<le;){var Ce=le-1>>>1,N=B[Ce];if(0<o(N,Y))B[Ce]=Y,B[le]=N,le=Ce;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Y=B[0],le=B.pop();if(le!==Y){B[0]=le;e:for(var Ce=0,N=B.length,W=N>>>1;Ce<W;){var se=2*(Ce+1)-1,te=B[se],fe=se+1,we=B[fe];if(0>o(te,le))fe<N&&0>o(we,te)?(B[Ce]=we,B[fe]=le,Ce=fe):(B[Ce]=te,B[se]=le,Ce=se);else if(fe<N&&0>o(we,le))B[Ce]=we,B[fe]=le,Ce=fe;else break e}}return Y}function o(B,Y){var le=B.sortIndex-Y.sortIndex;return le!==0?le:B.id-Y.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var p=[],y=[],b=1,x=null,R=3,H=!1,G=!1,$=!1,ee=!1,ne=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;function De(B){for(var Y=n(y);Y!==null;){if(Y.callback===null)r(y);else if(Y.startTime<=B)r(y),Y.sortIndex=Y.expirationTime,e(p,Y);else break;Y=n(y)}}function ge(B){if($=!1,De(B),!G)if(n(p)!==null)G=!0,Me||(Me=!0,D());else{var Y=n(y);Y!==null&&xe(ge,Y.startTime-B)}}var Me=!1,k=-1,S=5,I=-1;function O(){return ee?!0:!(s.unstable_now()-I<S)}function V(){if(ee=!1,Me){var B=s.unstable_now();I=B;var Y=!0;try{e:{G=!1,$&&($=!1,re(k),k=-1),H=!0;var le=R;try{t:{for(De(B),x=n(p);x!==null&&!(x.expirationTime>B&&O());){var Ce=x.callback;if(typeof Ce=="function"){x.callback=null,R=x.priorityLevel;var N=Ce(x.expirationTime<=B);if(B=s.unstable_now(),typeof N=="function"){x.callback=N,De(B),Y=!0;break t}x===n(p)&&r(p),De(B)}else r(p);x=n(p)}if(x!==null)Y=!0;else{var W=n(y);W!==null&&xe(ge,W.startTime-B),Y=!1}}break e}finally{x=null,R=le,H=!1}Y=void 0}}finally{Y?D():Me=!1}}}var D;if(typeof ue=="function")D=function(){ue(V)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Se=w.port2;w.port1.onmessage=V,D=function(){Se.postMessage(null)}}else D=function(){ne(V,0)};function xe(B,Y){k=ne(function(){B(s.unstable_now())},Y)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_next=function(B){switch(R){case 1:case 2:case 3:var Y=3;break;default:Y=R}var le=R;R=Y;try{return B()}finally{R=le}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var le=R;R=B;try{return Y()}finally{R=le}},s.unstable_scheduleCallback=function(B,Y,le){var Ce=s.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Ce+le:Ce):le=Ce,B){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=le+N,B={id:b++,callback:Y,priorityLevel:B,startTime:le,expirationTime:N,sortIndex:-1},le>Ce?(B.sortIndex=le,e(y,B),n(p)===null&&B===n(y)&&($?(re(k),k=-1):$=!0,xe(ge,le-Ce))):(B.sortIndex=N,e(p,B),G||H||(G=!0,Me||(Me=!0,D()))),B},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(B){var Y=R;return function(){var le=R;R=Y;try{return B.apply(this,arguments)}finally{R=le}}}}(kd)),kd}var L_;function Mb(){return L_||(L_=1,Od.exports=Db()),Od.exports}var Vd={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function Ob(){if(j_)return Xt;j_=1;var s=Rm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:p,containerInfo:y,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xt.createPortal=function(p,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,b)},Xt.flushSync=function(p){var y=d.T,b=r.p;try{if(d.T=null,r.p=2,p)return p()}finally{d.T=y,r.p=b,r.d.f()}},Xt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},Xt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Xt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var b=y.as,x=g(b,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:R,fetchPriority:H}):b==="script"&&r.d.X(p,{crossOrigin:x,integrity:R,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},Xt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,x=g(b,y.crossOrigin);r.d.L(p,b,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xt.preloadModule=function(p,y){if(typeof p=="string")if(y){var b=g(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},Xt.requestFormReset=function(p){r.d.r(p)},Xt.unstable_batchedUpdates=function(p,y){return p(y)},Xt.useFormState=function(p,y,b){return d.H.useFormState(p,y,b)},Xt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xt.version="19.1.0",Xt}var z_;function kb(){if(z_)return Vd.exports;z_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Vd.exports=Ob(),Vd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function Vb(){if(B_)return pl;B_=1;var s=Mb(),e=Rm(),n=kb();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function p(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===l)return g(h),i;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=f;break}if(T===l){v=!0,l=h,a=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===a){v=!0,a=f,l=h;break}if(T===l){v=!0,l=f,a=h;break}T=T.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),ue=Symbol.for("react.context"),De=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function D(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Se(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case ee:return"Profiler";case $:return"StrictMode";case ge:return"Suspense";case Me:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case ue:return(t.displayName||"Context")+".Provider";case re:return(t._context.displayName||"Context")+".Consumer";case De:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return i=t.displayName||null,i!==null?i:Se(t.type)||"Memo";case S:i=t._payload,t=t._init;try{return Se(t(i))}catch{}}return null}var xe=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Ce=[],N=-1;function W(t){return{current:t}}function se(t){0>N||(t.current=Ce[N],Ce[N]=null,N--)}function te(t,i){N++,Ce[N]=t.current,t.current=i}var fe=W(null),we=W(null),ve=W(null),ft=W(null);function Ke(t,i){switch(te(ve,i),te(we,t),te(fe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?o_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=o_(i),t=l_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}se(fe),te(fe,t)}function An(){se(fe),se(we),se(ve)}function Sn(t){t.memoizedState!==null&&te(ft,t);var i=fe.current,a=l_(i,t.type);i!==a&&(te(we,t),te(fe,a))}function wt(t){we.current===t&&(se(fe),se(we)),ft.current===t&&(se(ft),cl._currentValue=le)}var hn=Object.prototype.hasOwnProperty,Xs=s.unstable_scheduleCallback,$s=s.unstable_cancelCallback,ao=s.unstable_shouldYield,$l=s.unstable_requestPaint,wn=s.unstable_now,Ch=s.unstable_getCurrentPriorityLevel,oo=s.unstable_ImmediatePriority,Hr=s.unstable_UserBlockingPriority,Zs=s.unstable_NormalPriority,Nh=s.unstable_LowPriority,Fr=s.unstable_IdlePriority,lo=s.log,Zl=s.unstable_setDisableYieldValue,ut=null,Qe=null;function fn(t){if(typeof lo=="function"&&Zl(t),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ut,t)}catch{}}var Qt=Math.clz32?Math.clz32:Ws,Wl=Math.log,Dh=Math.LN2;function Ws(t){return t>>>=0,t===0?32:31-(Wl(t)/Dh|0)|0}var Js=256,er=4194304;function jn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Gr(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=jn(l):(v&=T,v!==0?h=jn(v):a||(a=T&~t,a!==0&&(h=jn(a))))):(T=l&~f,T!==0?h=jn(T):v!==0?h=jn(v):a||(a=l&~t,a!==0&&(h=jn(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function tr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function uo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function co(){var t=Js;return Js<<=1,(Js&4194048)===0&&(Js=256),t}function ho(){var t=er;return er<<=1,(er&62914560)===0&&(er=4194304),t}function _i(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function vi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function fo(t,i,a,l,h,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,j=t.hiddenUpdates;for(a=v&~a;0<a;){var K=31-Qt(a),Z=1<<K;T[K]=0,C[K]=-1;var z=j[K];if(z!==null)for(j[K]=null,K=0;K<z.length;K++){var q=z[K];q!==null&&(q.lane&=-536870913)}a&=~Z}l!==0&&Yn(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~i))}function Yn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Qt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function mo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Qt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Ji(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Kr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function es(){var t=Y.p;return t!==0?t:(t=window.event,t===void 0?32:x_(t.type))}function Jl(t,i){var a=Y.p;try{return Y.p=t,i()}finally{Y.p=a}}var st=Math.random().toString(36).slice(2),Rt="__reactFiber$"+st,_t="__reactProps$"+st,Rn="__reactContainer$"+st,go="__reactEvents$"+st,Mh="__reactListeners$"+st,ts="__reactHandles$"+st,eu="__reactResources$"+st,nr="__reactMarker$"+st;function ns(t){delete t[Rt],delete t[_t],delete t[go],delete t[Mh],delete t[ts]}function Ei(t){var i=t[Rt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Rn]||a[Rt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=f_(t);t!==null;){if(a=t[Rt])return a;t=f_(t)}return i}t=a,a=t.parentNode}return null}function Xn(t){if(t=t[Rt]||t[Rn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function $n(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function en(t){var i=t[eu];return i||(i=t[eu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function dt(t){t[nr]=!0}var po=new Set,Qr={};function zn(t,i){Ti(t,i),Ti(t+"Capture",i)}function Ti(t,i){for(Qr[t]=i,t=0;t<i.length;t++)po.add(i[t])}var tu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nu={},ir={};function iu(t){return hn.call(ir,t)?!0:hn.call(nu,t)?!1:tu.test(t)?ir[t]=!0:(nu[t]=!0,!1)}function is(t,i,a){if(iu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Zn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function jt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var sr,su;function bi(t){if(sr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);sr=i&&i[1]||"",su=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sr+t+su}var Yr=!1;function Xr(t,i){if(!t||Yr)return"";Yr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(q){var z=q}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(q){z=q}t.call(Z.prototype)}}else{try{throw Error()}catch(q){z=q}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var C=v.split(`
`),j=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===j.length)for(l=C.length-1,h=j.length-1;1<=l&&0<=h&&C[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==j[h]){var K=`
`+C[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{Yr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?bi(a):""}function yo(t){switch(t.tag){case 26:case 27:case 5:return bi(t.type);case 16:return bi("Lazy");case 13:return bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return Xr(t.type,!1);case 11:return Xr(t.type.render,!1);case 1:return Xr(t.type,!0);case 31:return bi("Activity");default:return""}}function $r(t){try{var i="";do i+=yo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _o(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Oh(t){var i=_o(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Zr(t){t._valueTracker||(t._valueTracker=Oh(t))}function vo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=_o(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function rr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var kh=/[\n"\\]/g;function vt(t){return t.replace(kh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function dn(t,i,a,l,h,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+tn(i)):t.value!==""+tn(i)&&(t.value=""+tn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?ss(t,v,tn(i)):a!=null?ss(t,v,tn(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+tn(T):t.removeAttribute("name")}function ar(t,i,a,l,h,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function ss(t,i,a){i==="number"&&rr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ai(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function $e(t,i,a){if(i!=null&&(i=""+tn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+tn(a):""}function or(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(xe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=tn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function xn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var lr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ru(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||lr.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Eo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&ru(t,h,l)}else for(var f in i)i.hasOwnProperty(f)&&ru(t,f,i[f])}function To(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ph=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wr(t){return Ph.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Si=null;function In(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wi=null,Ri=null;function bo(t){var i=Xn(t);if(i&&(t=i.stateNode)){var a=t[_t]||null;e:switch(t=i.stateNode,i.type){case"input":if(dn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[_t]||null;if(!h)throw Error(r(90));dn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&vo(l)}break e;case"textarea":$e(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ai(t,!!a.multiple,i,!1)}}}var Wn=!1;function au(t,i,a){if(Wn)return t(i,a);Wn=!0;try{var l=t(i);return l}finally{if(Wn=!1,(wi!==null||Ri!==null)&&(Ju(),wi&&(i=wi,t=Ri,Ri=wi=null,bo(i),t)))for(i=0;i<t.length;i++)bo(t[i])}}function ur(t,i){var a=t.stateNode;if(a===null)return null;var l=a[_t]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cn=!1;if(Bn)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch{Cn=!1}var Jn=null,rs=null,xi=null;function Ao(){if(xi)return xi;var t,i=rs,a=i.length,l,h="value"in Jn?Jn.value:Jn.textContent,f=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[f-l];l++);return xi=h.slice(t,1<l?1-l:void 0)}function ei(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ti(){return!0}function So(){return!1}function Ot(t){function i(a,l,h,f,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ti:So,this.isPropagationStopped=So,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),i}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jr=Ot(Fe),hr=b({},Fe,{view:0,detail:0}),ou=Ot(hr),ea,ta,ni,fr=b({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ni&&(ni&&t.type==="mousemove"?(ea=t.screenX-ni.screenX,ta=t.screenY-ni.screenY):ta=ea=0,ni=t),ea)},movementY:function(t){return"movementY"in t?t.movementY:ta}}),Nn=Ot(fr),lu=b({},fr,{dataTransfer:0}),Uh=Ot(lu),dr=b({},hr,{relatedTarget:0}),na=Ot(dr),wo=b({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),ia=Ot(wo),uu=b({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sa=Ot(uu),Lh=b({},Fe,{data:0}),Ro=Ot(Lh),mr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=hu[t])?!!i[t]:!1}function gr(){return xo}var fu=b({},hr,{key:function(t){if(t.key){var i=mr[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ei(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(t){return t.type==="keypress"?ei(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ei(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ra=Ot(fu),du=b({},fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Io=Ot(du),Ii=b({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),mu=Ot(Ii),gu=b({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),pu=Ot(gu),yu=b({},fr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aa=Ot(yu),nn=b({},Fe,{newState:0,oldState:0}),_u=Ot(nn),vu=[9,13,27,32],ii=Bn&&"CompositionEvent"in window,u=null;Bn&&"documentMode"in document&&(u=document.documentMode);var m=Bn&&"TextEvent"in window&&!u,_=Bn&&(!ii||u&&8<u&&11>=u),A=" ",U=!1;function F(t,i){switch(t){case"keyup":return vu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Le=!1;function xt(t,i){switch(t){case"compositionend":return ie(i);case"keypress":return i.which!==32?null:(U=!0,A);case"textInput":return t=i.data,t===A&&U?null:t;default:return null}}function je(t,i){if(Le)return t==="compositionend"||!ii&&F(t,i)?(t=Ao(),xi=rs=Jn=null,Le=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function It(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!kt[t.type]:i==="textarea"}function Ci(t,i,a,l){wi?Ri?Ri.push(l):Ri=[l]:wi=l,i=rc(i,"onChange"),0<i.length&&(a=new Jr("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var zt=null,si=null;function Co(t){n_(t,0)}function Eu(t){var i=$n(t);if(vo(i))return t}function Ag(t,i){if(t==="change")return i}var Sg=!1;if(Bn){var jh;if(Bn){var zh="oninput"in document;if(!zh){var wg=document.createElement("div");wg.setAttribute("oninput","return;"),zh=typeof wg.oninput=="function"}jh=zh}else jh=!1;Sg=jh&&(!document.documentMode||9<document.documentMode)}function Rg(){zt&&(zt.detachEvent("onpropertychange",xg),si=zt=null)}function xg(t){if(t.propertyName==="value"&&Eu(si)){var i=[];Ci(i,si,t,In(t)),au(Co,i)}}function s1(t,i,a){t==="focusin"?(Rg(),zt=i,si=a,zt.attachEvent("onpropertychange",xg)):t==="focusout"&&Rg()}function r1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eu(si)}function a1(t,i){if(t==="click")return Eu(i)}function o1(t,i){if(t==="input"||t==="change")return Eu(i)}function l1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var mn=typeof Object.is=="function"?Object.is:l1;function No(t,i){if(mn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!hn.call(i,h)||!mn(t[h],i[h]))return!1}return!0}function Ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cg(t,i){var a=Ig(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ig(a)}}function Ng(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ng(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Dg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=rr(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=rr(t.document)}return i}function Bh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var u1=Bn&&"documentMode"in document&&11>=document.documentMode,oa=null,qh=null,Do=null,Hh=!1;function Mg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Hh||oa==null||oa!==rr(l)||(l=oa,"selectionStart"in l&&Bh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Do&&No(Do,l)||(Do=l,l=rc(qh,"onSelect"),0<l.length&&(i=new Jr("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=oa)))}function pr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var la={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},Fh={},Og={};Bn&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function yr(t){if(Fh[t])return Fh[t];if(!la[t])return t;var i=la[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Og)return Fh[t]=i[a];return t}var kg=yr("animationend"),Vg=yr("animationiteration"),Pg=yr("animationstart"),c1=yr("transitionrun"),h1=yr("transitionstart"),f1=yr("transitioncancel"),Ug=yr("transitionend"),Lg=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function qn(t,i){Lg.set(t,i),zn(i,[t])}var jg=new WeakMap;function Dn(t,i){if(typeof t=="object"&&t!==null){var a=jg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:$r(i)},jg.set(t,i),i)}return{value:t,source:i,stack:$r(i)}}var Mn=[],ua=0,Kh=0;function Tu(){for(var t=ua,i=Kh=ua=0;i<t;){var a=Mn[i];Mn[i++]=null;var l=Mn[i];Mn[i++]=null;var h=Mn[i];Mn[i++]=null;var f=Mn[i];if(Mn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&zg(a,h,f)}}function bu(t,i,a,l){Mn[ua++]=t,Mn[ua++]=i,Mn[ua++]=a,Mn[ua++]=l,Kh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Qh(t,i,a,l){return bu(t,i,a,l),Au(t)}function ca(t,i){return bu(t,null,null,i),Au(t)}function zg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-Qt(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),f):null}function Au(t){if(50<nl)throw nl=0,ed=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ha={};function d1(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,i,a,l){return new d1(t,i,a,l)}function Yh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ni(t,i){var a=t.alternate;return a===null?(a=gn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Bg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Su(t,i,a,l,h,f){var v=0;if(l=t,typeof t=="function")Yh(t)&&(v=1);else if(typeof t=="string")v=gb(t,a,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=gn(31,a,i,h),t.elementType=I,t.lanes=f,t;case G:return _r(a.children,h,f,i);case $:v=8,h|=24;break;case ee:return t=gn(12,a,i,h|2),t.elementType=ee,t.lanes=f,t;case ge:return t=gn(13,a,i,h),t.elementType=ge,t.lanes=f,t;case Me:return t=gn(19,a,i,h),t.elementType=Me,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:case ue:v=10;break e;case re:v=9;break e;case De:v=11;break e;case k:v=14;break e;case S:v=16,l=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=gn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=f,i}function _r(t,i,a,l){return t=gn(7,t,l,i),t.lanes=a,t}function Xh(t,i,a){return t=gn(6,t,null,i),t.lanes=a,t}function $h(t,i,a){return i=gn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var fa=[],da=0,wu=null,Ru=0,On=[],kn=0,vr=null,Di=1,Mi="";function Er(t,i){fa[da++]=Ru,fa[da++]=wu,wu=t,Ru=i}function qg(t,i,a){On[kn++]=Di,On[kn++]=Mi,On[kn++]=vr,vr=t;var l=Di;t=Mi;var h=32-Qt(l)-1;l&=~(1<<h),a+=1;var f=32-Qt(i)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Di=1<<32-Qt(i)+h|a<<h|l,Mi=f+t}else Di=1<<f|a<<h|l,Mi=t}function Zh(t){t.return!==null&&(Er(t,1),qg(t,1,0))}function Wh(t){for(;t===wu;)wu=fa[--da],fa[da]=null,Ru=fa[--da],fa[da]=null;for(;t===vr;)vr=On[--kn],On[kn]=null,Mi=On[--kn],On[kn]=null,Di=On[--kn],On[kn]=null}var sn=null,ct=null,He=!1,Tr=null,ri=!1,Jh=Error(r(519));function br(t){var i=Error(r(418,""));throw ko(Dn(i,t)),Jh}function Hg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Rt]=t,i[_t]=l,a){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(a=0;a<sl.length;a++)ke(sl[a],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),ar(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Zr(i);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),or(i,l.value,l.defaultValue,l.children),Zr(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||a_(i.textContent,a)?(l.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),l.onScroll!=null&&ke("scroll",i),l.onScrollEnd!=null&&ke("scrollend",i),l.onClick!=null&&(i.onclick=ac),i=!0):i=!1,i||br(t)}function Fg(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:sn=sn.return}}function Mo(t){if(t!==sn)return!1;if(!He)return Fg(t),He=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||pd(t.type,t.memoizedProps)),a=!a),a&&ct&&br(t),Fg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ct=Fn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ct=null}}else i===27?(i=ct,Ts(t.type)?(t=Ed,Ed=null,ct=t):ct=i):ct=sn?Fn(t.stateNode.nextSibling):null;return!0}function Oo(){ct=sn=null,He=!1}function Gg(){var t=Tr;return t!==null&&(on===null?on=t:on.push.apply(on,t),Tr=null),t}function ko(t){Tr===null?Tr=[t]:Tr.push(t)}var ef=W(null),Ar=null,Oi=null;function as(t,i,a){te(ef,i._currentValue),i._currentValue=a}function ki(t){t._currentValue=ef.current,se(ef)}function tf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function nf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),tf(f.return,a,t),l||(v=null);break e}f=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),tf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Vo(t,i,a,l){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var T=h.type;mn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===ft.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(cl):t=[cl])}h=h.return}t!==null&&nf(i,t,a,l),i.flags|=262144}function xu(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Sr(t){Ar=t,Oi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return Kg(Ar,t)}function Iu(t,i){return Ar===null&&Sr(t),Kg(t,i)}function Kg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Oi===null){if(t===null)throw Error(r(308));Oi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Oi=Oi.next=i;return a}var m1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},g1=s.unstable_scheduleCallback,p1=s.unstable_NormalPriority,Ct={$$typeof:ue,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new m1,data:new Map,refCount:0}}function Po(t){t.refCount--,t.refCount===0&&g1(p1,function(){t.controller.abort()})}var Uo=null,rf=0,ma=0,ga=null;function y1(t,i){if(Uo===null){var a=Uo=[];rf=0,ma=od(),ga={status:"pending",value:void 0,then:function(l){a.push(l)}}}return rf++,i.then(Qg,Qg),i}function Qg(){if(--rf===0&&Uo!==null){ga!==null&&(ga.status="fulfilled");var t=Uo;Uo=null,ma=0,ga=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function _1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Yg=B.S;B.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&y1(t,i),Yg!==null&&Yg(t,i)};var wr=W(null);function af(){var t=wr.current;return t!==null?t:tt.pooledCache}function Cu(t,i){i===null?te(wr,wr.current):te(wr,i.pool)}function Xg(){var t=af();return t===null?null:{parent:Ct._currentValue,pool:t}}var Lo=Error(r(460)),$g=Error(r(474)),Nu=Error(r(542)),of={then:function(){}};function Zg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Du(){}function Wg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Du,Du),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ep(t),t;default:if(typeof i.status=="string")i.then(Du,Du);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ep(t),t}throw jo=i,Lo}}var jo=null;function Jg(){if(jo===null)throw Error(r(459));var t=jo;return jo=null,t}function ep(t){if(t===Lo||t===Nu)throw Error(r(483))}var os=!1;function lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ls(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function us(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Au(t),zg(t,null,a),i}return bu(t,l,i,a),Au(t)}function zo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,mo(t,a)}}function cf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var hf=!1;function Bo(){if(hf){var t=ga;if(t!==null)throw t}}function qo(t,i,a,l){hf=!1;var h=t.updateQueue;os=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,j=C.next;C.next=null,v===null?f=j:v.next=j,v=C;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==v&&(T===null?K.firstBaseUpdate=j:T.next=j,K.lastBaseUpdate=C))}if(f!==null){var Z=h.baseState;v=0,K=j=C=null,T=f;do{var z=T.lane&-536870913,q=z!==T.lane;if(q?(ze&z)===z:(l&z)===z){z!==0&&z===ma&&(hf=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ee=t,pe=T;z=i;var Je=a;switch(pe.tag){case 1:if(Ee=pe.payload,typeof Ee=="function"){Z=Ee.call(Je,Z,z);break e}Z=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=pe.payload,z=typeof Ee=="function"?Ee.call(Je,Z,z):Ee,z==null)break e;Z=b({},Z,z);break e;case 2:os=!0}}z=T.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(j=K=q,C=Z):K=K.next=q,v|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);K===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),ys|=v,t.lanes=v,t.memoizedState=Z}}function tp(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function np(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)tp(a[t],i)}var pa=W(null),Mu=W(0);function ip(t,i){t=Bi,te(Mu,t),te(pa,i),Bi=t|i.baseLanes}function ff(){te(Mu,Bi),te(pa,pa.current)}function df(){Bi=Mu.current,se(pa),se(Mu)}var cs=0,Ie=null,Ze=null,Et=null,Ou=!1,ya=!1,Rr=!1,ku=0,Ho=0,_a=null,v1=0;function mt(){throw Error(r(321))}function mf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!mn(t[a],i[a]))return!1;return!0}function gf(t,i,a,l,h,f){return cs=f,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=t===null||t.memoizedState===null?zp:Bp,Rr=!1,f=a(l,h),Rr=!1,ya&&(f=rp(i,a,l,h)),sp(t),f}function sp(t){B.H=zu;var i=Ze!==null&&Ze.next!==null;if(cs=0,Et=Ze=Ie=null,Ou=!1,Ho=0,_a=null,i)throw Error(r(300));t===null||Vt||(t=t.dependencies,t!==null&&xu(t)&&(Vt=!0))}function rp(t,i,a,l){Ie=t;var h=0;do{if(ya&&(_a=null),Ho=0,ya=!1,25<=h)throw Error(r(301));if(h+=1,Et=Ze=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}B.H=R1,f=i(a,l)}while(ya);return f}function E1(){var t=B.H,i=t.useState()[0];return i=typeof i.then=="function"?Fo(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ie.flags|=1024),i}function pf(){var t=ku!==0;return ku=0,t}function yf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function _f(t){if(Ou){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ou=!1}cs=0,Et=Ze=Ie=null,ya=!1,Ho=ku=0,_a=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ie.memoizedState=Et=t:Et=Et.next=t,Et}function Tt(){if(Ze===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=Et===null?Ie.memoizedState:Et.next;if(i!==null)Et=i,Ze=t;else{if(t===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Et===null?Ie.memoizedState=Et=t:Et=Et.next=t}return Et}function vf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(t){var i=Ho;return Ho+=1,_a===null&&(_a=[]),t=Wg(_a,t,i),i=Ie,(Et===null?i.memoizedState:Et.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?zp:Bp),t}function Vu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Fo(t);if(t.$$typeof===ue)return Yt(t)}throw Error(r(438,String(t)))}function Ef(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=vf(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function Vi(t,i){return typeof i=="function"?i(t):i}function Pu(t){var i=Tt();return Tf(i,Ze,t)}function Tf(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}i.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var T=v=null,C=null,j=i,K=!1;do{var Z=j.lane&-536870913;if(Z!==j.lane?(ze&Z)===Z:(cs&Z)===Z){var z=j.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Z===ma&&(K=!0);else if((cs&z)===z){j=j.next,z===ma&&(K=!0);continue}else Z={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=Z,v=f):C=C.next=Z,Ie.lanes|=z,ys|=z;Z=j.action,Rr&&a(f,Z),f=j.hasEagerState?j.eagerState:a(f,Z)}else z={lane:Z,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=z,v=f):C=C.next=z,Ie.lanes|=Z,ys|=Z;j=j.next}while(j!==null&&j!==i);if(C===null?v=f:C.next=T,!mn(f,t.memoizedState)&&(Vt=!0,K&&(a=ga,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function bf(t){var i=Tt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);mn(f,i.memoizedState)||(Vt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function ap(t,i,a){var l=Ie,h=Tt(),f=He;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var v=!mn((Ze||h).memoizedState,a);v&&(h.memoizedState=a,Vt=!0),h=h.queue;var T=up.bind(null,l,h,t);if(Go(2048,8,T,[t]),h.getSnapshot!==i||v||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,va(9,Uu(),lp.bind(null,l,h,a,i),null),tt===null)throw Error(r(349));f||(cs&124)!==0||op(l,i,a)}return a}function op(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=vf(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function lp(t,i,a,l){i.value=a,i.getSnapshot=l,cp(i)&&hp(t)}function up(t,i,a){return a(function(){cp(i)&&hp(t)})}function cp(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!mn(t,a)}catch{return!0}}function hp(t){var i=ca(t,2);i!==null&&En(i,t,2)}function Af(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Rr){fn(!0);try{a()}finally{fn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:t},i}function fp(t,i,a,l){return t.baseState=a,Tf(t,Ze,typeof l=="function"?l:Vi)}function T1(t,i,a,l,h){if(ju(t))throw Error(r(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};B.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,dp(i,f)):(f.next=a.next,i.pending=a.next=f)}}function dp(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var f=B.T,v={};B.T=v;try{var T=a(h,l),C=B.S;C!==null&&C(v,T),mp(t,i,T)}catch(j){Sf(t,i,j)}finally{B.T=f}}else try{f=a(h,l),mp(t,i,f)}catch(j){Sf(t,i,j)}}function mp(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){gp(t,i,l)},function(l){return Sf(t,i,l)}):gp(t,i,a)}function gp(t,i,a){i.status="fulfilled",i.value=a,pp(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,dp(t,a)))}function Sf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,pp(i),i=i.next;while(i!==l)}t.action=null}function pp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function yp(t,i){return i}function _p(t,i){if(He){var a=tt.formState;if(a!==null){e:{var l=Ie;if(He){if(ct){t:{for(var h=ct,f=ri;h.nodeType!==8;){if(!f){h=null;break t}if(h=Fn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ct=Fn(h.nextSibling),l=h.data==="F!";break e}}br(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yp,lastRenderedState:i},a.queue=l,a=Up.bind(null,Ie,l),l.dispatch=a,l=Af(!1),f=Cf.bind(null,Ie,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=T1.bind(null,Ie,h,f,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function vp(t){var i=Tt();return Ep(i,Ze,t)}function Ep(t,i,a){if(i=Tf(t,i,yp)[0],t=Pu(Vi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Fo(i)}catch(v){throw v===Lo?Nu:v}else l=i;i=Tt();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,va(9,Uu(),b1.bind(null,h,a),null)),[l,f,t]}function b1(t,i){t.action=i}function Tp(t){var i=Tt(),a=Ze;if(a!==null)return Ep(i,a,t);Tt(),i=i.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function va(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=vf(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Uu(){return{destroy:void 0,resource:void 0}}function bp(){return Tt().memoizedState}function Lu(t,i,a,l){var h=rn();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=va(1|i,Uu(),a,l)}function Go(t,i,a,l){var h=Tt();l=l===void 0?null:l;var f=h.memoizedState.inst;Ze!==null&&l!==null&&mf(l,Ze.memoizedState.deps)?h.memoizedState=va(i,f,a,l):(Ie.flags|=t,h.memoizedState=va(1|i,f,a,l))}function Ap(t,i){Lu(8390656,8,t,i)}function Sp(t,i){Go(2048,8,t,i)}function wp(t,i){return Go(4,2,t,i)}function Rp(t,i){return Go(4,4,t,i)}function xp(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ip(t,i,a){a=a!=null?a.concat([t]):null,Go(4,4,xp.bind(null,i,t),a)}function wf(){}function Cp(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&mf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Np(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&mf(i,l[1]))return l[0];if(l=t(),Rr){fn(!0);try{t()}finally{fn(!1)}}return a.memoizedState=[l,i],l}function Rf(t,i,a){return a===void 0||(cs&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Oy(),Ie.lanes|=t,ys|=t,a)}function Dp(t,i,a,l){return mn(a,i)?a:pa.current!==null?(t=Rf(t,a,l),mn(t,i)||(Vt=!0),t):(cs&42)===0?(Vt=!0,t.memoizedState=a):(t=Oy(),Ie.lanes|=t,ys|=t,i)}function Mp(t,i,a,l,h){var f=Y.p;Y.p=f!==0&&8>f?f:8;var v=B.T,T={};B.T=T,Cf(t,!1,i,a);try{var C=h(),j=B.S;if(j!==null&&j(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=_1(C,l);Ko(t,i,K,vn(t))}else Ko(t,i,l,vn(t))}catch(Z){Ko(t,i,{then:function(){},status:"rejected",reason:Z},vn())}finally{Y.p=f,B.T=v}}function A1(){}function xf(t,i,a,l){if(t.tag!==5)throw Error(r(476));var h=Op(t).queue;Mp(t,h,i,le,a===null?A1:function(){return kp(t),a(l)})}function Op(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:le},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function kp(t){var i=Op(t).next.queue;Ko(t,i,{},vn())}function If(){return Yt(cl)}function Vp(){return Tt().memoizedState}function Pp(){return Tt().memoizedState}function S1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=vn();t=ls(a);var l=us(i,t,a);l!==null&&(En(l,i,a),zo(l,i,a)),i={cache:sf()},t.payload=i;return}i=i.return}}function w1(t,i,a){var l=vn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ju(t)?Lp(i,a):(a=Qh(t,i,a,l),a!==null&&(En(a,t,l),jp(a,i,l)))}function Up(t,i,a){var l=vn();Ko(t,i,a,l)}function Ko(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ju(t))Lp(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,T=f(v,a);if(h.hasEagerState=!0,h.eagerState=T,mn(T,v))return bu(t,i,h,0),tt===null&&Tu(),!1}catch{}finally{}if(a=Qh(t,i,h,l),a!==null)return En(a,t,l),jp(a,i,l),!0}return!1}function Cf(t,i,a,l){if(l={lane:2,revertLane:od(),action:l,hasEagerState:!1,eagerState:null,next:null},ju(t)){if(i)throw Error(r(479))}else i=Qh(t,a,l,2),i!==null&&En(i,t,2)}function ju(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function Lp(t,i){ya=Ou=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function jp(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,mo(t,a)}}var zu={readContext:Yt,use:Vu,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},zp={readContext:Yt,use:Vu,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Yt,useEffect:Ap,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Lu(4194308,4,xp.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Lu(4194308,4,t,i)},useInsertionEffect:function(t,i){Lu(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(Rr){fn(!0);try{t()}finally{fn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Rr){fn(!0);try{a(i)}finally{fn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=w1.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=Af(t);var i=t.queue,a=Up.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:wf,useDeferredValue:function(t,i){var a=rn();return Rf(a,t,i)},useTransition:function(){var t=Af(!1);return t=Mp.bind(null,Ie,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=rn();if(He){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),tt===null)throw Error(r(349));(ze&124)!==0||op(l,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,Ap(up.bind(null,l,f,t),[t]),l.flags|=2048,va(9,Uu(),lp.bind(null,l,f,a,i),null),a},useId:function(){var t=rn(),i=tt.identifierPrefix;if(He){var a=Mi,l=Di;a=(l&~(1<<32-Qt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=ku++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=v1++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:If,useFormState:_p,useActionState:_p,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Cf.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:Ef,useCacheRefresh:function(){return rn().memoizedState=S1.bind(null,Ie)}},Bp={readContext:Yt,use:Vu,useCallback:Cp,useContext:Yt,useEffect:Sp,useImperativeHandle:Ip,useInsertionEffect:wp,useLayoutEffect:Rp,useMemo:Np,useReducer:Pu,useRef:bp,useState:function(){return Pu(Vi)},useDebugValue:wf,useDeferredValue:function(t,i){var a=Tt();return Dp(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Pu(Vi)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:Fo(t),i]},useSyncExternalStore:ap,useId:Vp,useHostTransitionStatus:If,useFormState:vp,useActionState:vp,useOptimistic:function(t,i){var a=Tt();return fp(a,Ze,t,i)},useMemoCache:Ef,useCacheRefresh:Pp},R1={readContext:Yt,use:Vu,useCallback:Cp,useContext:Yt,useEffect:Sp,useImperativeHandle:Ip,useInsertionEffect:wp,useLayoutEffect:Rp,useMemo:Np,useReducer:bf,useRef:bp,useState:function(){return bf(Vi)},useDebugValue:wf,useDeferredValue:function(t,i){var a=Tt();return Ze===null?Rf(a,t,i):Dp(a,Ze.memoizedState,t,i)},useTransition:function(){var t=bf(Vi)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:Fo(t),i]},useSyncExternalStore:ap,useId:Vp,useHostTransitionStatus:If,useFormState:Tp,useActionState:Tp,useOptimistic:function(t,i){var a=Tt();return Ze!==null?fp(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:Pp},Ea=null,Qo=0;function Bu(t){var i=Qo;return Qo+=1,Ea===null&&(Ea=[]),Wg(Ea,t,i)}function Yo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function qu(t,i){throw i.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function qp(t){var i=t._init;return i(t._payload)}function Hp(t){function i(P,M){if(t){var L=P.deletions;L===null?(P.deletions=[M],P.flags|=16):L.push(M)}}function a(P,M){if(!t)return null;for(;M!==null;)i(P,M),M=M.sibling;return null}function l(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=Ni(P,M),P.index=0,P.sibling=null,P}function f(P,M,L){return P.index=L,t?(L=P.alternate,L!==null?(L=L.index,L<M?(P.flags|=67108866,M):L):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function v(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,M,L,X){return M===null||M.tag!==6?(M=Xh(L,P.mode,X),M.return=P,M):(M=h(M,L),M.return=P,M)}function C(P,M,L,X){var ce=L.type;return ce===G?K(P,M,L.props.children,X,L.key):M!==null&&(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===S&&qp(ce)===M.type)?(M=h(M,L.props),Yo(M,L),M.return=P,M):(M=Su(L.type,L.key,L.props,null,P.mode,X),Yo(M,L),M.return=P,M)}function j(P,M,L,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=$h(L,P.mode,X),M.return=P,M):(M=h(M,L.children||[]),M.return=P,M)}function K(P,M,L,X,ce){return M===null||M.tag!==7?(M=_r(L,P.mode,X,ce),M.return=P,M):(M=h(M,L),M.return=P,M)}function Z(P,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Xh(""+M,P.mode,L),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case R:return L=Su(M.type,M.key,M.props,null,P.mode,L),Yo(L,M),L.return=P,L;case H:return M=$h(M,P.mode,L),M.return=P,M;case S:var X=M._init;return M=X(M._payload),Z(P,M,L)}if(xe(M)||D(M))return M=_r(M,P.mode,L,null),M.return=P,M;if(typeof M.then=="function")return Z(P,Bu(M),L);if(M.$$typeof===ue)return Z(P,Iu(P,M),L);qu(P,M)}return null}function z(P,M,L,X){var ce=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ce!==null?null:T(P,M,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case R:return L.key===ce?C(P,M,L,X):null;case H:return L.key===ce?j(P,M,L,X):null;case S:return ce=L._init,L=ce(L._payload),z(P,M,L,X)}if(xe(L)||D(L))return ce!==null?null:K(P,M,L,X,null);if(typeof L.then=="function")return z(P,M,Bu(L),X);if(L.$$typeof===ue)return z(P,M,Iu(P,L),X);qu(P,L)}return null}function q(P,M,L,X,ce){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(L)||null,T(M,P,""+X,ce);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case R:return P=P.get(X.key===null?L:X.key)||null,C(M,P,X,ce);case H:return P=P.get(X.key===null?L:X.key)||null,j(M,P,X,ce);case S:var Ne=X._init;return X=Ne(X._payload),q(P,M,L,X,ce)}if(xe(X)||D(X))return P=P.get(L)||null,K(M,P,X,ce,null);if(typeof X.then=="function")return q(P,M,L,Bu(X),ce);if(X.$$typeof===ue)return q(P,M,L,Iu(M,X),ce);qu(M,X)}return null}function Ee(P,M,L,X){for(var ce=null,Ne=null,de=M,ye=M=0,Ut=null;de!==null&&ye<L.length;ye++){de.index>ye?(Ut=de,de=null):Ut=de.sibling;var qe=z(P,de,L[ye],X);if(qe===null){de===null&&(de=Ut);break}t&&de&&qe.alternate===null&&i(P,de),M=f(qe,M,ye),Ne===null?ce=qe:Ne.sibling=qe,Ne=qe,de=Ut}if(ye===L.length)return a(P,de),He&&Er(P,ye),ce;if(de===null){for(;ye<L.length;ye++)de=Z(P,L[ye],X),de!==null&&(M=f(de,M,ye),Ne===null?ce=de:Ne.sibling=de,Ne=de);return He&&Er(P,ye),ce}for(de=l(de);ye<L.length;ye++)Ut=q(de,P,ye,L[ye],X),Ut!==null&&(t&&Ut.alternate!==null&&de.delete(Ut.key===null?ye:Ut.key),M=f(Ut,M,ye),Ne===null?ce=Ut:Ne.sibling=Ut,Ne=Ut);return t&&de.forEach(function(Rs){return i(P,Rs)}),He&&Er(P,ye),ce}function pe(P,M,L,X){if(L==null)throw Error(r(151));for(var ce=null,Ne=null,de=M,ye=M=0,Ut=null,qe=L.next();de!==null&&!qe.done;ye++,qe=L.next()){de.index>ye?(Ut=de,de=null):Ut=de.sibling;var Rs=z(P,de,qe.value,X);if(Rs===null){de===null&&(de=Ut);break}t&&de&&Rs.alternate===null&&i(P,de),M=f(Rs,M,ye),Ne===null?ce=Rs:Ne.sibling=Rs,Ne=Rs,de=Ut}if(qe.done)return a(P,de),He&&Er(P,ye),ce;if(de===null){for(;!qe.done;ye++,qe=L.next())qe=Z(P,qe.value,X),qe!==null&&(M=f(qe,M,ye),Ne===null?ce=qe:Ne.sibling=qe,Ne=qe);return He&&Er(P,ye),ce}for(de=l(de);!qe.done;ye++,qe=L.next())qe=q(de,P,ye,qe.value,X),qe!==null&&(t&&qe.alternate!==null&&de.delete(qe.key===null?ye:qe.key),M=f(qe,M,ye),Ne===null?ce=qe:Ne.sibling=qe,Ne=qe);return t&&de.forEach(function(xb){return i(P,xb)}),He&&Er(P,ye),ce}function Je(P,M,L,X){if(typeof L=="object"&&L!==null&&L.type===G&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case R:e:{for(var ce=L.key;M!==null;){if(M.key===ce){if(ce=L.type,ce===G){if(M.tag===7){a(P,M.sibling),X=h(M,L.props.children),X.return=P,P=X;break e}}else if(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===S&&qp(ce)===M.type){a(P,M.sibling),X=h(M,L.props),Yo(X,L),X.return=P,P=X;break e}a(P,M);break}else i(P,M);M=M.sibling}L.type===G?(X=_r(L.props.children,P.mode,X,L.key),X.return=P,P=X):(X=Su(L.type,L.key,L.props,null,P.mode,X),Yo(X,L),X.return=P,P=X)}return v(P);case H:e:{for(ce=L.key;M!==null;){if(M.key===ce)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){a(P,M.sibling),X=h(M,L.children||[]),X.return=P,P=X;break e}else{a(P,M);break}else i(P,M);M=M.sibling}X=$h(L,P.mode,X),X.return=P,P=X}return v(P);case S:return ce=L._init,L=ce(L._payload),Je(P,M,L,X)}if(xe(L))return Ee(P,M,L,X);if(D(L)){if(ce=D(L),typeof ce!="function")throw Error(r(150));return L=ce.call(L),pe(P,M,L,X)}if(typeof L.then=="function")return Je(P,M,Bu(L),X);if(L.$$typeof===ue)return Je(P,M,Iu(P,L),X);qu(P,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(a(P,M.sibling),X=h(M,L),X.return=P,P=X):(a(P,M),X=Xh(L,P.mode,X),X.return=P,P=X),v(P)):a(P,M)}return function(P,M,L,X){try{Qo=0;var ce=Je(P,M,L,X);return Ea=null,ce}catch(de){if(de===Lo||de===Nu)throw de;var Ne=gn(29,de,null,P.mode);return Ne.lanes=X,Ne.return=P,Ne}finally{}}}var Ta=Hp(!0),Fp=Hp(!1),Vn=W(null),ai=null;function hs(t){var i=t.alternate;te(Nt,Nt.current&1),te(Vn,t),ai===null&&(i===null||pa.current!==null||i.memoizedState!==null)&&(ai=t)}function Gp(t){if(t.tag===22){if(te(Nt,Nt.current),te(Vn,t),ai===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ai=t)}}else fs()}function fs(){te(Nt,Nt.current),te(Vn,Vn.current)}function Pi(t){se(Vn),ai===t&&(ai=null),se(Nt)}var Nt=W(0);function Hu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||vd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Nf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Df={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=vn(),h=ls(l);h.payload=i,a!=null&&(h.callback=a),i=us(t,h,l),i!==null&&(En(i,t,l),zo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=vn(),h=ls(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=us(t,h,l),i!==null&&(En(i,t,l),zo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=vn(),l=ls(a);l.tag=2,i!=null&&(l.callback=i),i=us(t,l,a),i!==null&&(En(i,t,a),zo(i,t,a))}};function Kp(t,i,a,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):i.prototype&&i.prototype.isPureReactComponent?!No(a,l)||!No(h,f):!0}function Qp(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Df.enqueueReplaceState(i,i.state,null)}function xr(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Yp(t){Fu(t)}function Xp(t){console.error(t)}function $p(t){Fu(t)}function Gu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Zp(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(t,i,a){return a=ls(a),a.tag=3,a.payload={element:null},a.callback=function(){Gu(t,i)},a}function Wp(t){return t=ls(t),t.tag=3,t}function Jp(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Zp(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Zp(i,a,l),typeof h!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function x1(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Vo(i,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 13:return ai===null?nd():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===of?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),sd(t,l,h)),!1;case 22:return a.flags|=65536,l===of?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),sd(t,l,h)),!1}throw Error(r(435,a.tag))}return sd(t,l,h),nd(),!1}if(He)return i=Vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Jh&&(t=Error(r(422),{cause:l}),ko(Dn(t,a)))):(l!==Jh&&(i=Error(r(423),{cause:l}),ko(Dn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Dn(l,a),h=Mf(t.stateNode,l,h),cf(t,h),ht!==4&&(ht=2)),!1;var f=Error(r(520),{cause:l});if(f=Dn(f,a),tl===null?tl=[f]:tl.push(f),ht!==4&&(ht=2),i===null)return!0;l=Dn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Mf(a.stateNode,l,t),cf(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(_s===null||!_s.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Wp(h),Jp(h,t,a,l),cf(a,h),!1}a=a.return}while(a!==null);return!1}var ey=Error(r(461)),Vt=!1;function Bt(t,i,a,l){i.child=t===null?Fp(i,null,a,l):Ta(i,t.child,a,l)}function ty(t,i,a,l,h){a=a.render;var f=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Sr(i),l=gf(t,i,a,v,f,h),T=pf(),t!==null&&!Vt?(yf(t,i,h),Ui(t,i,h)):(He&&T&&Zh(i),i.flags|=1,Bt(t,i,l,h),i.child)}function ny(t,i,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Yh(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,iy(t,i,f,l,h)):(t=Su(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!zf(t,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:No,a(v,l)&&t.ref===i.ref)return Ui(t,i,h)}return i.flags|=1,t=Ni(f,l),t.ref=i.ref,t.return=i,i.child=t}function iy(t,i,a,l,h){if(t!==null){var f=t.memoizedProps;if(No(f,l)&&t.ref===i.ref)if(Vt=!1,i.pendingProps=l=f,zf(t,h))(t.flags&131072)!==0&&(Vt=!0);else return i.lanes=t.lanes,Ui(t,i,h)}return Of(t,i,a,l,h)}function sy(t,i,a){var l=i.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(h=i.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~l}else i.childLanes=0,i.child=null;return ry(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Cu(i,f!==null?f.cachePool:null),f!==null?ip(i,f):ff(),Gp(i);else return i.lanes=i.childLanes=536870912,ry(t,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(Cu(i,f.cachePool),ip(i,f),fs(),i.memoizedState=null):(t!==null&&Cu(i,null),ff(),fs());return Bt(t,i,h,a),i.child}function ry(t,i,a,l){var h=af();return h=h===null?null:{parent:Ct._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Cu(i,null),ff(),Gp(i),t!==null&&Vo(t,i,l,!0),null}function Ku(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Of(t,i,a,l,h){return Sr(i),a=gf(t,i,a,l,void 0,h),l=pf(),t!==null&&!Vt?(yf(t,i,h),Ui(t,i,h)):(He&&l&&Zh(i),i.flags|=1,Bt(t,i,a,h),i.child)}function ay(t,i,a,l,h,f){return Sr(i),i.updateQueue=null,a=rp(i,l,a,h),sp(t),l=pf(),t!==null&&!Vt?(yf(t,i,f),Ui(t,i,f)):(He&&l&&Zh(i),i.flags|=1,Bt(t,i,a,f),i.child)}function oy(t,i,a,l,h){if(Sr(i),i.stateNode===null){var f=ha,v=a.contextType;typeof v=="object"&&v!==null&&(f=Yt(v)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},lf(i),v=a.contextType,f.context=typeof v=="object"&&v!==null?Yt(v):ha,f.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Nf(i,a,v,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Df.enqueueReplaceState(f,f.state,null),qo(i,l,f,h),Bo(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var T=i.memoizedProps,C=xr(a,T);f.props=C;var j=f.context,K=a.contextType;v=ha,typeof K=="object"&&K!==null&&(v=Yt(K));var Z=a.getDerivedStateFromProps;K=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||j!==v)&&Qp(i,f,l,v),os=!1;var z=i.memoizedState;f.state=z,qo(i,l,f,h),Bo(),j=i.memoizedState,T||z!==j||os?(typeof Z=="function"&&(Nf(i,a,Z,l),j=i.memoizedState),(C=os||Kp(i,a,C,l,z,j,v))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),f.props=l,f.state=j,f.context=v,l=C):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,uf(t,i),v=i.memoizedProps,K=xr(a,v),f.props=K,Z=i.pendingProps,z=f.context,j=a.contextType,C=ha,typeof j=="object"&&j!==null&&(C=Yt(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Z||z!==C)&&Qp(i,f,l,C),os=!1,z=i.memoizedState,f.state=z,qo(i,l,f,h),Bo();var q=i.memoizedState;v!==Z||z!==q||os||t!==null&&t.dependencies!==null&&xu(t.dependencies)?(typeof T=="function"&&(Nf(i,a,T,l),q=i.memoizedState),(K=os||Kp(i,a,K,l,z,q,C)||t!==null&&t.dependencies!==null&&xu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,C)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),f.props=l,f.state=q,f.context=C,l=K):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,Ku(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=Ta(i,t.child,null,h),i.child=Ta(i,null,a,h)):Bt(t,i,a,h),i.memoizedState=f.state,t=i.child):t=Ui(t,i,h),t}function ly(t,i,a,l){return Oo(),i.flags|=256,Bt(t,i,a,l),i.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(t){return{baseLanes:t,cachePool:Xg()}}function Pf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Pn),t}function uy(t,i,a){var l=i.pendingProps,h=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Nt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(h?hs(i):fs(),He){var T=ct,C;if(C=T){e:{for(C=T,T=ri;C.nodeType!==8;){if(!T){T=null;break e}if(C=Fn(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(i.memoizedState={dehydrated:T,treeContext:vr!==null?{id:Di,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},C=gn(18,null,null,0),C.stateNode=T,C.return=i,i.child=C,sn=i,ct=null,C=!0):C=!1}C||br(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return vd(T)?i.lanes=32:i.lanes=536870912,null;Pi(i)}return T=l.children,l=l.fallback,h?(fs(),h=i.mode,T=Qu({mode:"hidden",children:T},h),l=_r(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Vf(a),h.childLanes=Pf(t,v,a),i.memoizedState=kf,l):(hs(i),Uf(i,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(f)i.flags&256?(hs(i),i.flags&=-257,i=Lf(t,i,a)):i.memoizedState!==null?(fs(),i.child=t.child,i.flags|=128,i=null):(fs(),h=l.fallback,T=i.mode,l=Qu({mode:"visible",children:l.children},T),h=_r(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ta(i,t.child,null,a),l=i.child,l.memoizedState=Vf(a),l.childLanes=Pf(t,v,a),i.memoizedState=kf,i=h);else if(hs(i),vd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(r(419)),l.stack="",l.digest=v,ko({value:l,source:null,stack:null}),i=Lf(t,i,a)}else if(Vt||Vo(t,i,a,!1),v=(a&t.childLanes)!==0,Vt||v){if(v=tt,v!==null&&(l=a&-a,l=(l&42)!==0?1:Ji(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,ca(t,l),En(v,t,l),ey;T.data==="$?"||nd(),i=Lf(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,ct=Fn(T.nextSibling),sn=i,He=!0,Tr=null,ri=!1,t!==null&&(On[kn++]=Di,On[kn++]=Mi,On[kn++]=vr,Di=t.id,Mi=t.overflow,vr=i),i=Uf(i,l.children),i.flags|=4096);return i}return h?(fs(),h=l.fallback,T=i.mode,C=t.child,j=C.sibling,l=Ni(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,j!==null?h=Ni(j,h):(h=_r(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Vf(a):(C=T.cachePool,C!==null?(j=Ct._currentValue,C=C.parent!==j?{parent:j,pool:j}:C):C=Xg(),T={baseLanes:T.baseLanes|a,cachePool:C}),h.memoizedState=T,h.childLanes=Pf(t,v,a),i.memoizedState=kf,l):(hs(i),a=t.child,t=a.sibling,a=Ni(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Uf(t,i){return i=Qu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Qu(t,i){return t=gn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Lf(t,i,a){return Ta(i,t.child,null,a),t=Uf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function cy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),tf(t.return,i,a)}function jf(t,i,a,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function hy(t,i,a){var l=i.pendingProps,h=l.revealOrder,f=l.tail;if(Bt(t,i,l.children,a),l=Nt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cy(t,a,i);else if(t.tag===19)cy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(te(Nt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Hu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),jf(i,!1,h,a,f);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Hu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}jf(i,!0,a,null,f);break;case"together":jf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ui(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),ys|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Vo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Ni(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ni(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function zf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&xu(t)))}function I1(t,i,a){switch(i.tag){case 3:Ke(i,i.stateNode.containerInfo),as(i,Ct,t.memoizedState.cache),Oo();break;case 27:case 5:Sn(i);break;case 4:Ke(i,i.stateNode.containerInfo);break;case 10:as(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(hs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?uy(t,i,a):(hs(i),t=Ui(t,i,a),t!==null?t.sibling:null);hs(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Vo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return hy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(Nt,Nt.current),l)break;return null;case 22:case 23:return i.lanes=0,sy(t,i,a);case 24:as(i,Ct,t.memoizedState.cache)}return Ui(t,i,a)}function fy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Vt=!0;else{if(!zf(t,a)&&(i.flags&128)===0)return Vt=!1,I1(t,i,a);Vt=(t.flags&131072)!==0}else Vt=!1,He&&(i.flags&1048576)!==0&&qg(i,Ru,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Yh(l)?(t=xr(l,t),i.tag=1,i=oy(null,i,l,t,a)):(i.tag=0,i=Of(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===De){i.tag=11,i=ty(null,i,l,t,a);break e}else if(h===k){i.tag=14,i=ny(null,i,l,t,a);break e}}throw i=Se(l)||l,Error(r(306,i,""))}}return i;case 0:return Of(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=xr(l,i.pendingProps),oy(t,i,l,h,a);case 3:e:{if(Ke(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var f=i.memoizedState;h=f.element,uf(t,i),qo(i,l,null,a);var v=i.memoizedState;if(l=v.cache,as(i,Ct,l),l!==f.cache&&nf(i,[Ct],a,!0),Bo(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=ly(t,i,l,a);break e}else if(l!==h){h=Dn(Error(r(424)),i),ko(h),i=ly(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=Fn(t.firstChild),sn=i,He=!0,Tr=null,ri=!0,a=Fp(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Oo(),l===h){i=Ui(t,i,a);break e}Bt(t,i,l,a)}i=i.child}return i;case 26:return Ku(t,i),t===null?(a=p_(i.type,null,i.pendingProps,null))?i.memoizedState=a:He||(a=i.type,t=i.pendingProps,l=oc(ve.current).createElement(a),l[Rt]=i,l[_t]=t,Ht(l,a,t),dt(l),i.stateNode=l):i.memoizedState=p_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Sn(i),t===null&&He&&(l=i.stateNode=d_(i.type,i.pendingProps,ve.current),sn=i,ri=!0,h=ct,Ts(i.type)?(Ed=h,ct=Fn(l.firstChild)):ct=h),Bt(t,i,i.pendingProps.children,a),Ku(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&He&&((h=l=ct)&&(l=nb(l,i.type,i.pendingProps,ri),l!==null?(i.stateNode=l,sn=i,ct=Fn(l.firstChild),ri=!1,h=!0):h=!1),h||br(i)),Sn(i),h=i.type,f=i.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,pd(h,f)?l=null:v!==null&&pd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=gf(t,i,E1,null,null,a),cl._currentValue=h),Ku(t,i),Bt(t,i,l,a),i.child;case 6:return t===null&&He&&((t=a=ct)&&(a=ib(a,i.pendingProps,ri),a!==null?(i.stateNode=a,sn=i,ct=null,t=!0):t=!1),t||br(i)),null;case 13:return uy(t,i,a);case 4:return Ke(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ta(i,null,l,a):Bt(t,i,l,a),i.child;case 11:return ty(t,i,i.type,i.pendingProps,a);case 7:return Bt(t,i,i.pendingProps,a),i.child;case 8:return Bt(t,i,i.pendingProps.children,a),i.child;case 12:return Bt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,as(i,i.type,l.value),Bt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Sr(i),h=Yt(h),l=l(h),i.flags|=1,Bt(t,i,l,a),i.child;case 14:return ny(t,i,i.type,i.pendingProps,a);case 15:return iy(t,i,i.type,i.pendingProps,a);case 19:return hy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=Qu(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ni(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return sy(t,i,a);case 24:return Sr(i),l=Yt(Ct),t===null?(h=af(),h===null&&(h=tt,f=sf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:l,cache:h},lf(i),as(i,Ct,h)):((t.lanes&a)!==0&&(uf(t,i),qo(i,null,null,a),Bo()),h=t.memoizedState,f=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),as(i,Ct,l)):(l=f.cache,as(i,Ct,l),l!==h.cache&&nf(i,[Ct],a,!0))),Bt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Li(t){t.flags|=4}function dy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!T_(i)){if(i=Vn.current,i!==null&&((ze&4194048)===ze?ai!==null:(ze&62914560)!==ze&&(ze&536870912)===0||i!==ai))throw jo=of,$g;t.flags|=8192}}function Yu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ho():536870912,t.lanes|=i,wa|=i)}function Xo(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function C1(t,i,a){var l=i.pendingProps;switch(Wh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(i),null;case 1:return ot(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ki(Ct),An(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Mo(i)?Li(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Gg())),ot(i),null;case 26:return a=i.memoizedState,t===null?(Li(i),a!==null?(ot(i),dy(i,a)):(ot(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Li(i),ot(i),dy(i,a)):(ot(i),i.flags&=-16777217):(t.memoizedProps!==l&&Li(i),ot(i),i.flags&=-16777217),null;case 27:wt(i),a=ve.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Li(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ot(i),null}t=fe.current,Mo(i)?Hg(i):(t=d_(h,l,a),i.stateNode=t,Li(i))}return ot(i),null;case 5:if(wt(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Li(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ot(i),null}if(t=fe.current,Mo(i))Hg(i);else{switch(h=oc(ve.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Rt]=i,t[_t]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Ht(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Li(i)}}return ot(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Li(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=ve.current,Mo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=sn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Rt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||a_(t.nodeValue,a)),t||br(i)}else t=oc(t).createTextNode(l),t[Rt]=i,i.stateNode=t}return ot(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Mo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Rt]=i}else Oo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),h=!1}else h=Gg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Pi(i),i):(Pi(i),null)}if(Pi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Yu(i,i.updateQueue),ot(i),null;case 4:return An(),t===null&&hd(i.stateNode.containerInfo),ot(i),null;case 10:return ki(i.type),ot(i),null;case 19:if(se(Nt),h=i.memoizedState,h===null)return ot(i),null;if(l=(i.flags&128)!==0,f=h.rendering,f===null)if(l)Xo(h,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=Hu(t),f!==null){for(i.flags|=128,Xo(h,!1),t=f.updateQueue,i.updateQueue=t,Yu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Bg(a,t),a=a.sibling;return te(Nt,Nt.current&1|2),i.child}t=t.sibling}h.tail!==null&&wn()>Zu&&(i.flags|=128,l=!0,Xo(h,!1),i.lanes=4194304)}else{if(!l)if(t=Hu(f),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Yu(i,t),Xo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!He)return ot(i),null}else 2*wn()-h.renderingStartTime>Zu&&a!==536870912&&(i.flags|=128,l=!0,Xo(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(t=h.last,t!==null?t.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=wn(),i.sibling=null,t=Nt.current,te(Nt,l?t&1|2:t&1),i):(ot(i),null);case 22:case 23:return Pi(i),df(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ot(i),i.subtreeFlags&6&&(i.flags|=8192)):ot(i),a=i.updateQueue,a!==null&&Yu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&se(wr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ki(Ct),ot(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function N1(t,i){switch(Wh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ki(Ct),An(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return wt(i),null;case 13:if(Pi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Oo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return se(Nt),null;case 4:return An(),null;case 10:return ki(i.type),null;case 22:case 23:return Pi(i),df(),t!==null&&se(wr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ki(Ct),null;case 25:return null;default:return null}}function my(t,i){switch(Wh(i),i.tag){case 3:ki(Ct),An();break;case 26:case 27:case 5:wt(i);break;case 4:An();break;case 13:Pi(i);break;case 19:se(Nt);break;case 10:ki(i.type);break;case 22:case 23:Pi(i),df(),t!==null&&se(wr);break;case 24:ki(Ct)}}function $o(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){et(i,i.return,T)}}function ds(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var C=a,j=T;try{j()}catch(K){et(h,C,K)}}}l=l.next}while(l!==f)}}catch(K){et(i,i.return,K)}}function gy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{np(i,a)}catch(l){et(t,t.return,l)}}}function py(t,i,a){a.props=xr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){et(t,i,l)}}function Zo(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){et(t,i,h)}}function oi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){et(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){et(t,i,h)}else a.current=null}function yy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){et(t,t.return,h)}}function Bf(t,i,a){try{var l=t.stateNode;Z1(l,t.type,a,i),l[_t]=i}catch(h){et(t,t.return,h)}}function _y(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ts(t.type)||t.tag===4}function qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_y(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ts(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ac));else if(l!==4&&(l===27&&Ts(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Hf(t,i,a),t=t.sibling;t!==null;)Hf(t,i,a),t=t.sibling}function Xu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Ts(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Xu(t,i,a),t=t.sibling;t!==null;)Xu(t,i,a),t=t.sibling}function vy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ht(i,l,a),i[Rt]=t,i[_t]=a}catch(f){et(t,t.return,f)}}var ji=!1,gt=!1,Ff=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function D1(t,i){if(t=t.containerInfo,md=dc,t=Dg(t),Bh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,T=-1,C=-1,j=0,K=0,Z=t,z=null;t:for(;;){for(var q;Z!==a||h!==0&&Z.nodeType!==3||(T=v+h),Z!==f||l!==0&&Z.nodeType!==3||(C=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(q=Z.firstChild)!==null;)z=Z,Z=q;for(;;){if(Z===t)break t;if(z===a&&++j===h&&(T=v),z===f&&++K===l&&(C=v),(q=Z.nextSibling)!==null)break;Z=z,z=Z.parentNode}Z=q}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(gd={focusedElem:t,selectionRange:a},dc=!1,Pt=i;Pt!==null;)if(i=Pt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Pt=t;else for(;Pt!==null;){switch(i=Pt,f=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Ee=xr(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ee,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(pe){et(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)_d(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_d(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Pt=t;break}Pt=i.return}}function Ty(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ms(t,a),l&4&&$o(5,a);break;case 1:if(ms(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){et(a,a.return,v)}else{var h=xr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){et(a,a.return,v)}}l&64&&gy(a),l&512&&Zo(a,a.return);break;case 3:if(ms(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{np(t,i)}catch(v){et(a,a.return,v)}}break;case 27:i===null&&l&4&&vy(a);case 26:case 5:ms(t,a),i===null&&l&4&&yy(a),l&512&&Zo(a,a.return);break;case 12:ms(t,a);break;case 13:ms(t,a),l&4&&Sy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=z1.bind(null,a),sb(t,a))));break;case 22:if(l=a.memoizedState!==null||ji,!l){i=i!==null&&i.memoizedState!==null||gt,h=ji;var f=gt;ji=l,(gt=i)&&!f?gs(t,a,(a.subtreeFlags&8772)!==0):ms(t,a),ji=h,gt=f}break;case 30:break;default:ms(t,a)}}function by(t){var i=t.alternate;i!==null&&(t.alternate=null,by(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ns(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,an=!1;function zi(t,i,a){for(a=a.child;a!==null;)Ay(t,i,a),a=a.sibling}function Ay(t,i,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ut,a)}catch{}switch(a.tag){case 26:gt||oi(a,i),zi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:gt||oi(a,i);var l=rt,h=an;Ts(a.type)&&(rt=a.stateNode,an=!1),zi(t,i,a),al(a.stateNode),rt=l,an=h;break;case 5:gt||oi(a,i);case 6:if(l=rt,h=an,rt=null,zi(t,i,a),rt=l,an=h,rt!==null)if(an)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(f){et(a,i,f)}else try{rt.removeChild(a.stateNode)}catch(f){et(a,i,f)}break;case 18:rt!==null&&(an?(t=rt,h_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ml(t)):h_(rt,a.stateNode));break;case 4:l=rt,h=an,rt=a.stateNode.containerInfo,an=!0,zi(t,i,a),rt=l,an=h;break;case 0:case 11:case 14:case 15:gt||ds(2,a,i),gt||ds(4,a,i),zi(t,i,a);break;case 1:gt||(oi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&py(a,i,l)),zi(t,i,a);break;case 21:zi(t,i,a);break;case 22:gt=(l=gt)||a.memoizedState!==null,zi(t,i,a),gt=l;break;default:zi(t,i,a)}}function Sy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ml(t)}catch(a){et(i,i.return,a)}}function M1(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Ey),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Ey),i;default:throw Error(r(435,t.tag))}}function Gf(t,i){var a=M1(t);i.forEach(function(l){var h=B1.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function pn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Ts(T.type)){rt=T.stateNode,an=!1;break e}break;case 5:rt=T.stateNode,an=!1;break e;case 3:case 4:rt=T.stateNode.containerInfo,an=!0;break e}T=T.return}if(rt===null)throw Error(r(160));Ay(f,v,h),rt=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)wy(i,t),i=i.sibling}var Hn=null;function wy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(i,t),yn(t),l&4&&(ds(3,t,t.return),$o(3,t),ds(5,t,t.return));break;case 1:pn(i,t),yn(t),l&512&&(gt||a===null||oi(a,a.return)),l&64&&ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Hn;if(pn(i,t),yn(t),l&512&&(gt||a===null||oi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[nr]||f[Rt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ht(f,l,a),f[Rt]=t,dt(f),l=f;break e;case"link":var v=v_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}f=h.createElement(l),Ht(f,l,a),h.head.appendChild(f);break;case"meta":if(v=v_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}f=h.createElement(l),Ht(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[Rt]=t,dt(f),l=f}t.stateNode=l}else E_(h,t.type,t.stateNode);else t.stateNode=__(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?E_(h,t.type,t.stateNode):__(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Bf(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(i,t),yn(t),l&512&&(gt||a===null||oi(a,a.return)),a!==null&&l&4&&Bf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(i,t),yn(t),l&512&&(gt||a===null||oi(a,a.return)),t.flags&32){h=t.stateNode;try{xn(h,"")}catch(q){et(t,t.return,q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Bf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ff=!0);break;case 6:if(pn(i,t),yn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(q){et(t,t.return,q)}}break;case 3:if(cc=null,h=Hn,Hn=lc(i.containerInfo),pn(i,t),Hn=h,yn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ml(i.containerInfo)}catch(q){et(t,t.return,q)}Ff&&(Ff=!1,Ry(t));break;case 4:l=Hn,Hn=lc(t.stateNode.containerInfo),pn(i,t),yn(t),Hn=l;break;case 12:pn(i,t),yn(t);break;case 13:pn(i,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Zf=wn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gf(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,j=ji,K=gt;if(ji=j||h,gt=K||C,pn(i,t),gt=K,ji=j,yn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||ji||gt||Ir(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(f=C.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=C.stateNode;var Z=C.memoizedProps.style,z=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(q){et(C,C.return,q)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(q){et(C,C.return,q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Gf(t,a))));break;case 19:pn(i,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gf(t,l)));break;case 30:break;case 21:break;default:pn(i,t),yn(t)}}function yn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(_y(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=qf(t);Xu(t,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(xn(v,""),a.flags&=-33);var T=qf(t);Xu(t,T,v);break;case 3:case 4:var C=a.stateNode.containerInfo,j=qf(t);Hf(t,j,C);break;default:throw Error(r(161))}}catch(K){et(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ry(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ry(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ms(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ty(t,i.alternate,i),i=i.sibling}function Ir(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ds(4,i,i.return),Ir(i);break;case 1:oi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&py(i,i.return,a),Ir(i);break;case 27:al(i.stateNode);case 26:case 5:oi(i,i.return),Ir(i);break;case 22:i.memoizedState===null&&Ir(i);break;case 30:Ir(i);break;default:Ir(i)}t=t.sibling}}function gs(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:gs(h,f,a),$o(4,f);break;case 1:if(gs(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){et(l,l.return,j)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)tp(C[h],T)}catch(j){et(l,l.return,j)}}a&&v&64&&gy(f),Zo(f,f.return);break;case 27:vy(f);case 26:case 5:gs(h,f,a),a&&l===null&&v&4&&yy(f),Zo(f,f.return);break;case 12:gs(h,f,a);break;case 13:gs(h,f,a),a&&v&4&&Sy(h,f);break;case 22:f.memoizedState===null&&gs(h,f,a),Zo(f,f.return);break;case 30:break;default:gs(h,f,a)}i=i.sibling}}function Kf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Po(a))}function Qf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Po(t))}function li(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)xy(t,i,a,l),i=i.sibling}function xy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:li(t,i,a,l),h&2048&&$o(9,i);break;case 1:li(t,i,a,l);break;case 3:li(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Po(t)));break;case 12:if(h&2048){li(t,i,a,l),t=i.stateNode;try{var f=i.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){et(i,i.return,C)}}else li(t,i,a,l);break;case 13:li(t,i,a,l);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?li(t,i,a,l):Wo(t,i):f._visibility&2?li(t,i,a,l):(f._visibility|=2,ba(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Kf(v,i);break;case 24:li(t,i,a,l),h&2048&&Qf(i.alternate,i);break;default:li(t,i,a,l)}}function ba(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=t,v=i,T=a,C=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:ba(f,v,T,C,h),$o(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?ba(f,v,T,C,h):Wo(f,v):(K._visibility|=2,ba(f,v,T,C,h)),h&&j&2048&&Kf(v.alternate,v);break;case 24:ba(f,v,T,C,h),h&&j&2048&&Qf(v.alternate,v);break;default:ba(f,v,T,C,h)}i=i.sibling}}function Wo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Wo(a,l),h&2048&&Kf(l.alternate,l);break;case 24:Wo(a,l),h&2048&&Qf(l.alternate,l);break;default:Wo(a,l)}i=i.sibling}}var Jo=8192;function Aa(t){if(t.subtreeFlags&Jo)for(t=t.child;t!==null;)Iy(t),t=t.sibling}function Iy(t){switch(t.tag){case 26:Aa(t),t.flags&Jo&&t.memoizedState!==null&&yb(Hn,t.memoizedState,t.memoizedProps);break;case 5:Aa(t);break;case 3:case 4:var i=Hn;Hn=lc(t.stateNode.containerInfo),Aa(t),Hn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Jo,Jo=16777216,Aa(t),Jo=i):Aa(t));break;default:Aa(t)}}function Cy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function el(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,Dy(l,t)}Cy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ny(t),t=t.sibling}function Ny(t){switch(t.tag){case 0:case 11:case 15:el(t),t.flags&2048&&ds(9,t,t.return);break;case 3:el(t);break;case 12:el(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,$u(t)):el(t);break;default:el(t)}}function $u(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,Dy(l,t)}Cy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ds(8,i,i.return),$u(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,$u(i));break;default:$u(i)}t=t.sibling}}function Dy(t,i){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:ds(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Po(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=t;Pt!==null;){l=Pt;var h=l.sibling,f=l.return;if(by(l),l===a){Pt=null;break e}if(h!==null){h.return=f,Pt=h;break e}Pt=f}}}var O1={getCacheForType:function(t){var i=Yt(Ct),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},k1=typeof WeakMap=="function"?WeakMap:Map,Ye=0,tt=null,Oe=null,ze=0,Xe=0,_n=null,ps=!1,Sa=!1,Yf=!1,Bi=0,ht=0,ys=0,Cr=0,Xf=0,Pn=0,wa=0,tl=null,on=null,$f=!1,Zf=0,Zu=1/0,Wu=null,_s=null,qt=0,vs=null,Ra=null,xa=0,Wf=0,Jf=null,My=null,nl=0,ed=null;function vn(){if((Ye&2)!==0&&ze!==0)return ze&-ze;if(B.T!==null){var t=ma;return t!==0?t:od()}return es()}function Oy(){Pn===0&&(Pn=(ze&536870912)===0||He?co():536870912);var t=Vn.current;return t!==null&&(t.flags|=32),Pn}function En(t,i,a){(t===tt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Ia(t,0),Es(t,ze,Pn,!1)),vi(t,a),((Ye&2)===0||t!==tt)&&(t===tt&&((Ye&2)===0&&(Cr|=a),ht===4&&Es(t,ze,Pn,!1)),ui(t))}function ky(t,i,a){if((Ye&6)!==0)throw Error(r(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||tr(t,i),h=l?U1(t,i):id(t,i,!0),f=l;do{if(h===0){Sa&&!l&&Es(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!V1(a)){h=id(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=tl;var C=T.current.memoizedState.isDehydrated;if(C&&(Ia(T,v).flags|=256),v=id(T,v,!1),v!==2){if(Yf&&!C){T.errorRecoveryDisabledLanes|=f,Cr|=f,h=4;break e}f=on,on=h,f!==null&&(on===null?on=f:on.push.apply(on,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Ia(t,0),Es(t,i,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Es(l,i,Pn,!ps);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=Zf+300-wn(),10<h)){if(Es(l,i,Pn,!ps),Gr(l,0,!0)!==0)break e;l.timeoutHandle=u_(Vy.bind(null,l,a,on,Wu,$f,i,Pn,Cr,wa,ps,f,2,-0,0),h);break e}Vy(l,a,on,Wu,$f,i,Pn,Cr,wa,ps,f,0,-0,0)}}break}while(!0);ui(t)}function Vy(t,i,a,l,h,f,v,T,C,j,K,Z,z,q){if(t.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(ul={stylesheets:null,count:0,unsuspend:pb},Iy(i),Z=_b(),Z!==null)){t.cancelPendingCommit=Z(qy.bind(null,t,i,f,a,l,h,v,T,C,K,1,z,q)),Es(t,f,v,!j);return}qy(t,i,f,a,l,h,v,T,C)}function V1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Es(t,i,a,l){i&=~Xf,i&=~Cr,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var f=31-Qt(h),v=1<<f;l[f]=-1,h&=~v}a!==0&&Yn(t,a,i)}function Ju(){return(Ye&6)===0?(il(0),!1):!0}function td(){if(Oe!==null){if(Xe===0)var t=Oe.return;else t=Oe,Oi=Ar=null,_f(t),Ea=null,Qo=0,t=Oe;for(;t!==null;)my(t.alternate,t),t=t.return;Oe=null}}function Ia(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,J1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),td(),tt=t,Oe=a=Ni(t.current,null),ze=i,Xe=0,_n=null,ps=!1,Sa=tr(t,i),Yf=!1,wa=Pn=Xf=Cr=ys=ht=0,on=tl=null,$f=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Qt(l),f=1<<h;i|=t[h],l&=~f}return Bi=i,Tu(),a}function Py(t,i){Ie=null,B.H=zu,i===Lo||i===Nu?(i=Jg(),Xe=3):i===$g?(i=Jg(),Xe=4):Xe=i===ey?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,_n=i,Oe===null&&(ht=1,Gu(t,Dn(i,t.current)))}function Uy(){var t=B.H;return B.H=zu,t===null?zu:t}function Ly(){var t=B.A;return B.A=O1,t}function nd(){ht=4,ps||(ze&4194048)!==ze&&Vn.current!==null||(Sa=!0),(ys&134217727)===0&&(Cr&134217727)===0||tt===null||Es(tt,ze,Pn,!1)}function id(t,i,a){var l=Ye;Ye|=2;var h=Uy(),f=Ly();(tt!==t||ze!==i)&&(Wu=null,Ia(t,i)),i=!1;var v=ht;e:do try{if(Xe!==0&&Oe!==null){var T=Oe,C=_n;switch(Xe){case 8:td(),v=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(i=!0);var j=Xe;if(Xe=0,_n=null,Ca(t,T,C,j),a&&Sa){v=0;break e}break;default:j=Xe,Xe=0,_n=null,Ca(t,T,C,j)}}P1(),v=ht;break}catch(K){Py(t,K)}while(!0);return i&&t.shellSuspendCounter++,Oi=Ar=null,Ye=l,B.H=h,B.A=f,Oe===null&&(tt=null,ze=0,Tu()),v}function P1(){for(;Oe!==null;)jy(Oe)}function U1(t,i){var a=Ye;Ye|=2;var l=Uy(),h=Ly();tt!==t||ze!==i?(Wu=null,Zu=wn()+500,Ia(t,i)):Sa=tr(t,i);e:do try{if(Xe!==0&&Oe!==null){i=Oe;var f=_n;t:switch(Xe){case 1:Xe=0,_n=null,Ca(t,i,f,1);break;case 2:case 9:if(Zg(f)){Xe=0,_n=null,zy(i);break}i=function(){Xe!==2&&Xe!==9||tt!==t||(Xe=7),ui(t)},f.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Zg(f)?(Xe=0,_n=null,zy(i)):(Xe=0,_n=null,Ca(t,i,f,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var T=Oe;if(!v||T_(v)){Xe=0,_n=null;var C=T.sibling;if(C!==null)Oe=C;else{var j=T.return;j!==null?(Oe=j,ec(j)):Oe=null}break t}}Xe=0,_n=null,Ca(t,i,f,5);break;case 6:Xe=0,_n=null,Ca(t,i,f,6);break;case 8:td(),ht=6;break e;default:throw Error(r(462))}}L1();break}catch(K){Py(t,K)}while(!0);return Oi=Ar=null,B.H=l,B.A=h,Ye=a,Oe!==null?0:(tt=null,ze=0,Tu(),ht)}function L1(){for(;Oe!==null&&!ao();)jy(Oe)}function jy(t){var i=fy(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,i===null?ec(t):Oe=i}function zy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=ay(a,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=ay(a,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:_f(i);default:my(a,i),i=Oe=Bg(i,Bi),i=fy(a,i,Bi)}t.memoizedProps=t.pendingProps,i===null?ec(t):Oe=i}function Ca(t,i,a,l){Oi=Ar=null,_f(i),Ea=null,Qo=0;var h=i.return;try{if(x1(t,h,i,a,ze)){ht=1,Gu(t,Dn(a,t.current)),Oe=null;return}}catch(f){if(h!==null)throw Oe=h,f;ht=1,Gu(t,Dn(a,t.current)),Oe=null;return}i.flags&32768?(He||l===1?t=!0:Sa||(ze&536870912)!==0?t=!1:(ps=t=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),By(i,t)):ec(i)}function ec(t){var i=t;do{if((i.flags&32768)!==0){By(i,ps);return}t=i.return;var a=C1(i.alternate,i,Bi);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);ht===0&&(ht=5)}function By(t,i){do{var a=N1(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);ht=6,Oe=null}function qy(t,i,a,l,h,f,v,T,C){t.cancelPendingCommit=null;do tc();while(qt!==0);if((Ye&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=Kh,fo(t,a,f,v,T,C),t===tt&&(Oe=tt=null,ze=0),Ra=i,vs=t,xa=a,Wf=f,Jf=h,My=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,q1(Zs,function(){return Qy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,h=Y.p,Y.p=2,v=Ye,Ye|=4;try{D1(t,i,a)}finally{Ye=v,Y.p=h,B.T=l}}qt=1,Hy(),Fy(),Gy()}}function Hy(){if(qt===1){qt=0;var t=vs,i=Ra,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var l=Y.p;Y.p=2;var h=Ye;Ye|=4;try{wy(i,t);var f=gd,v=Dg(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&Ng(T.ownerDocument.documentElement,T)){if(C!==null&&Bh(T)){var j=C.start,K=C.end;if(K===void 0&&(K=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(K,T.value.length);else{var Z=T.ownerDocument||document,z=Z&&Z.defaultView||window;if(z.getSelection){var q=z.getSelection(),Ee=T.textContent.length,pe=Math.min(C.start,Ee),Je=C.end===void 0?pe:Math.min(C.end,Ee);!q.extend&&pe>Je&&(v=Je,Je=pe,pe=v);var P=Cg(T,pe),M=Cg(T,Je);if(P&&M&&(q.rangeCount!==1||q.anchorNode!==P.node||q.anchorOffset!==P.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var L=Z.createRange();L.setStart(P.node,P.offset),q.removeAllRanges(),pe>Je?(q.addRange(L),q.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),q.addRange(L))}}}}for(Z=[],q=T;q=q.parentNode;)q.nodeType===1&&Z.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var X=Z[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}dc=!!md,gd=md=null}finally{Ye=h,Y.p=l,B.T=a}}t.current=i,qt=2}}function Fy(){if(qt===2){qt=0;var t=vs,i=Ra,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var l=Y.p;Y.p=2;var h=Ye;Ye|=4;try{Ty(t,i.alternate,i)}finally{Ye=h,Y.p=l,B.T=a}}qt=3}}function Gy(){if(qt===4||qt===3){qt=0,$l();var t=vs,i=Ra,a=xa,l=My;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?qt=5:(qt=0,Ra=vs=null,Ky(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(_s=null),Kr(a),i=i.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ut,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=B.T,h=Y.p,Y.p=2,B.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];f(T.value,{componentStack:T.stack})}}finally{B.T=i,Y.p=h}}(xa&3)!==0&&tc(),ui(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===ed?nl++:(nl=0,ed=t):nl=0,il(0)}}function Ky(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Po(i)))}function tc(t){return Hy(),Fy(),Gy(),Qy()}function Qy(){if(qt!==5)return!1;var t=vs,i=Wf;Wf=0;var a=Kr(xa),l=B.T,h=Y.p;try{Y.p=32>a?32:a,B.T=null,a=Jf,Jf=null;var f=vs,v=xa;if(qt=0,Ra=vs=null,xa=0,(Ye&6)!==0)throw Error(r(331));var T=Ye;if(Ye|=4,Ny(f.current),xy(f,f.current,v,a),Ye=T,il(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ut,f)}catch{}return!0}finally{Y.p=h,B.T=l,Ky(t,i)}}function Yy(t,i,a){i=Dn(a,i),i=Mf(t.stateNode,i,2),t=us(t,i,2),t!==null&&(vi(t,2),ui(t))}function et(t,i,a){if(t.tag===3)Yy(t,t,a);else for(;i!==null;){if(i.tag===3){Yy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(_s===null||!_s.has(l))){t=Dn(a,t),a=Wp(2),l=us(i,a,2),l!==null&&(Jp(a,l,i,t),vi(l,2),ui(l));break}}i=i.return}}function sd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new k1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Yf=!0,h.add(a),t=j1.bind(null,t,i,a),i.then(t,t))}function j1(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(ze&a)===a&&(ht===4||ht===3&&(ze&62914560)===ze&&300>wn()-Zf?(Ye&2)===0&&Ia(t,0):Xf|=a,wa===ze&&(wa=0)),ui(t)}function Xy(t,i){i===0&&(i=ho()),t=ca(t,i),t!==null&&(vi(t,i),ui(t))}function z1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Xy(t,a)}function B1(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Xy(t,a)}function q1(t,i){return Xs(t,i)}var nc=null,Na=null,rd=!1,ic=!1,ad=!1,Nr=0;function ui(t){t!==Na&&t.next===null&&(Na===null?nc=Na=t:Na=Na.next=t),ic=!0,rd||(rd=!0,F1())}function il(t,i){if(!ad&&ic){ad=!0;do for(var a=!1,l=nc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Qt(42|t)+1)-1,f&=h&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Jy(l,f))}else f=ze,f=Gr(l,l===tt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||tr(l,f)||(a=!0,Jy(l,f));l=l.next}while(a);ad=!1}}function H1(){$y()}function $y(){ic=rd=!1;var t=0;Nr!==0&&(W1()&&(t=Nr),Nr=0);for(var i=wn(),a=null,l=nc;l!==null;){var h=l.next,f=Zy(l,i);f===0?(l.next=null,a===null?nc=h:a.next=h,h===null&&(Na=a)):(a=l,(t!==0||(f&3)!==0)&&(ic=!0)),l=h}il(t)}function Zy(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Qt(f),T=1<<v,C=h[v];C===-1?((T&a)===0||(T&l)!==0)&&(h[v]=uo(T,i)):C<=i&&(t.expiredLanes|=T),f&=~T}if(i=tt,a=ze,a=Gr(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&$s(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||tr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&$s(l),Kr(a)){case 2:case 8:a=Hr;break;case 32:a=Zs;break;case 268435456:a=Fr;break;default:a=Zs}return l=Wy.bind(null,t),a=Xs(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&$s(l),t.callbackPriority=2,t.callbackNode=null,2}function Wy(t,i){if(qt!==0&&qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(tc()&&t.callbackNode!==a)return null;var l=ze;return l=Gr(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ky(t,l,i),Zy(t,wn()),t.callbackNode!=null&&t.callbackNode===a?Wy.bind(null,t):null)}function Jy(t,i){if(tc())return null;ky(t,i,!0)}function F1(){eb(function(){(Ye&6)!==0?Xs(oo,H1):$y()})}function od(){return Nr===0&&(Nr=co()),Nr}function e_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Wr(""+t)}function t_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function G1(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var f=e_((h[_t]||null).action),v=l.submitter;v&&(i=(i=v[_t]||null)?e_(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var T=new Jr("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Nr!==0){var C=v?t_(h,v):new FormData(h);xf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=v?t_(h,v):new FormData(h),xf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var ld=0;ld<Gh.length;ld++){var ud=Gh[ld],K1=ud.toLowerCase(),Q1=ud[0].toUpperCase()+ud.slice(1);qn(K1,"on"+Q1)}qn(kg,"onAnimationEnd"),qn(Vg,"onAnimationIteration"),qn(Pg,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(c1,"onTransitionRun"),qn(h1,"onTransitionStart"),qn(f1,"onTransitionCancel"),qn(Ug,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sl));function n_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],C=T.instance,j=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=j;try{f(h)}catch(K){Fu(K)}h.currentTarget=null,f=C}else for(v=0;v<l.length;v++){if(T=l[v],C=T.instance,j=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=j;try{f(h)}catch(K){Fu(K)}h.currentTarget=null,f=C}}}}function ke(t,i){var a=i[go];a===void 0&&(a=i[go]=new Set);var l=t+"__bubble";a.has(l)||(i_(i,t,2,!1),a.add(l))}function cd(t,i,a){var l=0;i&&(l|=4),i_(a,t,l,i)}var sc="_reactListening"+Math.random().toString(36).slice(2);function hd(t){if(!t[sc]){t[sc]=!0,po.forEach(function(a){a!=="selectionchange"&&(Y1.has(a)||cd(a,!1,t),cd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[sc]||(i[sc]=!0,cd("selectionchange",!1,i))}}function i_(t,i,a,l){switch(x_(i)){case 2:var h=Tb;break;case 8:h=bb;break;default:h=wd}a=h.bind(null,i,a,t),h=void 0,!Cn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function fd(t,i,a,l,h){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Ei(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=f=v;continue e}T=T.parentNode}}l=l.return}au(function(){var j=f,K=In(a),Z=[];e:{var z=Lg.get(t);if(z!==void 0){var q=Jr,Ee=t;switch(t){case"keypress":if(ei(a)===0)break e;case"keydown":case"keyup":q=ra;break;case"focusin":Ee="focus",q=na;break;case"focusout":Ee="blur",q=na;break;case"beforeblur":case"afterblur":q=na;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=mu;break;case kg:case Vg:case Pg:q=ia;break;case Ug:q=pu;break;case"scroll":case"scrollend":q=ou;break;case"wheel":q=aa;break;case"copy":case"cut":case"paste":q=sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Io;break;case"toggle":case"beforetoggle":q=_u}var pe=(i&4)!==0,Je=!pe&&(t==="scroll"||t==="scrollend"),P=pe?z!==null?z+"Capture":null:z;pe=[];for(var M=j,L;M!==null;){var X=M;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||P===null||(X=ur(M,P),X!=null&&pe.push(rl(M,X,L))),Je)break;M=M.return}0<pe.length&&(z=new q(z,Ee,null,a,K),Z.push({event:z,listeners:pe}))}}if((i&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&a!==Si&&(Ee=a.relatedTarget||a.fromElement)&&(Ei(Ee)||Ee[Rn]))break e;if((q||z)&&(z=K.window===K?K:(z=K.ownerDocument)?z.defaultView||z.parentWindow:window,q?(Ee=a.relatedTarget||a.toElement,q=j,Ee=Ee?Ei(Ee):null,Ee!==null&&(Je=c(Ee),pe=Ee.tag,Ee!==Je||pe!==5&&pe!==27&&pe!==6)&&(Ee=null)):(q=null,Ee=j),q!==Ee)){if(pe=Nn,X="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Io,X="onPointerLeave",P="onPointerEnter",M="pointer"),Je=q==null?z:$n(q),L=Ee==null?z:$n(Ee),z=new pe(X,M+"leave",q,a,K),z.target=Je,z.relatedTarget=L,X=null,Ei(K)===j&&(pe=new pe(P,M+"enter",Ee,a,K),pe.target=L,pe.relatedTarget=Je,X=pe),Je=X,q&&Ee)t:{for(pe=q,P=Ee,M=0,L=pe;L;L=Da(L))M++;for(L=0,X=P;X;X=Da(X))L++;for(;0<M-L;)pe=Da(pe),M--;for(;0<L-M;)P=Da(P),L--;for(;M--;){if(pe===P||P!==null&&pe===P.alternate)break t;pe=Da(pe),P=Da(P)}pe=null}else pe=null;q!==null&&s_(Z,z,q,pe,!1),Ee!==null&&Je!==null&&s_(Z,Je,Ee,pe,!0)}}e:{if(z=j?$n(j):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var ce=Ag;else if(It(z))if(Sg)ce=o1;else{ce=r1;var Ne=s1}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&To(j.elementType)&&(ce=Ag):ce=a1;if(ce&&(ce=ce(t,j))){Ci(Z,ce,a,K);break e}Ne&&Ne(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&ss(z,"number",z.value)}switch(Ne=j?$n(j):window,t){case"focusin":(It(Ne)||Ne.contentEditable==="true")&&(oa=Ne,qh=j,Do=null);break;case"focusout":Do=qh=oa=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,Mg(Z,a,K);break;case"selectionchange":if(u1)break;case"keydown":case"keyup":Mg(Z,a,K)}var de;if(ii)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Le?F(t,a)&&(ye="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(_&&a.locale!=="ko"&&(Le||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Le&&(de=Ao()):(Jn=K,rs="value"in Jn?Jn.value:Jn.textContent,Le=!0)),Ne=rc(j,ye),0<Ne.length&&(ye=new Ro(ye,t,null,a,K),Z.push({event:ye,listeners:Ne}),de?ye.data=de:(de=ie(a),de!==null&&(ye.data=de)))),(de=m?xt(t,a):je(t,a))&&(ye=rc(j,"onBeforeInput"),0<ye.length&&(Ne=new Ro("onBeforeInput","beforeinput",null,a,K),Z.push({event:Ne,listeners:ye}),Ne.data=de)),G1(Z,t,j,a,K)}n_(Z,i)})}function rl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function rc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ur(t,a),h!=null&&l.unshift(rl(t,h,f)),h=ur(t,i),h!=null&&l.push(rl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Da(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function s_(t,i,a,l,h){for(var f=i._reactName,v=[];a!==null&&a!==l;){var T=a,C=T.alternate,j=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||j===null||(C=j,h?(j=ur(a,f),j!=null&&v.unshift(rl(a,j,C))):h||(j=ur(a,f),j!=null&&v.push(rl(a,j,C)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var X1=/\r\n?/g,$1=/\u0000|\uFFFD/g;function r_(t){return(typeof t=="string"?t:""+t).replace(X1,`
`).replace($1,"")}function a_(t,i){return i=r_(i),r_(t)===i}function ac(){}function We(t,i,a,l,h,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||xn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&xn(t,""+l);break;case"className":Zn(t,"class",l);break;case"tabIndex":Zn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Zn(t,a,l);break;case"style":Eo(t,l,f);break;case"data":if(i!=="object"){Zn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Wr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Wr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ac);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Wr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),is(t,"popover",l);break;case"xlinkActuate":jt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":jt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":jt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":jt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":jt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":jt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":jt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":jt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":jt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":is(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vh.get(a)||a,is(t,a,l))}}function dd(t,i,a,l,h,f){switch(a){case"style":Eo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?xn(t,l):(typeof l=="number"||typeof l=="bigint")&&xn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ac);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=t[_t]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):is(t,a,l)}}}function Ht(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:We(t,i,f,v,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":ke("invalid",t);var T=f=v=h=null,C=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":v=K;break;case"checked":C=K;break;case"defaultChecked":j=K;break;case"value":f=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:We(t,i,l,K,a,null)}}ar(t,f,T,C,j,v,h,!1),Zr(t);return;case"select":ke("invalid",t),l=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:We(t,i,h,T,a,null)}i=f,a=v,t.multiple=!!l,i!=null?Ai(t,!!l,i,!1):a!=null&&Ai(t,!!l,a,!0);return;case"textarea":ke("invalid",t),f=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:We(t,i,v,T,a,null)}or(t,l,h,f),Zr(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,C,l,a,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<sl.length;l++)ke(sl[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:We(t,i,j,l,a,null)}return;default:if(To(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&dd(t,i,K,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&We(t,i,T,l,a,null))}function Z1(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,T=null,C=null,j=null,K=null;for(q in a){var Z=a[q];if(a.hasOwnProperty(q)&&Z!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(q)||We(t,i,q,null,l,Z)}}for(var z in l){var q=l[z];if(Z=a[z],l.hasOwnProperty(z)&&(q!=null||Z!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":K=q;break;case"value":v=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:q!==Z&&We(t,i,z,q,l,Z)}}dn(t,v,T,C,j,K,f,h);return;case"select":q=v=T=z=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(f)||We(t,i,f,null,l,C)}for(h in l)if(f=l[h],C=a[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==C&&We(t,i,h,f,l,C)}i=T,a=v,l=q,z!=null?Ai(t,!!a,z,!1):!!l!=!!a&&(i!=null?Ai(t,!!a,i,!0):Ai(t,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(t,i,T,null,l,h)}for(v in l)if(h=l[v],f=a[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&We(t,i,v,h,l,f)}$e(t,z,q);return;case"option":for(var Ee in a)if(z=a[Ee],a.hasOwnProperty(Ee)&&z!=null&&!l.hasOwnProperty(Ee))switch(Ee){case"selected":t.selected=!1;break;default:We(t,i,Ee,null,l,z)}for(C in l)if(z=l[C],q=a[C],l.hasOwnProperty(C)&&z!==q&&(z!=null||q!=null))switch(C){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:We(t,i,C,z,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)z=a[pe],a.hasOwnProperty(pe)&&z!=null&&!l.hasOwnProperty(pe)&&We(t,i,pe,null,l,z);for(j in l)if(z=l[j],q=a[j],l.hasOwnProperty(j)&&z!==q&&(z!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,i));break;default:We(t,i,j,z,l,q)}return;default:if(To(i)){for(var Je in a)z=a[Je],a.hasOwnProperty(Je)&&z!==void 0&&!l.hasOwnProperty(Je)&&dd(t,i,Je,void 0,l,z);for(K in l)z=l[K],q=a[K],!l.hasOwnProperty(K)||z===q||z===void 0&&q===void 0||dd(t,i,K,z,l,q);return}}for(var P in a)z=a[P],a.hasOwnProperty(P)&&z!=null&&!l.hasOwnProperty(P)&&We(t,i,P,null,l,z);for(Z in l)z=l[Z],q=a[Z],!l.hasOwnProperty(Z)||z===q||z==null&&q==null||We(t,i,Z,z,l,q)}var md=null,gd=null;function oc(t){return t.nodeType===9?t:t.ownerDocument}function o_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function pd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var yd=null;function W1(){var t=window.event;return t&&t.type==="popstate"?t===yd?!1:(yd=t,!0):(yd=null,!1)}var u_=typeof setTimeout=="function"?setTimeout:void 0,J1=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,eb=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(t){return c_.resolve(null).then(t).catch(tb)}:u_;function tb(t){setTimeout(function(){throw t})}function Ts(t){return t==="head"}function h_(t,i){var a=i,l=0,h=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&al(v.documentElement),a&2&&al(v.body),a&4)for(a=v.head,al(a),v=a.firstChild;v;){var T=v.nextSibling,C=v.nodeName;v[nr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(f),ml(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);ml(i)}function _d(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_d(a),ns(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function nb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[nr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function ib(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fn(t.nextSibling),t===null))return null;return t}function vd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function sb(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Fn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Ed=null;function f_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function d_(t,i,a){switch(i=oc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function al(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ns(t)}var Un=new Map,m_=new Set;function lc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qi=Y.d;Y.d={f:rb,r:ab,D:ob,C:lb,L:ub,m:cb,X:fb,S:hb,M:db};function rb(){var t=qi.f(),i=Ju();return t||i}function ab(t){var i=Xn(t);i!==null&&i.tag===5&&i.type==="form"?kp(i):qi.r(t)}var Ma=typeof document>"u"?null:document;function g_(t,i,a){var l=Ma;if(l&&typeof i=="string"&&i){var h=vt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),m_.has(h)||(m_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ht(i,"link",t),dt(i),l.head.appendChild(i)))}}function ob(t){qi.D(t),g_("dns-prefetch",t,null)}function lb(t,i){qi.C(t,i),g_("preconnect",t,i)}function ub(t,i,a){qi.L(t,i,a);var l=Ma;if(l&&t&&i){var h='link[rel="preload"][as="'+vt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+vt(a.imageSizes)+'"]')):h+='[href="'+vt(t)+'"]';var f=h;switch(i){case"style":f=Oa(t);break;case"script":f=ka(t)}Un.has(f)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Un.set(f,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(ol(f))||i==="script"&&l.querySelector(ll(f))||(i=l.createElement("link"),Ht(i,"link",t),dt(i),l.head.appendChild(i)))}}function cb(t,i){qi.m(t,i);var a=Ma;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+vt(l)+'"][href="'+vt(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ka(t)}if(!Un.has(f)&&(t=b({rel:"modulepreload",href:t},i),Un.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ll(f)))return}l=a.createElement("link"),Ht(l,"link",t),dt(l),a.head.appendChild(l)}}}function hb(t,i,a){qi.S(t,i,a);var l=Ma;if(l&&t){var h=en(l).hoistableStyles,f=Oa(t);i=i||"default";var v=h.get(f);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(ol(f)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Un.get(f))&&Td(t,a);var C=v=l.createElement("link");dt(C),Ht(C,"link",t),C._p=new Promise(function(j,K){C.onload=j,C.onerror=K}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,uc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(f,v)}}}function fb(t,i){qi.X(t,i);var a=Ma;if(a&&t){var l=en(a).hoistableScripts,h=ka(t),f=l.get(h);f||(f=a.querySelector(ll(h)),f||(t=b({src:t,async:!0},i),(i=Un.get(h))&&bd(t,i),f=a.createElement("script"),dt(f),Ht(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function db(t,i){qi.M(t,i);var a=Ma;if(a&&t){var l=en(a).hoistableScripts,h=ka(t),f=l.get(h);f||(f=a.querySelector(ll(h)),f||(t=b({src:t,async:!0,type:"module"},i),(i=Un.get(h))&&bd(t,i),f=a.createElement("script"),dt(f),Ht(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function p_(t,i,a,l){var h=(h=ve.current)?lc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Oa(a.href),a=en(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Oa(a.href);var f=en(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(ol(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),f||mb(h,t,a,v.state))),i&&l===null)throw Error(r(528,""));return v}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ka(a),a=en(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Oa(t){return'href="'+vt(t)+'"'}function ol(t){return'link[rel="stylesheet"]['+t+"]"}function y_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function mb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ht(i,"link",a),dt(i),t.head.appendChild(i))}function ka(t){return'[src="'+vt(t)+'"]'}function ll(t){return"script[async]"+t}function __(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+vt(a.href)+'"]');if(l)return i.instance=l,dt(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),dt(l),Ht(l,"style",h),uc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Oa(a.href);var f=t.querySelector(ol(h));if(f)return i.state.loading|=4,i.instance=f,dt(f),f;l=y_(a),(h=Un.get(h))&&Td(l,h),f=(t.ownerDocument||t).createElement("link"),dt(f);var v=f;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Ht(f,"link",l),i.state.loading|=4,uc(f,a.precedence,t),i.instance=f;case"script":return f=ka(a.src),(h=t.querySelector(ll(f)))?(i.instance=h,dt(h),h):(l=a,(h=Un.get(f))&&(l=b({},a),bd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),dt(h),Ht(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,uc(l,a.precedence,t));return i.instance}function uc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Td(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function bd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var cc=null;function v_(t,i,a){if(cc===null){var l=new Map,h=cc=new Map;h.set(a,l)}else h=cc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[nr]||f[Rt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(f):l.set(v,[f])}}return l}function E_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function gb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function T_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ul=null;function pb(){}function yb(t,i,a){if(ul===null)throw Error(r(475));var l=ul;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Oa(a.href),f=t.querySelector(ol(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=hc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=f,dt(f);return}f=t.ownerDocument||t,a=y_(a),(h=Un.get(h))&&Td(a,h),f=f.createElement("link"),dt(f);var v=f;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Ht(f,"link",a),i.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=hc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function _b(){if(ul===null)throw Error(r(475));var t=ul;return t.stylesheets&&t.count===0&&Ad(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Ad(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function hc(){if(this.count--,this.count===0){if(this.stylesheets)Ad(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var fc=null;function Ad(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,fc=new Map,i.forEach(vb,t),fc=null,hc.call(t))}function vb(t,i){if(!(i.state.loading&4)){var a=fc.get(t);if(a)var l=a.get(null);else{a=new Map,fc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,h),a.set(v,h),this.count++,l=hc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var cl={$$typeof:ue,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function Eb(t,i,a,l,h,f,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function b_(t,i,a,l,h,f,v,T,C,j,K,Z){return t=new Eb(t,i,a,v,T,C,j,Z),i=1,f===!0&&(i|=24),f=gn(3,null,null,i),t.current=f,f.stateNode=t,i=sf(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},lf(f),t}function A_(t){return t?(t=ha,t):ha}function S_(t,i,a,l,h,f){h=A_(h),l.context===null?l.context=h:l.pendingContext=h,l=ls(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=us(t,l,i),a!==null&&(En(a,t,i),zo(a,t,i))}function w_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Sd(t,i){w_(t,i),(t=t.alternate)&&w_(t,i)}function R_(t){if(t.tag===13){var i=ca(t,67108864);i!==null&&En(i,t,67108864),Sd(t,67108864)}}var dc=!0;function Tb(t,i,a,l){var h=B.T;B.T=null;var f=Y.p;try{Y.p=2,wd(t,i,a,l)}finally{Y.p=f,B.T=h}}function bb(t,i,a,l){var h=B.T;B.T=null;var f=Y.p;try{Y.p=8,wd(t,i,a,l)}finally{Y.p=f,B.T=h}}function wd(t,i,a,l){if(dc){var h=Rd(l);if(h===null)fd(t,i,l,mc,a),I_(t,l);else if(Sb(h,t,i,a,l))l.stopPropagation();else if(I_(t,l),i&4&&-1<Ab.indexOf(t)){for(;h!==null;){var f=Xn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=jn(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-Qt(v);T.entanglements[1]|=C,v&=~C}ui(f),(Ye&6)===0&&(Zu=wn()+500,il(0))}}break;case 13:T=ca(f,2),T!==null&&En(T,f,2),Ju(),Sd(f,2)}if(f=Rd(l),f===null&&fd(t,i,l,mc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else fd(t,i,l,null,a)}}function Rd(t){return t=In(t),xd(t)}var mc=null;function xd(t){if(mc=null,t=Ei(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return mc=t,null}function x_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ch()){case oo:return 2;case Hr:return 8;case Zs:case Nh:return 32;case Fr:return 268435456;default:return 32}default:return 32}}var Id=!1,bs=null,As=null,Ss=null,hl=new Map,fl=new Map,ws=[],Ab="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(t,i){switch(t){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":hl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(i.pointerId)}}function dl(t,i,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Xn(i),i!==null&&R_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Sb(t,i,a,l,h){switch(i){case"focusin":return bs=dl(bs,t,i,a,l,h),!0;case"dragenter":return As=dl(As,t,i,a,l,h),!0;case"mouseover":return Ss=dl(Ss,t,i,a,l,h),!0;case"pointerover":var f=h.pointerId;return hl.set(f,dl(hl.get(f)||null,t,i,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,fl.set(f,dl(fl.get(f)||null,t,i,a,l,h)),!0}return!1}function C_(t){var i=Ei(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,Jl(t.priority,function(){if(a.tag===13){var l=vn();l=Ji(l);var h=ca(a,l);h!==null&&En(h,a,l),Sd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Rd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Si=l,a.target.dispatchEvent(l),Si=null}else return i=Xn(a),i!==null&&R_(i),t.blockedOn=a,!1;i.shift()}return!0}function N_(t,i,a){gc(t)&&a.delete(i)}function wb(){Id=!1,bs!==null&&gc(bs)&&(bs=null),As!==null&&gc(As)&&(As=null),Ss!==null&&gc(Ss)&&(Ss=null),hl.forEach(N_),fl.forEach(N_)}function pc(t,i){t.blockedOn===i&&(t.blockedOn=null,Id||(Id=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,wb)))}var yc=null;function D_(t){yc!==t&&(yc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){yc===t&&(yc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(xd(l||a)===null)continue;break}var f=Xn(a);f!==null&&(t.splice(i,3),i-=3,xf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ml(t){function i(C){return pc(C,t)}bs!==null&&pc(bs,t),As!==null&&pc(As,t),Ss!==null&&pc(Ss,t),hl.forEach(i),fl.forEach(i);for(var a=0;a<ws.length;a++){var l=ws[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ws.length&&(a=ws[0],a.blockedOn===null);)C_(a),a.blockedOn===null&&ws.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],v=h[_t]||null;if(typeof f=="function")v||D_(a);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[_t]||null)T=v.formAction;else if(xd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),D_(a)}}}function Cd(t){this._internalRoot=t}_c.prototype.render=Cd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=vn();S_(a,l,t,i,null,null)},_c.prototype.unmount=Cd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;S_(t.current,2,null,t,null,null),Ju(),i[Rn]=null}};function _c(t){this._internalRoot=t}_c.prototype.unstable_scheduleHydration=function(t){if(t){var i=es();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ws.length&&i!==0&&i<ws[a].priority;a++);ws.splice(a,0,t),a===0&&C_(t)}};var M_=e.version;if(M_!=="19.1.0")throw Error(r(527,M_,"19.1.0"));Y.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var Rb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{ut=vc.inject(Rb),Qe=vc}catch{}}return pl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",h=Yp,f=Xp,v=$p,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=b_(t,1,!1,null,null,a,l,h,f,v,T,null),t[Rn]=i.current,hd(t),new Cd(i)},pl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,h="",f=Yp,v=Xp,T=$p,C=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),i=b_(t,1,!0,i,a??null,l,h,f,v,T,C,j),i.context=A_(null),a=i.current,l=vn(),l=Ji(l),h=ls(l),h.callback=null,us(a,h,l),a=l,i.current.lanes=a,vi(i,a),ui(i),t[Rn]=i.current,hd(t),new _c(i)},pl.version="19.1.0",pl}var q_;function Pb(){if(q_)return Md.exports;q_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Md.exports=Vb(),Md.exports}var Ub=Pb();/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jb=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),H_=s=>{const e=jb(s);return e.charAt(0).toUpperCase()+e.slice(1)},D0=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),zb=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=he.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...g},p)=>he.createElement("svg",{ref:p,...Bb,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:D0("lucide",o),...!c&&!zb(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,b])=>he.createElement(y,b)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=(s,e)=>{const n=he.forwardRef(({className:r,...o},c)=>he.createElement(qb,{ref:c,iconNode:e,className:D0(`lucide-${Lb(H_(s))}`,`lucide-${s}`,r),...o}));return n.displayName=H_(s),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],Fb=at("brain-circuit",Hb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Kb=at("circle-check-big",Gb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Yb=at("circle-plus",Qb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],$b=at("external-link",Xb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m3 15 2 2 4-4",key:"1lhrkk"}]],Wb=at("file-check-2",Zb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],eA=at("file-text",Jb);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],nA=at("file-up",tA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],sA=at("house",iA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],aA=at("key-round",rA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],lA=at("list",oA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Uc=at("loader-circle",uA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],hA=at("log-out",cA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],dA=at("printer",fA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],gA=at("rotate-ccw",mA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],F_=at("sliders-horizontal",pA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],_A=at("square-pen",yA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],M0=at("tag",vA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],xm=at("trash-2",EA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],bA=at("trending-down",TA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],SA=at("trending-up",AA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],RA=at("triangle-alert",wA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],IA=at("upload",xA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],NA=at("user-check",CA);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],G_=at("zap",DA),MA=()=>{};var K_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},OA=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[n++],d=s[n++],g=s[n++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const c=s[n++],d=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},k0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,p=o+2<s.length,y=p?s[o+2]:0,b=c>>2,x=(c&3)<<4|g>>4;let R=(g&15)<<2|y>>6,H=y&63;p||(H=64,d||(R=64)),r.push(n[b],n[x],n[R],n[H])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(O0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):OA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=n[s.charAt(o++)],g=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const x=o<s.length?n[s.charAt(o)]:64;if(++o,c==null||g==null||y==null||x==null)throw new kA;const R=c<<2|g>>4;if(r.push(R),y!==64){const H=g<<4&240|y>>2;if(r.push(H),x!==64){const G=y<<6&192|x;r.push(G)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class kA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VA=function(s){const e=O0(s);return k0.encodeByteArray(e,!0)},Lc=function(s){return VA(s).replace(/\./g,"")},V0=function(s){try{return k0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=()=>PA().__FIREBASE_DEFAULTS__,LA=()=>{if(typeof process>"u"||typeof K_>"u")return;const s=K_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},jA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&V0(s[1]);return e&&JSON.parse(e)},sh=()=>{try{return MA()||UA()||LA()||jA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},P0=s=>sh()?.emulatorHosts?.[s],zA=s=>{const e=P0(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},U0=()=>sh()?.config,L0=s=>sh()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function j0(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Lc(JSON.stringify(n)),Lc(JSON.stringify(d)),""].join(".")}const Tl={};function HA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Tl))Tl[e]?s.emulator.push(e):s.prod.push(e);return s}function FA(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let Q_=!1;function z0(s,e){if(typeof window>"u"||typeof document>"u"||!Wa(window.location.host)||Tl[s]===e||Tl[s]||Q_)return;Tl[s]=e;function n(R){return`__firebase__banner__${R}`}const r="__firebase__banner",c=HA().prod.length>0;function d(){const R=document.getElementById(r);R&&R.remove()}function g(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function p(R,H){R.setAttribute("width","24"),R.setAttribute("id",H),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Q_=!0,d()},R}function b(R,H){R.setAttribute("id",H),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function x(){const R=FA(r),H=n("text"),G=document.getElementById(H)||document.createElement("span"),$=n("learnmore"),ee=document.getElementById($)||document.createElement("a"),ne=n("preprendIcon"),re=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const ue=R.element;g(ue),b(ee,$);const De=y();p(re,ne),ue.append(re,G,ee,De),document.body.appendChild(ue)}c?(G.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function KA(){const s=sh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function XA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $A(){const s=Jt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function ZA(){return!KA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WA(){try{return typeof indexedDB=="object"}catch{return!1}}function JA(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="FirebaseError";class Wi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eS,Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?tS(c,r):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Wi(o,g,r)}}function tS(s,e){return s.replace(nS,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const nS=/\{\$([^}]+)}/g;function iS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Pr(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=s[o],d=e[o];if(Y_(c)&&Y_(d)){if(!Pr(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Y_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sS(s,e){const n=new rS(s,e);return n.subscribe.bind(n)}class rS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Pd),o.error===void 0&&(o.error=Pd),o.complete===void 0&&(o.complete=Pd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aS(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Pd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(s){return s&&s._delegate?s._delegate:s}class Ur{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new BA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uS(e))try{this.getOrInitializeService({instanceIdentifier:Mr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=Mr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mr){return this.instances.has(e)}getOptions(e=Mr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mr){return this.component?this.component.multipleInstances?e:Mr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lS(s){return s===Mr?void 0:s}function uS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ve||(Ve={}));const hS={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},fS=Ve.INFO,dS={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},mS=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=dS[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Im{constructor(e){this.name=e,this._logLevel=fS,this._logHandler=mS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const gS=(s,e)=>e.some(n=>s instanceof n);let X_,$_;function pS(){return X_||(X_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yS(){return $_||($_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B0=new WeakMap,em=new WeakMap,q0=new WeakMap,Ud=new WeakMap,Cm=new WeakMap;function _S(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{n(Os(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&B0.set(n,s)}).catch(()=>{}),Cm.set(e,s),e}function vS(s){if(em.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{n(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});em.set(s,e)}let tm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return em.get(s);if(e==="objectStoreNames")return s.objectStoreNames||q0.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Os(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function ES(s){tm=s(tm)}function TS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Ld(this),e,...n);return q0.set(r,e.sort?e.sort():[e]),Os(r)}:yS().includes(s)?function(...e){return s.apply(Ld(this),e),Os(B0.get(this))}:function(...e){return Os(s.apply(Ld(this),e))}}function bS(s){return typeof s=="function"?TS(s):(s instanceof IDBTransaction&&vS(s),gS(s,pS())?new Proxy(s,tm):s)}function Os(s){if(s instanceof IDBRequest)return _S(s);if(Ud.has(s))return Ud.get(s);const e=bS(s);return e!==s&&(Ud.set(s,e),Cm.set(e,s)),e}const Ld=s=>Cm.get(s);function AS(s,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),g=Os(d);return r&&d.addEventListener("upgradeneeded",p=>{r(Os(d.result),p.oldVersion,p.newVersion,Os(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const SS=["get","getKey","getAll","getAllKeys","count"],wS=["put","add","delete","clear"],jd=new Map;function Z_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(jd.get(e))return jd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=wS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||SS.includes(n)))return;const c=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),o&&p.done]))[0]};return jd.set(e,c),c}ES(s=>({...s,get:(e,n,r)=>Z_(e,n)||s.get(e,n,r),has:(e,n)=>!!Z_(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xS(s){return s.getComponent()?.type==="VERSION"}const nm="@firebase/app",W_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new Im("@firebase/app"),IS="@firebase/app-compat",CS="@firebase/analytics-compat",NS="@firebase/analytics",DS="@firebase/app-check-compat",MS="@firebase/app-check",OS="@firebase/auth",kS="@firebase/auth-compat",VS="@firebase/database",PS="@firebase/data-connect",US="@firebase/database-compat",LS="@firebase/functions",jS="@firebase/functions-compat",zS="@firebase/installations",BS="@firebase/installations-compat",qS="@firebase/messaging",HS="@firebase/messaging-compat",FS="@firebase/performance",GS="@firebase/performance-compat",KS="@firebase/remote-config",QS="@firebase/remote-config-compat",YS="@firebase/storage",XS="@firebase/storage-compat",$S="@firebase/firestore",ZS="@firebase/ai",WS="@firebase/firestore-compat",JS="firebase",ew="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="[DEFAULT]",tw={[nm]:"fire-core",[IS]:"fire-core-compat",[NS]:"fire-analytics",[CS]:"fire-analytics-compat",[MS]:"fire-app-check",[DS]:"fire-app-check-compat",[OS]:"fire-auth",[kS]:"fire-auth-compat",[VS]:"fire-rtdb",[PS]:"fire-data-connect",[US]:"fire-rtdb-compat",[LS]:"fire-fn",[jS]:"fire-fn-compat",[zS]:"fire-iid",[BS]:"fire-iid-compat",[qS]:"fire-fcm",[HS]:"fire-fcm-compat",[FS]:"fire-perf",[GS]:"fire-perf-compat",[KS]:"fire-rc",[QS]:"fire-rc-compat",[YS]:"fire-gcs",[XS]:"fire-gcs-compat",[$S]:"fire-fst",[WS]:"fire-fst-compat",[ZS]:"fire-vertex","fire-js":"fire-js",[JS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new Map,nw=new Map,sm=new Map;function J_(s,e){try{s.container.addComponent(e)}catch(n){Ki.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Ga(s){const e=s.name;if(sm.has(e))return Ki.debug(`There were multiple attempts to register component ${e}.`),!1;sm.set(e,s);for(const n of jc.values())J_(n,s);for(const n of nw.values())J_(n,s);return!0}function Nm(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Gn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ks=new Ul("app","Firebase",iw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=ew;function H0(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:im,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw ks.create("bad-app-name",{appName:String(o)});if(n||(n=U0()),!n)throw ks.create("no-options");const c=jc.get(o);if(c){if(Pr(n,c.options)&&Pr(r,c.config))return c;throw ks.create("duplicate-app",{appName:o})}const d=new cS(o);for(const p of sm.values())d.addComponent(p);const g=new sw(n,r,d);return jc.set(o,g),g}function F0(s=im){const e=jc.get(s);if(!e&&s===im&&U0())return H0();if(!e)throw ks.create("no-app",{appName:s});return e}function Vs(s,e,n){let r=tw[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ki.warn(d.join(" "));return}Ga(new Ur(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="firebase-heartbeat-database",aw=1,Il="firebase-heartbeat-store";let zd=null;function G0(){return zd||(zd=AS(rw,aw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Il)}catch(n){console.warn(n)}}}}).catch(s=>{throw ks.create("idb-open",{originalErrorMessage:s.message})})),zd}async function ow(s){try{const n=(await G0()).transaction(Il),r=await n.objectStore(Il).get(K0(s));return await n.done,r}catch(e){if(e instanceof Wi)Ki.warn(e.message);else{const n=ks.create("idb-get",{originalErrorMessage:e?.message});Ki.warn(n.message)}}}async function ev(s,e){try{const r=(await G0()).transaction(Il,"readwrite");await r.objectStore(Il).put(e,K0(s)),await r.done}catch(n){if(n instanceof Wi)Ki.warn(n.message);else{const r=ks.create("idb-set",{originalErrorMessage:n?.message});Ki.warn(r.message)}}}function K0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=1024,uw=30;class cw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=tv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>uw){const o=dw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ki.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=tv(),{heartbeatsToSend:n,unsentEntries:r}=hw(this._heartbeatsCache.heartbeats),o=Lc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ki.warn(e),""}}}function tv(){return new Date().toISOString().substring(0,10)}function hw(s,e=lw){const n=[];let r=s.slice();for(const o of s){const c=n.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),nv(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),nv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WA()?JA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ow(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ev(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ev(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function nv(s){return Lc(JSON.stringify({version:2,heartbeats:s})).length}function dw(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(s){Ga(new Ur("platform-logger",e=>new RS(e),"PRIVATE")),Ga(new Ur("heartbeat",e=>new cw(e),"PRIVATE")),Vs(nm,W_,s),Vs(nm,W_,"esm2020"),Vs("fire-js","")}mw("");var gw="firebase",pw="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vs(gw,pw,"app");function Q0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yw=Q0,Y0=new Ul("auth","Firebase",Q0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Im("@firebase/auth");function _w(s,...e){zc.logLevel<=Ve.WARN&&zc.warn(`Auth (${Ja}): ${s}`,...e)}function xc(s,...e){zc.logLevel<=Ve.ERROR&&zc.error(`Auth (${Ja}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(s,...e){throw Dm(s,...e)}function hi(s,...e){return Dm(s,...e)}function X0(s,e,n){const r={...yw(),[e]:n};return new Ul("auth","Firebase",r).create(e,{appName:s.name})}function Ps(s){return X0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dm(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return Y0.create(s,...e)}function Te(s,e,...n){if(!s)throw Dm(e,...n)}function Hi(s){const e="INTERNAL ASSERTION FAILED: "+s;throw xc(e),new Error(e)}function Yi(s,e){s||Hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(){return typeof self<"u"&&self.location?.href||""}function vw(){return iv()==="http:"||iv()==="https:"}function iv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vw()||YA()||"connection"in navigator)?navigator.onLine:!0}function Tw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yi(n>e,"Short delay should be less than long delay!"),this.isMobile=GA()||XA()}get(){return Ew()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(s,e){Yi(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Sw=new jl(3e4,6e4);function rh(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function eo(s,e,n,r,o={}){return Z0(s,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const g=Ll({key:s.config.apiKey,...d}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:p,...c};return QA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Wa(s.emulatorConfig.host)&&(y.credentials="include"),$0.fetch()(await J0(s,s.config.apiHost,n,g),y)})}async function Z0(s,e,n){s._canInitEmulator=!1;const r={...bw,...e};try{const o=new ww(s),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ec(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(s,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Ec(s,"email-already-in-use",d);if(p==="USER_DISABLED")throw Ec(s,"user-disabled",d);const b=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw X0(s,b,y);Qi(s,b)}}catch(o){if(o instanceof Wi)throw o;Qi(s,"network-request-failed",{message:String(o)})}}async function W0(s,e,n,r,o={}){const c=await eo(s,e,n,r,o);return"mfaPendingCredential"in c&&Qi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function J0(s,e,n,r){const o=`${e}${n}?${r}`,c=s,d=c.config.emulator?Mm(s.config,o):`${s.config.apiScheme}://${o}`;return Aw.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class ww{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hi(this.auth,"network-request-failed")),Sw.get())})}}function Ec(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=hi(s,e,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rw(s,e){return eo(s,"POST","/v1/accounts:delete",e)}async function Bc(s,e){return eo(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xw(s,e=!1){const n=Mt(s),r=await n.getIdToken(e),o=Om(r);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:r,authTime:bl(Bd(o.auth_time)),issuedAtTime:bl(Bd(o.iat)),expirationTime:bl(Bd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Bd(s){return Number(s)*1e3}function Om(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=V0(n);return o?JSON.parse(o):(xc("Failed to decode base64 JWT payload"),null)}catch(o){return xc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function sv(s){const e=Om(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Wi&&Iw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Iw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(s){const e=s.auth,n=await s.getIdToken(),r=await Cl(s,Bc(e,{idToken:n}));Te(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?eE(o.providerUserInfo):[],d=Dw(s.providerData,c),g=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!d?.length,y=g?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new am(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function Nw(s){const e=Mt(s);await qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Dw(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function eE(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mw(s,e){const n=await Z0(s,{},async()=>{const r=Ll({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await J0(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:r};return s.emulatorConfig&&Wa(s.emulatorConfig.host)&&(p.credentials="include"),$0.fetch()(d,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ow(s,e){return eo(s,"POST","/v2/accounts:revokeToken",rh(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=sv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await Mw(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,d=new Ba;return r&&(Te(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Te(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Te(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ba,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Kn{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new Cw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new am(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Cl(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xw(this,e)}reload(){return Nw(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(Ps(this.auth));const e=await this.getIdToken();return await Cl(this,Rw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:x,emailVerified:R,isAnonymous:H,providerData:G,stsTokenManager:$}=n;Te(x&&$,e,"internal-error");const ee=Ba.fromJSON(this.name,$);Te(typeof x=="string",e,"internal-error"),xs(r,e.name),xs(o,e.name),Te(typeof R=="boolean",e,"internal-error"),Te(typeof H=="boolean",e,"internal-error"),xs(c,e.name),xs(d,e.name),xs(g,e.name),xs(p,e.name),xs(y,e.name),xs(b,e.name);const ne=new Kn({uid:x,auth:e,email:o,emailVerified:R,displayName:r,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:ee,createdAt:y,lastLoginAt:b});return G&&Array.isArray(G)&&(ne.providerData=G.map(re=>({...re}))),p&&(ne._redirectEventId=p),ne}static async _fromIdTokenResponse(e,n,r=!1){const o=new Ba;o.updateFromServerResponse(n);const c=new Kn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await qc(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?eE(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new Ba;g.updateFromIdToken(r);const p=new Kn({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new am(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=new Map;function Fi(s){Yi(s instanceof Function,"Expected a class definition");let e=rv.get(s);return e?(Yi(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,rv.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tE.type="NONE";const av=tE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(s,e,n){return`firebase:${s}:${e}:${n}`}class qa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Ic(this.userKey,o.apiKey,c),this.fullPersistenceKey=Ic("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bc(this.auth,{idToken:e}).catch(()=>{});return n?Kn._fromGetAccountInfoResponse(this.auth,n,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new qa(Fi(av),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Fi(av);const d=Ic(r,e.config.apiKey,e.name);let g=null;for(const y of n)try{const b=await y._get(d);if(b){let x;if(typeof b=="string"){const R=await Bc(e,{idToken:b}).catch(()=>{});if(!R)break;x=await Kn._fromGetAccountInfoResponse(e,R,b)}else x=Kn._fromJSON(e,b);y!==c&&(g=x),c=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new qa(c,e,r):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new qa(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oE(e))return"Blackberry";if(lE(e))return"Webos";if(iE(e))return"Safari";if((e.includes("chrome/")||sE(e))&&!e.includes("edge/"))return"Chrome";if(aE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function nE(s=Jt()){return/firefox\//i.test(s)}function iE(s=Jt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sE(s=Jt()){return/crios\//i.test(s)}function rE(s=Jt()){return/iemobile/i.test(s)}function aE(s=Jt()){return/android/i.test(s)}function oE(s=Jt()){return/blackberry/i.test(s)}function lE(s=Jt()){return/webos/i.test(s)}function km(s=Jt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function kw(s=Jt()){return km(s)&&!!window.navigator?.standalone}function Vw(){return $A()&&document.documentMode===10}function uE(s=Jt()){return km(s)||aE(s)||lE(s)||oE(s)||/windows phone/i.test(s)||rE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(s,e=[]){let n;switch(s){case"Browser":n=ov(Jt());break;case"Worker":n=`${ov(Jt())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ja}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((d,g)=>{try{const p=e(c);d(p)}catch(p){g(p)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uw(s,e={}){return eo(s,"GET","/v2/passwordPolicy",rh(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=6;class jw{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Lw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lv(this),this.idTokenSubscription=new lv(this),this.beforeStateQueue=new Pw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bc(this,{idToken:e}),r=await Kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(r=g.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Tw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(Ps(this));const n=e?Mt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(Ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(Ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Uw(this),n=new jw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ul("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ow(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fi(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await qa.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,o);return()=>{d=!0,p()}}else{const p=e.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_w(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ah(s){return Mt(s)}class lv{constructor(e){this.auth=e,this.observer=null,this.addObserver=sS(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Bw(s){Vm=s}function qw(s){return Vm.loadJS(s)}function Hw(){return Vm.gapiScript}function Fw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(s,e){const n=Nm(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Pr(c,e??{}))return o;Qi(o,"already-initialized")}return n.initialize({options:e})}function Kw(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Fi);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function Qw(s,e,n){const r=ah(s);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=hE(e),{host:d,port:g}=Yw(e),p=g===null?"":`:${g}`,y={url:`${c}//${d}${p}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(Pr(y,r.config.emulator)&&Pr(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,Wa(d)?(j0(`${c}//${d}${p}`),z0("Auth",!0)):Xw()}function hE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Yw(s){const e=hE(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:uv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:uv(d)}}}function uv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Xw(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hi("not implemented")}_getIdTokenResponse(e){return Hi("not implemented")}_linkToIdToken(e,n){return Hi("not implemented")}_getReauthenticationResolver(e){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(s,e){return W0(s,"POST","/v1/accounts:signInWithIdp",rh(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="http://localhost";class Lr extends fE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Lr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=n;if(!r||!o)return null;const d=new Lr(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return Ha(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ha(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ha(e,n)}buildRequest(){const e={requestUri:$w,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ll(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends dE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends zl{constructor(){super("facebook.com")}static credential(e){return Lr._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.FACEBOOK_SIGN_IN_METHOD="facebook.com";Is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends zl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Lr._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Cs.credential(n,r)}catch{return null}}}Cs.GOOGLE_SIGN_IN_METHOD="google.com";Cs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends zl{constructor(){super("github.com")}static credential(e){return Lr._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.GITHUB_SIGN_IN_METHOD="github.com";Ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends zl{constructor(){super("twitter.com")}static credential(e,n){return Lr._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ds.credential(n,r)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zw(s,e){return W0(s,"POST","/v1/accounts:signUp",rh(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await Kn._fromIdTokenResponse(e,r,o),d=cv(r);return new js({user:c,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=cv(r);return new js({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function cv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ww(s){if(Gn(s.app))return Promise.reject(Ps(s));const e=ah(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new js({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await Zw(e,{returnSecureToken:!0}),r=await js._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends Wi{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Hc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Hc(e,n,r,o)}}function mE(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Hc._fromErrorAndOperation(s,c,e,r):c})}async function Jw(s,e,n=!1){const r=await Cl(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return js._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(s,e,n=!1){const{auth:r}=s;if(Gn(r.app))return Promise.reject(Ps(r));const o="reauthenticate";try{const c=await Cl(s,mE(r,o,e,s),n);Te(c.idToken,r,"internal-error");const d=Om(c.idToken);Te(d,r,"internal-error");const{sub:g}=d;return Te(s.uid===g,r,"user-mismatch"),js._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Qi(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(s,e,n=!1){if(Gn(s.app))return Promise.reject(Ps(s));const r="signIn",o=await mE(s,r,e),c=await js._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(c.user),c}function n2(s,e,n,r){return Mt(s).onIdTokenChanged(e,n,r)}function i2(s,e,n){return Mt(s).beforeAuthStateChanged(e,n)}function s2(s,e,n,r){return Mt(s).onAuthStateChanged(e,n,r)}const Fc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fc,"1"),this.storage.removeItem(Fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=1e3,a2=10;class pE extends gE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);Vw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,a2):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},r2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pE.type="LOCAL";const o2=pE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE extends gE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yE.type="SESSION";const _E=yE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new oh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const g=Array.from(d).map(async y=>y(n.origin,c)),p=await l2(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const y=Pm("",20);o.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(x){const R=x;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(R.data.response);break;default:clearTimeout(b),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(){return window}function c2(s){fi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}async function h2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function f2(){return navigator?.serviceWorker?.controller||null}function d2(){return vE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="firebaseLocalStorageDb",m2=1,Gc="firebaseLocalStorage",TE="fbase_key";class Bl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lh(s,e){return s.transaction([Gc],e?"readwrite":"readonly").objectStore(Gc)}function g2(){const s=indexedDB.deleteDatabase(EE);return new Bl(s).toPromise()}function om(){const s=indexedDB.open(EE,m2);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Gc,{keyPath:TE})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Gc)?e(r):(r.close(),await g2(),e(await om()))})})}async function hv(s,e,n){const r=lh(s,!0).put({[TE]:e,value:n});return new Bl(r).toPromise()}async function p2(s,e){const n=lh(s,!1).get(e),r=await new Bl(n).toPromise();return r===void 0?null:r.value}function fv(s,e){const n=lh(s,!0).delete(e);return new Bl(n).toPromise()}const y2=800,_2=3;class bE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oh._getInstance(d2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await h2(),!this.activeServiceWorker)return;this.sender=new u2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||f2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await om();return await hv(e,Fc,"1"),await fv(e,Fc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>p2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=lh(o,!1).getAll();return new Bl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bE.type="LOCAL";const v2=bE;new jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(s,e){return e?Fi(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um extends fE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ha(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ha(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ha(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function T2(s){return t2(s.auth,new Um(s),s.bypassAuthState)}function b2(s){const{auth:e,user:n}=s;return Te(n,e,"internal-error"),e2(n,new Um(s),s.bypassAuthState)}async function A2(s){const{auth:e,user:n}=s;return Te(n,e,"internal-error"),Jw(n,new Um(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T2;case"linkViaPopup":case"linkViaRedirect":return A2;case"reauthViaPopup":case"reauthViaRedirect":return b2;default:Qi(this.auth,"internal-error")}}resolve(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=new jl(2e3,1e4);class za extends AE{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,za.currentPopupAction&&za.currentPopupAction.cancel(),za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Yi(this.filter.length===1,"Popup operations only handle one event");const e=Pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,za.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,S2.get())};e()}}za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="pendingRedirect",Cc=new Map;class R2 extends AE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cc.get(this.auth._key());if(!e){try{const r=await x2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cc.set(this.auth._key(),e)}return this.bypassAuthState||Cc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function x2(s,e){const n=N2(e),r=C2(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function I2(s,e){Cc.set(s._key(),e)}function C2(s){return Fi(s._redirectPersistence)}function N2(s){return Ic(w2,s.config.apiKey,s.name)}async function D2(s,e,n=!1){if(Gn(s.app))return Promise.reject(Ps(s));const r=ah(s),o=E2(r,e),d=await new R2(r,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=600*1e3;class O2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!k2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!SE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(hi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=M2&&this.cachedEventUids.clear(),this.cachedEventUids.has(dv(e))}saveEventToCache(e){this.cachedEventUids.add(dv(e)),this.lastProcessedEventTime=Date.now()}}function dv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function SE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function k2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(s,e={}){return eo(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U2=/^https?/;async function L2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await V2(s);for(const n of e)try{if(j2(n))return}catch{}Qi(s,"unauthorized-domain")}function j2(s){const e=rm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!U2.test(n))return!1;if(P2.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new jl(3e4,6e4);function mv(){const s=fi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function B2(s){return new Promise((e,n)=>{function r(){mv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mv(),n(hi(s,"network-request-failed"))},timeout:z2.get()})}if(fi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(fi().gapi?.load)r();else{const o=Fw("iframefcb");return fi()[o]=()=>{gapi.load?r():n(hi(s,"network-request-failed"))},qw(`${Hw()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Nc=null,e})}let Nc=null;function q2(s){return Nc=Nc||B2(s),Nc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new jl(5e3,15e3),F2="__/auth/iframe",G2="emulator/auth/iframe",K2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Q2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y2(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Mm(e,G2):`https://${s.config.authDomain}/${F2}`,r={apiKey:e.apiKey,appName:s.name,v:Ja},o=Q2.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${Ll(r).slice(1)}`}async function X2(s){const e=await q2(s),n=fi().gapi;return Te(n,s,"internal-error"),e.open({where:document.body,url:Y2(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:K2,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=hi(s,"network-request-failed"),g=fi().setTimeout(()=>{c(d)},H2.get());function p(){fi().clearTimeout(g),o(r)}r.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z2=500,W2=600,J2="_blank",eR="http://localhost";class gv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tR(s,e,n,r=Z2,o=W2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const p={...$2,width:r.toString(),height:o.toString(),top:c,left:d},y=Jt().toLowerCase();n&&(g=sE(y)?J2:n),nE(y)&&(e=e||eR,p.scrollbars="yes");const b=Object.entries(p).reduce((R,[H,G])=>`${R}${H}=${G},`,"");if(kw(y)&&g!=="_self")return nR(e||"",g),new gv(null);const x=window.open(e||"",g,b);Te(x,s,"popup-blocked");try{x.focus()}catch{}return new gv(x)}function nR(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="__/auth/handler",sR="emulator/auth/handler",rR=encodeURIComponent("fac");async function pv(s,e,n,r,o,c){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Ja,eventId:o};if(e instanceof dE){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",iS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,x]of Object.entries({}))d[b]=x}if(e instanceof zl){const b=e.getScopes().filter(x=>x!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const p=await s._getAppCheckToken(),y=p?`#${rR}=${encodeURIComponent(p)}`:"";return`${aR(s)}?${Ll(g).slice(1)}${y}`}function aR({config:s}){return s.emulator?Mm(s,sR):`https://${s.authDomain}/${iR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="webStorageSupport";class oR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_E,this._completeRedirectFn=D2,this._overrideRedirectResult=I2}async _openPopup(e,n,r,o){Yi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await pv(e,n,r,rm(),o);return tR(e,c,Pm())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await pv(e,n,r,rm(),o);return c2(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Yi(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await X2(e),r=new O2(e);return n.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qd,{type:qd},o=>{const c=o?.[0]?.[qd];c!==void 0&&n(!!c),Qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=L2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uE()||iE()||km()}}const lR=oR;var yv="@firebase/auth",_v="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hR(s){Ga(new Ur("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cE(s)},y=new zw(r,o,c,p);return Kw(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ga(new Ur("auth-internal",e=>{const n=ah(e.getProvider("auth").getImmediate());return(r=>new uR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vs(yv,_v,cR(s)),Vs(yv,_v,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=300,dR=L0("authIdTokenMaxAge")||fR;let vv=null;const mR=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dR)return;const o=n?.token;vv!==o&&(vv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function gR(s=F0()){const e=Nm(s,"auth");if(e.isInitialized())return e.getImmediate();const n=Gw(s,{popupRedirectResolver:lR,persistence:[v2,o2,_E]}),r=L0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=mR(c.toString());i2(n,d,()=>d(n.currentUser)),n2(n,g=>d(g))}}const o=P0("auth");return o&&Qw(n,`http://${o}`),n}function pR(){return document.getElementsByTagName("head")?.[0]??document}Bw({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=hi("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",pR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hR("Browser");var Ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Us,wE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function I(){}I.prototype=S.prototype,k.D=S.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(O,V,D){for(var w=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)w[Se-2]=arguments[Se];return S.prototype[V].apply(O,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,S,I){I||(I=0);var O=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)O[V]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(V=0;16>V;++V)O[V]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=k.g[0],I=k.g[1],V=k.g[2];var D=k.g[3],w=S+(D^I&(V^D))+O[0]+3614090360&4294967295;S=I+(w<<7&4294967295|w>>>25),w=D+(V^S&(I^V))+O[1]+3905402710&4294967295,D=S+(w<<12&4294967295|w>>>20),w=V+(I^D&(S^I))+O[2]+606105819&4294967295,V=D+(w<<17&4294967295|w>>>15),w=I+(S^V&(D^S))+O[3]+3250441966&4294967295,I=V+(w<<22&4294967295|w>>>10),w=S+(D^I&(V^D))+O[4]+4118548399&4294967295,S=I+(w<<7&4294967295|w>>>25),w=D+(V^S&(I^V))+O[5]+1200080426&4294967295,D=S+(w<<12&4294967295|w>>>20),w=V+(I^D&(S^I))+O[6]+2821735955&4294967295,V=D+(w<<17&4294967295|w>>>15),w=I+(S^V&(D^S))+O[7]+4249261313&4294967295,I=V+(w<<22&4294967295|w>>>10),w=S+(D^I&(V^D))+O[8]+1770035416&4294967295,S=I+(w<<7&4294967295|w>>>25),w=D+(V^S&(I^V))+O[9]+2336552879&4294967295,D=S+(w<<12&4294967295|w>>>20),w=V+(I^D&(S^I))+O[10]+4294925233&4294967295,V=D+(w<<17&4294967295|w>>>15),w=I+(S^V&(D^S))+O[11]+2304563134&4294967295,I=V+(w<<22&4294967295|w>>>10),w=S+(D^I&(V^D))+O[12]+1804603682&4294967295,S=I+(w<<7&4294967295|w>>>25),w=D+(V^S&(I^V))+O[13]+4254626195&4294967295,D=S+(w<<12&4294967295|w>>>20),w=V+(I^D&(S^I))+O[14]+2792965006&4294967295,V=D+(w<<17&4294967295|w>>>15),w=I+(S^V&(D^S))+O[15]+1236535329&4294967295,I=V+(w<<22&4294967295|w>>>10),w=S+(V^D&(I^V))+O[1]+4129170786&4294967295,S=I+(w<<5&4294967295|w>>>27),w=D+(I^V&(S^I))+O[6]+3225465664&4294967295,D=S+(w<<9&4294967295|w>>>23),w=V+(S^I&(D^S))+O[11]+643717713&4294967295,V=D+(w<<14&4294967295|w>>>18),w=I+(D^S&(V^D))+O[0]+3921069994&4294967295,I=V+(w<<20&4294967295|w>>>12),w=S+(V^D&(I^V))+O[5]+3593408605&4294967295,S=I+(w<<5&4294967295|w>>>27),w=D+(I^V&(S^I))+O[10]+38016083&4294967295,D=S+(w<<9&4294967295|w>>>23),w=V+(S^I&(D^S))+O[15]+3634488961&4294967295,V=D+(w<<14&4294967295|w>>>18),w=I+(D^S&(V^D))+O[4]+3889429448&4294967295,I=V+(w<<20&4294967295|w>>>12),w=S+(V^D&(I^V))+O[9]+568446438&4294967295,S=I+(w<<5&4294967295|w>>>27),w=D+(I^V&(S^I))+O[14]+3275163606&4294967295,D=S+(w<<9&4294967295|w>>>23),w=V+(S^I&(D^S))+O[3]+4107603335&4294967295,V=D+(w<<14&4294967295|w>>>18),w=I+(D^S&(V^D))+O[8]+1163531501&4294967295,I=V+(w<<20&4294967295|w>>>12),w=S+(V^D&(I^V))+O[13]+2850285829&4294967295,S=I+(w<<5&4294967295|w>>>27),w=D+(I^V&(S^I))+O[2]+4243563512&4294967295,D=S+(w<<9&4294967295|w>>>23),w=V+(S^I&(D^S))+O[7]+1735328473&4294967295,V=D+(w<<14&4294967295|w>>>18),w=I+(D^S&(V^D))+O[12]+2368359562&4294967295,I=V+(w<<20&4294967295|w>>>12),w=S+(I^V^D)+O[5]+4294588738&4294967295,S=I+(w<<4&4294967295|w>>>28),w=D+(S^I^V)+O[8]+2272392833&4294967295,D=S+(w<<11&4294967295|w>>>21),w=V+(D^S^I)+O[11]+1839030562&4294967295,V=D+(w<<16&4294967295|w>>>16),w=I+(V^D^S)+O[14]+4259657740&4294967295,I=V+(w<<23&4294967295|w>>>9),w=S+(I^V^D)+O[1]+2763975236&4294967295,S=I+(w<<4&4294967295|w>>>28),w=D+(S^I^V)+O[4]+1272893353&4294967295,D=S+(w<<11&4294967295|w>>>21),w=V+(D^S^I)+O[7]+4139469664&4294967295,V=D+(w<<16&4294967295|w>>>16),w=I+(V^D^S)+O[10]+3200236656&4294967295,I=V+(w<<23&4294967295|w>>>9),w=S+(I^V^D)+O[13]+681279174&4294967295,S=I+(w<<4&4294967295|w>>>28),w=D+(S^I^V)+O[0]+3936430074&4294967295,D=S+(w<<11&4294967295|w>>>21),w=V+(D^S^I)+O[3]+3572445317&4294967295,V=D+(w<<16&4294967295|w>>>16),w=I+(V^D^S)+O[6]+76029189&4294967295,I=V+(w<<23&4294967295|w>>>9),w=S+(I^V^D)+O[9]+3654602809&4294967295,S=I+(w<<4&4294967295|w>>>28),w=D+(S^I^V)+O[12]+3873151461&4294967295,D=S+(w<<11&4294967295|w>>>21),w=V+(D^S^I)+O[15]+530742520&4294967295,V=D+(w<<16&4294967295|w>>>16),w=I+(V^D^S)+O[2]+3299628645&4294967295,I=V+(w<<23&4294967295|w>>>9),w=S+(V^(I|~D))+O[0]+4096336452&4294967295,S=I+(w<<6&4294967295|w>>>26),w=D+(I^(S|~V))+O[7]+1126891415&4294967295,D=S+(w<<10&4294967295|w>>>22),w=V+(S^(D|~I))+O[14]+2878612391&4294967295,V=D+(w<<15&4294967295|w>>>17),w=I+(D^(V|~S))+O[5]+4237533241&4294967295,I=V+(w<<21&4294967295|w>>>11),w=S+(V^(I|~D))+O[12]+1700485571&4294967295,S=I+(w<<6&4294967295|w>>>26),w=D+(I^(S|~V))+O[3]+2399980690&4294967295,D=S+(w<<10&4294967295|w>>>22),w=V+(S^(D|~I))+O[10]+4293915773&4294967295,V=D+(w<<15&4294967295|w>>>17),w=I+(D^(V|~S))+O[1]+2240044497&4294967295,I=V+(w<<21&4294967295|w>>>11),w=S+(V^(I|~D))+O[8]+1873313359&4294967295,S=I+(w<<6&4294967295|w>>>26),w=D+(I^(S|~V))+O[15]+4264355552&4294967295,D=S+(w<<10&4294967295|w>>>22),w=V+(S^(D|~I))+O[6]+2734768916&4294967295,V=D+(w<<15&4294967295|w>>>17),w=I+(D^(V|~S))+O[13]+1309151649&4294967295,I=V+(w<<21&4294967295|w>>>11),w=S+(V^(I|~D))+O[4]+4149444226&4294967295,S=I+(w<<6&4294967295|w>>>26),w=D+(I^(S|~V))+O[11]+3174756917&4294967295,D=S+(w<<10&4294967295|w>>>22),w=V+(S^(D|~I))+O[2]+718787259&4294967295,V=D+(w<<15&4294967295|w>>>17),w=I+(D^(V|~S))+O[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(V+(w<<21&4294967295|w>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+D&4294967295}r.prototype.u=function(k,S){S===void 0&&(S=k.length);for(var I=S-this.blockSize,O=this.B,V=this.h,D=0;D<S;){if(V==0)for(;D<=I;)o(this,k,D),D+=this.blockSize;if(typeof k=="string"){for(;D<S;)if(O[V++]=k.charCodeAt(D++),V==this.blockSize){o(this,O),V=0;break}}else for(;D<S;)if(O[V++]=k[D++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=S},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;var I=8*this.o;for(S=k.length-8;S<k.length;++S)k[S]=I&255,I/=256;for(this.u(k),k=Array(16),S=I=0;4>S;++S)for(var O=0;32>O;O+=8)k[I++]=this.g[S]>>>O&255;return k};function c(k,S){var I=g;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=S(k)}function d(k,S){this.h=S;for(var I=[],O=!0,V=k.length-1;0<=V;V--){var D=k[V]|0;O&&D==S||(I[V]=D,O=!1)}this.g=I}var g={};function p(k){return-128<=k&&128>k?c(k,function(S){return new d([S|0],0>S?-1:0)}):new d([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return x;if(0>k)return ee(y(-k));for(var S=[],I=1,O=0;k>=I;O++)S[O]=k/I|0,I*=4294967296;return new d(S,0)}function b(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return ee(b(k.substring(1),S));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(S,8)),O=x,V=0;V<k.length;V+=8){var D=Math.min(8,k.length-V),w=parseInt(k.substring(V,V+D),S);8>D?(D=y(Math.pow(S,D)),O=O.j(D).add(y(w))):(O=O.j(I),O=O.add(y(w)))}return O}var x=p(0),R=p(1),H=p(16777216);s=d.prototype,s.m=function(){if($(this))return-ee(this).m();for(var k=0,S=1,I=0;I<this.g.length;I++){var O=this.i(I);k+=(0<=O?O:4294967296+O)*S,S*=4294967296}return k},s.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(G(this))return"0";if($(this))return"-"+ee(this).toString(k);for(var S=y(Math.pow(k,6)),I=this,O="";;){var V=De(I,S).g;I=ne(I,V.j(S));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=V,G(I))return D+O;for(;6>D.length;)D="0"+D;O=D+O}},s.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function G(k){if(k.h!=0)return!1;for(var S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function $(k){return k.h==-1}s.l=function(k){return k=ne(this,k),$(k)?-1:G(k)?0:1};function ee(k){for(var S=k.g.length,I=[],O=0;O<S;O++)I[O]=~k.g[O];return new d(I,~k.h).add(R)}s.abs=function(){return $(this)?ee(this):this},s.add=function(k){for(var S=Math.max(this.g.length,k.g.length),I=[],O=0,V=0;V<=S;V++){var D=O+(this.i(V)&65535)+(k.i(V)&65535),w=(D>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);O=w>>>16,D&=65535,w&=65535,I[V]=w<<16|D}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ne(k,S){return k.add(ee(S))}s.j=function(k){if(G(this)||G(k))return x;if($(this))return $(k)?ee(this).j(ee(k)):ee(ee(this).j(k));if($(k))return ee(this.j(ee(k)));if(0>this.l(H)&&0>k.l(H))return y(this.m()*k.m());for(var S=this.g.length+k.g.length,I=[],O=0;O<2*S;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<k.g.length;V++){var D=this.i(O)>>>16,w=this.i(O)&65535,Se=k.i(V)>>>16,xe=k.i(V)&65535;I[2*O+2*V]+=w*xe,re(I,2*O+2*V),I[2*O+2*V+1]+=D*xe,re(I,2*O+2*V+1),I[2*O+2*V+1]+=w*Se,re(I,2*O+2*V+1),I[2*O+2*V+2]+=D*Se,re(I,2*O+2*V+2)}for(O=0;O<S;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=S;O<2*S;O++)I[O]=0;return new d(I,0)};function re(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function ue(k,S){this.g=k,this.h=S}function De(k,S){if(G(S))throw Error("division by zero");if(G(k))return new ue(x,x);if($(k))return S=De(ee(k),S),new ue(ee(S.g),ee(S.h));if($(S))return S=De(k,ee(S)),new ue(ee(S.g),S.h);if(30<k.g.length){if($(k)||$(S))throw Error("slowDivide_ only works with positive integers.");for(var I=R,O=S;0>=O.l(k);)I=ge(I),O=ge(O);var V=Me(I,1),D=Me(O,1);for(O=Me(O,2),I=Me(I,2);!G(O);){var w=D.add(O);0>=w.l(k)&&(V=V.add(I),D=w),O=Me(O,1),I=Me(I,1)}return S=ne(k,V.j(S)),new ue(V,S)}for(V=x;0<=k.l(S);){for(I=Math.max(1,Math.floor(k.m()/S.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),D=y(I),w=D.j(S);$(w)||0<w.l(k);)I-=O,D=y(I),w=D.j(S);G(D)&&(D=R),V=V.add(D),k=ne(k,w)}return new ue(V,k)}s.A=function(k){return De(this,k).h},s.and=function(k){for(var S=Math.max(this.g.length,k.g.length),I=[],O=0;O<S;O++)I[O]=this.i(O)&k.i(O);return new d(I,this.h&k.h)},s.or=function(k){for(var S=Math.max(this.g.length,k.g.length),I=[],O=0;O<S;O++)I[O]=this.i(O)|k.i(O);return new d(I,this.h|k.h)},s.xor=function(k){for(var S=Math.max(this.g.length,k.g.length),I=[],O=0;O<S;O++)I[O]=this.i(O)^k.i(O);return new d(I,this.h^k.h)};function ge(k){for(var S=k.g.length+1,I=[],O=0;O<S;O++)I[O]=k.i(O)<<1|k.i(O-1)>>>31;return new d(I,k.h)}function Me(k,S){var I=S>>5;S%=32;for(var O=k.g.length-I,V=[],D=0;D<O;D++)V[D]=0<S?k.i(D+I)>>>S|k.i(D+I+1)<<32-S:k.i(D+I);return new d(V,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,Us=d}).apply(typeof Ev<"u"?Ev:typeof self<"u"?self:typeof window<"u"?window:{});var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RE,yl,xE,Dc,lm,IE,CE,NE;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tc=="object"&&Tc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function o(u,m){if(m)e:{var _=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in _))break e;_=_[U]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,A=!1,U={next:function(){if(!A&&_<u.length){var F=_++;return{value:m(F,u[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function b(u,m,_){return u.call.apply(u.bind,arguments)}function x(u,m,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function R(u,m,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:x,R.apply(null,arguments)}function H(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function G(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,U,F){for(var ie=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ie[Le-2]=arguments[Le];return m.prototype[U].apply(A,ie)}}function $(u){const m=u.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function ee(u,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const U=u.length||0,F=A.length||0;u.length=U+F;for(let ie=0;ie<F;ie++)u[U+ie]=A[ie]}else u.push(A)}}class ne{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function re(u){return/^[\s\xa0]*$/.test(u)}function ue(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function De(u){return De[" "](u),u}De[" "]=function(){};var ge=ue().indexOf("Gecko")!=-1&&!(ue().toLowerCase().indexOf("webkit")!=-1&&ue().indexOf("Edge")==-1)&&!(ue().indexOf("Trident")!=-1||ue().indexOf("MSIE")!=-1)&&ue().indexOf("Edge")==-1;function Me(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function k(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function S(u){const m={};for(const _ in u)m[_]=u[_];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let _,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(_ in A)u[_]=A[_];for(let F=0;F<I.length;F++)_=I[F],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function V(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function D(u){g.setTimeout(()=>{throw u},0)}function w(){var u=Ce;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Se{constructor(){this.h=this.g=null}add(m,_){const A=xe.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var xe=new ne(()=>new B,u=>u.reset());class B{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,le=!1,Ce=new Se,N=()=>{const u=g.Promise.resolve(void 0);Y=()=>{u.then(W)}};var W=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(_){D(_)}var m=xe;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}le=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function we(u,m){if(te.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ge){e:{try{De(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ve[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&we.aa.h.call(this)}}G(we,te);var ve={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ft="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function An(u,m,_,A,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=U,this.key=++Ke,this.da=this.fa=!1}function Sn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function wt(u){this.src=u,this.g={},this.h=0}wt.prototype.add=function(u,m,_,A,U){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var ie=Xs(u,m,A,U);return-1<ie?(m=u[ie],_||(m.fa=!1)):(m=new An(m,this.src,F,!!A,U),m.fa=_,u.push(m)),m};function hn(u,m){var _=m.type;if(_ in u.g){var A=u.g[_],U=Array.prototype.indexOf.call(A,m,void 0),F;(F=0<=U)&&Array.prototype.splice.call(A,U,1),F&&(Sn(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Xs(u,m,_,A){for(var U=0;U<u.length;++U){var F=u[U];if(!F.da&&F.listener==m&&F.capture==!!_&&F.ha==A)return U}return-1}var $s="closure_lm_"+(1e6*Math.random()|0),ao={};function $l(u,m,_,A,U){if(Array.isArray(m)){for(var F=0;F<m.length;F++)$l(u,m[F],_,A,U);return null}return _=Zl(_),u&&u[ft]?u.K(m,_,y(A)?!!A.capture:!1,U):wn(u,m,_,!1,A,U)}function wn(u,m,_,A,U,F){if(!m)throw Error("Invalid event type");var ie=y(U)?!!U.capture:!!U,Le=Fr(u);if(Le||(u[$s]=Le=new wt(u)),_=Le.add(m,_,A,ie,F),_.proxy)return _;if(A=Ch(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)fe||(U=ie),U===void 0&&(U=!1),u.addEventListener(m.toString(),A,U);else if(u.attachEvent)u.attachEvent(Zs(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ch(){function u(_){return m.call(u.src,u.listener,_)}const m=Nh;return u}function oo(u,m,_,A,U){if(Array.isArray(m))for(var F=0;F<m.length;F++)oo(u,m[F],_,A,U);else A=y(A)?!!A.capture:!!A,_=Zl(_),u&&u[ft]?(u=u.i,m=String(m).toString(),m in u.g&&(F=u.g[m],_=Xs(F,_,A,U),-1<_&&(Sn(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete u.g[m],u.h--)))):u&&(u=Fr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Xs(m,_,A,U)),(_=-1<u?m[u]:null)&&Hr(_))}function Hr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ft])hn(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(Zs(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=Fr(m))?(hn(_,u),_.h==0&&(_.src=null,m[$s]=null)):Sn(u)}}}function Zs(u){return u in ao?ao[u]:ao[u]="on"+u}function Nh(u,m){if(u.da)u=!0;else{m=new we(m,this);var _=u.listener,A=u.ha||u.src;u.fa&&Hr(u),u=_.call(A,m)}return u}function Fr(u){return u=u[$s],u instanceof wt?u:null}var lo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zl(u){return typeof u=="function"?u:(u[lo]||(u[lo]=function(m){return u.handleEvent(m)}),u[lo])}function ut(){se.call(this),this.i=new wt(this),this.M=this,this.F=null}G(ut,se),ut.prototype[ft]=!0,ut.prototype.removeEventListener=function(u,m,_,A){oo(this,u,m,_,A)};function Qe(u,m){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new te(m,u);else if(m instanceof te)m.target=m.target||u;else{var U=m;m=new te(A,u),O(m,U)}if(U=!0,_)for(var F=_.length-1;0<=F;F--){var ie=m.g=_[F];U=fn(ie,A,!0,m)&&U}if(ie=m.g=u,U=fn(ie,A,!0,m)&&U,U=fn(ie,A,!1,m)&&U,_)for(F=0;F<_.length;F++)ie=m.g=_[F],U=fn(ie,A,!1,m)&&U}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],A=0;A<_.length;A++)Sn(_[A]);delete u.g[m],u.h--}}this.F=null},ut.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},ut.prototype.L=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function fn(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,F=0;F<m.length;++F){var ie=m[F];if(ie&&!ie.da&&ie.capture==_){var Le=ie.listener,xt=ie.ha||ie.src;ie.fa&&hn(u.i,ie),U=Le.call(xt,A)!==!1&&U}}return U&&!A.defaultPrevented}function Qt(u,m,_){if(typeof u=="function")_&&(u=R(u,_));else if(u&&typeof u.handleEvent=="function")u=R(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Wl(u){u.g=Qt(()=>{u.g=null,u.i&&(u.i=!1,Wl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Dh extends se{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ws(u){se.call(this),this.h=u,this.g={}}G(Ws,se);var Js=[];function er(u){Me(u.g,function(m,_){this.g.hasOwnProperty(_)&&Hr(m)},u),u.g={}}Ws.prototype.N=function(){Ws.aa.N.call(this),er(this)},Ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=g.JSON.stringify,Gr=g.JSON.parse,tr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function uo(){}uo.prototype.h=null;function co(u){return u.h||(u.h=u.i())}function ho(){}var _i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vi(){te.call(this,"d")}G(vi,te);function fo(){te.call(this,"c")}G(fo,te);var Yn={},mo=null;function Ji(){return mo=mo||new ut}Yn.La="serverreachability";function Kr(u){te.call(this,Yn.La,u)}G(Kr,te);function es(u){const m=Ji();Qe(m,new Kr(m))}Yn.STAT_EVENT="statevent";function Jl(u,m){te.call(this,Yn.STAT_EVENT,u),this.stat=m}G(Jl,te);function st(u){const m=Ji();Qe(m,new Jl(m,u))}Yn.Ma="timingevent";function Rt(u,m){te.call(this,Yn.Ma,u),this.size=m}G(Rt,te);function _t(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function Rn(){this.g=!0}Rn.prototype.xa=function(){this.g=!1};function go(u,m,_,A,U,F){u.info(function(){if(u.g)if(F)for(var ie="",Le=F.split("&"),xt=0;xt<Le.length;xt++){var je=Le[xt].split("=");if(1<je.length){var kt=je[0];je=je[1];var It=kt.split("_");ie=2<=It.length&&It[1]=="type"?ie+(kt+"="+je+"&"):ie+(kt+"=redacted&")}}else ie=null;else ie=F;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+_+`
`+ie})}function Mh(u,m,_,A,U,F,ie){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+_+`
`+F+" "+ie})}function ts(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+nr(u,_)+(A?" "+A:"")})}function eu(u,m){u.info(function(){return"TIMEOUT: "+m})}Rn.prototype.info=function(){};function nr(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var F=U[0];if(F!="noop"&&F!="stop"&&F!="close")for(var ie=1;ie<U.length;ie++)U[ie]=""}}}}return jn(_)}catch{return m}}var ns={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xn;function $n(){}G($n,uo),$n.prototype.g=function(){return new XMLHttpRequest},$n.prototype.i=function(){return{}},Xn=new $n;function en(u,m,_,A){this.j=u,this.i=m,this.l=_,this.R=A||1,this.U=new Ws(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var po={},Qr={};function zn(u,m,_){u.L=1,u.v=or(dn(m)),u.m=_,u.P=!0,Ti(u,null)}function Ti(u,m){u.F=Date.now(),ir(u),u.A=dn(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),bo(_.i,"t",A),u.C=0,_=u.j.J,u.h=new dt,u.g=pu(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Dh(R(u.Y,u,u.g),u.O)),m=u.U,_=u.g,A=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Js[0]=U.toString()),U=Js);for(var F=0;F<U.length;F++){var ie=$l(_,U[F],A||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),es(),go(u.i,u.u,u.A,u.l,u.R,u.m)}en.prototype.ca=function(u){u=u.target;const m=this.M;m&&Nn(u)==3?m.j():this.Y(u)},en.prototype.Y=function(u){try{if(u==this.g)e:{const It=Nn(this.g);var m=this.g.Ba();const Ci=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||lu(this.g)))){this.J||It!=4||m==7||(m==8||0>=Ci?es(3):es(2)),is(this);var _=this.g.Z();this.X=_;t:if(tu(this)){var A=lu(this.g);u="";var U=A.length,F=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jt(this),Zn(this);var ie="";break t}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(F&&m==U-1)});A.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,Mh(this.i,this.u,this.A,this.l,this.R,It,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,xt=this.g;if((Le=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Le)){var je=Le;break t}}je=null}if(_=je)ts(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sr(this,_);else{this.o=!1,this.s=3,st(12),jt(this),Zn(this);break e}}if(this.P){_=!0;let zt;for(;!this.J&&this.C<ie.length;)if(zt=nu(this,ie),zt==Qr){It==4&&(this.s=4,st(14),_=!1),ts(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==po){this.s=4,st(15),ts(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else ts(this.i,this.l,zt,null),sr(this,zt);if(tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||ie.length!=0||this.h.h||(this.s=1,st(16),_=!1),this.o=this.o&&_,!_)ts(this.i,this.l,ie,"[Invalid Chunked Response]"),jt(this),Zn(this);else if(0<ie.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),gr(kt),kt.M=!0,st(11))}}else ts(this.i,this.l,ie,null),sr(this,ie);It==4&&jt(this),this.o&&!this.J&&(It==4?du(this.j,this):(this.o=!1,ir(this)))}else Uh(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),jt(this),Zn(this)}}}catch{}finally{}};function tu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function nu(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?Qr:(_=Number(m.substring(_,A)),isNaN(_)?po:(A+=1,A+_>m.length?Qr:(m=m.slice(A,A+_),u.C=A+_,m)))}en.prototype.cancel=function(){this.J=!0,jt(this)};function ir(u){u.S=Date.now()+u.I,iu(u,u.I)}function iu(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=_t(R(u.ba,u),m)}function is(u){u.B&&(g.clearTimeout(u.B),u.B=null)}en.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(eu(this.i,this.A),this.L!=2&&(es(),st(17)),jt(this),this.s=2,Zn(this)):iu(this,this.S-u)};function Zn(u){u.j.G==0||u.J||du(u.j,u)}function jt(u){is(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,er(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function sr(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||yo(_.h,u))){if(!u.K&&yo(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)ra(_),ia(_);else break e;xo(_),st(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=_t(R(_.Za,_),6e3));if(1>=Xr(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ii(_,11)}else if((u.K||_.g==u)&&ra(_),!re(m))for(U=_.Da.g.parse(m),m=0;m<U.length;m++){let je=U[m];if(_.T=je[0],je=je[1],_.G==2)if(je[0]=="c"){_.K=je[1],_.ia=je[2];const kt=je[3];kt!=null&&(_.la=kt,_.j.info("VER="+_.la));const It=je[4];It!=null&&(_.Aa=It,_.j.info("SVER="+_.Aa));const Ci=je[5];Ci!=null&&typeof Ci=="number"&&0<Ci&&(A=1.5*Ci,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const zt=u.g;if(zt){const si=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(si){var F=A.h;F.g||si.indexOf("spdy")==-1&&si.indexOf("quic")==-1&&si.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&($r(F,F.h),F.h=null))}if(A.D){const Co=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Co&&(A.ya=Co,$e(A.I,A.D,Co))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ie=u;if(A.qa=gu(A,A.J?A.ia:null,A.W),ie.K){tn(A.h,ie);var Le=ie,xt=A.L;xt&&(Le.I=xt),Le.B&&(is(Le),ir(Le)),A.g=ie}else hu(A);0<_.i.length&&sa(_)}else je[0]!="stop"&&je[0]!="close"||Ii(_,7);else _.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Ii(_,7):wo(_):je[0]!="noop"&&_.l&&_.l.ta(je),_.v=0)}}es(4)}catch{}}var su=class{constructor(u,m){this.g=u,this.map=m}};function bi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Xr(u){return u.h?1:u.g?u.g.size:0}function yo(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function $r(u,m){u.g?u.g.add(m):u.h=m}function tn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bi.prototype.cancel=function(){if(this.i=_o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function _o(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return $(u.i)}function Oh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,A=0;A<_;A++)m.push(u[A]);return m}m=[],_=0;for(A in u)m[_++]=u[A];return m}function Zr(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const A in u)m[_++]=A;return m}}}function vo(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Zr(u),A=Oh(u),U=A.length,F=0;F<U;F++)m.call(void 0,A[F],_&&_[F],u)}var rr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kh(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),U=null;if(0<=A){var F=u[_].substring(0,A);U=u[_].substring(A+1)}else F=u[_];m(F,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function vt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof vt){this.h=u.h,ar(this,u.j),this.o=u.o,this.g=u.g,ss(this,u.s),this.l=u.l;var m=u.i,_=new Si;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Ai(this,_),this.m=u.m}else u&&(m=String(u).match(rr))?(this.h=!1,ar(this,m[1]||"",!0),this.o=xn(m[2]||""),this.g=xn(m[3]||"",!0),ss(this,m[4]),this.l=xn(m[5]||"",!0),Ai(this,m[6]||"",!0),this.m=xn(m[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}vt.prototype.toString=function(){var u=[],m=this.j;m&&u.push(lr(m,Eo,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(lr(m,Eo,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(lr(_,_.charAt(0)=="/"?Vh:To,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",lr(_,Wr)),u.join("")};function dn(u){return new vt(u)}function ar(u,m,_){u.j=_?xn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ss(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ai(u,m,_){m instanceof Si?(u.i=m,au(u.i,u.h)):(_||(m=lr(m,Ph)),u.i=new Si(m,u.h))}function $e(u,m,_){u.i.set(m,_)}function or(u){return $e(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function xn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function lr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,ru),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ru(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Eo=/[#\/\?@]/g,To=/[#\?:]/g,Vh=/[#\?]/g,Ph=/[#\?@]/g,Wr=/#/g;function Si(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function In(u){u.g||(u.g=new Map,u.h=0,u.i&&kh(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=Si.prototype,s.add=function(u,m){In(this),this.i=null,u=Wn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function wi(u,m){In(u),m=Wn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ri(u,m){return In(u),m=Wn(u,m),u.g.has(m)}s.forEach=function(u,m){In(this),this.g.forEach(function(_,A){_.forEach(function(U){u.call(m,U,A,this)},this)},this)},s.na=function(){In(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const U=u[A];for(let F=0;F<U.length;F++)_.push(m[A])}return _},s.V=function(u){In(this);let m=[];if(typeof u=="string")Ri(this,u)&&(m=m.concat(this.g.get(Wn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},s.set=function(u,m){return In(this),this.i=null,u=Wn(this,u),Ri(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function bo(u,m,_){wi(u,m),0<_.length&&(u.i=null,u.g.set(Wn(u,m),$(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const F=encodeURIComponent(String(A)),ie=this.V(A);for(A=0;A<ie.length;A++){var U=F;ie[A]!==""&&(U+="="+encodeURIComponent(String(ie[A]))),u.push(U)}}return this.i=u.join("&")};function Wn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function au(u,m){m&&!u.j&&(In(u),u.i=null,u.g.forEach(function(_,A){var U=A.toLowerCase();A!=U&&(wi(this,A),bo(this,U,_))},u)),u.j=m}function ur(u,m){const _=new Rn;if(g.Image){const A=new Image;A.onload=H(Cn,_,"TestLoadImage: loaded",!0,m,A),A.onerror=H(Cn,_,"TestLoadImage: error",!1,m,A),A.onabort=H(Cn,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=H(Cn,_,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Bn(u,m){const _=new Rn,A=new AbortController,U=setTimeout(()=>{A.abort(),Cn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(F=>{clearTimeout(U),F.ok?Cn(_,"TestPingServer: ok",!0,m):Cn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Cn(_,"TestPingServer: error",!1,m)})}function Cn(u,m,_,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(_)}catch{}}function cr(){this.g=new tr}function Jn(u,m,_){const A=_||"";try{vo(u,function(U,F){let ie=U;y(U)&&(ie=jn(U)),m.push(A+F+"="+encodeURIComponent(ie))})}catch(U){throw m.push(A+"type="+encodeURIComponent("_badmap")),U}}function rs(u){this.l=u.Ub||null,this.j=u.eb||!1}G(rs,uo),rs.prototype.g=function(){return new xi(this.l,this.j)},rs.prototype.i=function(u){return function(){return u}}({});function xi(u,m){ut.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(xi,ut),s=xi.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ti(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ao(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ao(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ei(this):ti(this),this.readyState==3&&Ao(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,ei(this))},s.Qa=function(u){this.g&&(this.response=u,ei(this))},s.ga=function(){this.g&&ei(this)};function ei(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ti(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function ti(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function So(u){let m="";return Me(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function Ot(u,m,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=So(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):$e(u,m,_))}function Fe(u){ut.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(Fe,ut);var Jr=/^https?$/i,hr=["POST","PUT"];s=Fe.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xn.g(),this.v=this.o?co(this.o):co(Xn),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){ou(this,F);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)_.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())_.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(hr,m,void 0))||A||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ie]of _)this.g.setRequestHeader(F,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fr(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){ou(this,F)}};function ou(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ea(u),ni(u)}function ea(u){u.A||(u.A=!0,Qe(u,"complete"),Qe(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Qe(this,"complete"),Qe(this,"abort"),ni(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ni(this,!0)),Fe.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?ta(this):this.bb())},s.bb=function(){ta(this)};function ta(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Nn(u)!=4||u.Z()!=2)){if(u.u&&Nn(u)==4)Qt(u.Ea,0,u);else if(Qe(u,"readystatechange"),Nn(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var A;if(A=ie===0){var U=String(u.D).match(rr)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),A=!Jr.test(U?U.toLowerCase():"")}_=A}if(_)Qe(u,"complete"),Qe(u,"success");else{u.m=6;try{var F=2<Nn(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",ea(u)}}finally{ni(u)}}}}function ni(u,m){if(u.g){fr(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Qe(u,"ready");try{_.onreadystatechange=A}catch{}}}function fr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function Nn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Gr(m)}};function lu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Uh(u){const m={};u=(u.g&&2<=Nn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(re(u[A]))continue;var _=V(u[A]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=m[U]||[];m[U]=F,F.push(_)}k(m,function(A){return A.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function dr(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function na(u){this.Aa=0,this.i=[],this.j=new Rn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=dr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=dr("baseRetryDelayMs",5e3,u),this.cb=dr("retryDelaySeedMs",1e4,u),this.Wa=dr("forwardChannelMaxRetries",2,u),this.wa=dr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new bi(u&&u.concurrentRequestLimit),this.Da=new cr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=na.prototype,s.la=8,s.G=1,s.connect=function(u,m,_,A){st(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=gu(this,null,this.W),sa(this)};function wo(u){if(uu(u),u.G==3){var m=u.U++,_=dn(u.I);if($e(_,"SID",u.K),$e(_,"RID",m),$e(_,"TYPE","terminate"),mr(u,_),m=new en(u,u.j,m),m.L=2,m.v=or(dn(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=pu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ir(m)}mu(u)}function ia(u){u.g&&(gr(u),u.g.cancel(),u.g=null)}function uu(u){ia(u),u.u&&(g.clearTimeout(u.u),u.u=null),ra(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function sa(u){if(!Yr(u.h)&&!u.s){u.s=!0;var m=u.Ga;Y||N(),le||(Y(),le=!0),Ce.add(m,u),u.B=0}}function Lh(u,m){return Xr(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=_t(R(u.Ga,u,m),Io(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new en(this,this.j,u);let F=this.o;if(this.S&&(F?(F=S(F),O(F,this.S)):F=this.S),this.m!==null||this.O||(U.H=F,F=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=cu(this,U,m),_=dn(this.I),$e(_,"RID",u),$e(_,"CVER",22),this.D&&$e(_,"X-HTTP-Session-Id",this.D),mr(this,_),F&&(this.O?m="headers="+encodeURIComponent(String(So(F)))+"&"+m:this.m&&Ot(_,this.m,F)),$r(this.h,U),this.Ua&&$e(_,"TYPE","init"),this.P?($e(_,"$req",m),$e(_,"SID","null"),U.T=!0,zn(U,_,null)):zn(U,_,m),this.G=2}}else this.G==3&&(u?Ro(this,u):this.i.length==0||Yr(this.h)||Ro(this))};function Ro(u,m){var _;m?_=m.l:_=u.U++;const A=dn(u.I);$e(A,"SID",u.K),$e(A,"RID",_),$e(A,"AID",u.T),mr(u,A),u.m&&u.o&&Ot(A,u.m,u.o),_=new en(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=cu(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),$r(u.h,_),zn(_,A,m)}function mr(u,m){u.H&&Me(u.H,function(_,A){$e(m,A,_)}),u.l&&vo({},function(_,A){$e(m,A,_)})}function cu(u,m,_){_=Math.min(u.i.length,_);var A=u.l?R(u.l.Na,u.l,u):null;e:{var U=u.i;let F=-1;for(;;){const ie=["count="+_];F==-1?0<_?(F=U[0].g,ie.push("ofs="+F)):F=0:ie.push("ofs="+F);let Le=!0;for(let xt=0;xt<_;xt++){let je=U[xt].g;const kt=U[xt].map;if(je-=F,0>je)F=Math.max(0,U[xt].g-100),Le=!1;else try{Jn(kt,ie,"req"+je+"_")}catch{A&&A(kt)}}if(Le){A=ie.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,A}function hu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Y||N(),le||(Y(),le=!0),Ce.add(m,u),u.v=0}}function xo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=_t(R(u.Fa,u),Io(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=_t(R(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),ia(this),fu(this))};function gr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function fu(u){u.g=new en(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=dn(u.qa);$e(m,"RID","rpc"),$e(m,"SID",u.K),$e(m,"AID",u.T),$e(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&$e(m,"TO",u.ja),$e(m,"TYPE","xmlhttp"),mr(u,m),u.m&&u.o&&Ot(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=or(dn(m)),_.m=null,_.P=!0,Ti(_,u)}s.Za=function(){this.C!=null&&(this.C=null,ia(this),xo(this),st(19))};function ra(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function du(u,m){var _=null;if(u.g==m){ra(u),gr(u),u.g=null;var A=2}else if(yo(u.h,m))_=m.D,tn(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;A=Ji(),Qe(A,new Rt(A,_)),sa(u)}else hu(u);else if(U=m.s,U==3||U==0&&0<m.X||!(A==1&&Lh(u,m)||A==2&&xo(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),U){case 1:Ii(u,5);break;case 4:Ii(u,10);break;case 3:Ii(u,6);break;default:Ii(u,2)}}}function Io(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Ii(u,m){if(u.j.info("Error code "+m),m==2){var _=R(u.fb,u),A=u.Xa;const U=!A;A=new vt(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ar(A,"https"),or(A),U?ur(A.toString(),_):Bn(A.toString(),_)}else st(2);u.G=0,u.l&&u.l.sa(m),mu(u),uu(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function mu(u){if(u.G=0,u.ka=[],u.l){const m=_o(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ka,m),ee(u.ka,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.ra()}}function gu(u,m,_){var A=_ instanceof vt?dn(_):new vt(_);if(A.g!="")m&&(A.g=m+"."+A.g),ss(A,A.s);else{var U=g.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var F=new vt(null);A&&ar(F,A),m&&(F.g=m),U&&ss(F,U),_&&(F.l=_),A=F}return _=u.D,m=u.ya,_&&m&&$e(A,_,m),$e(A,"VER",u.la),mr(u,A),A}function pu(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Fe(new rs({eb:_})):new Fe(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function yu(){}s=yu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function aa(){}aa.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){ut.call(this),this.g=new na(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!re(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!re(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ii(this)}G(nn,ut),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){wo(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=jn(u),u=_);m.i.push(new su(m.Ya++,u)),m.G==3&&sa(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,nn.aa.N.call(this)};function _u(u){vi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}G(_u,vi);function vu(){fo.call(this),this.status=1}G(vu,fo);function ii(u){this.g=u}G(ii,yu),ii.prototype.ua=function(){Qe(this.g,"a")},ii.prototype.ta=function(u){Qe(this.g,new _u(u))},ii.prototype.sa=function(u){Qe(this.g,new vu)},ii.prototype.ra=function(){Qe(this.g,"b")},aa.prototype.createWebChannel=aa.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,NE=function(){return new aa},CE=function(){return Ji()},IE=Yn,lm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ns.NO_ERROR=0,ns.TIMEOUT=8,ns.HTTP_ERROR=6,Dc=ns,Ei.COMPLETE="complete",xE=Ei,ho.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",ut.prototype.listen=ut.prototype.K,yl=ho,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,RE=Fe}).apply(typeof Tc<"u"?Tc:typeof self<"u"?self:typeof window<"u"?window:{});const Tv="@firebase/firestore",bv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new Im("@firebase/firestore");function Va(){return jr.logLevel}function oe(s,...e){if(jr.logLevel<=Ve.DEBUG){const n=e.map(Lm);jr.debug(`Firestore (${to}): ${s}`,...n)}}function Xi(s,...e){if(jr.logLevel<=Ve.ERROR){const n=e.map(Lm);jr.error(`Firestore (${to}): ${s}`,...n)}}function Ka(s,...e){if(jr.logLevel<=Ve.WARN){const n=e.map(Lm);jr.warn(`Firestore (${to}): ${s}`,...n)}}function Lm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,DE(s,r,n)}function DE(s,e,n){let r=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Xi(r),new Error(r)}function Ge(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||DE(e,o,r)}function Ae(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Wi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class _R{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vR{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let c=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Gi,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Gi)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string",31837,{l:r}),new ME(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class ER{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TR{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ER(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Av{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const r=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const o=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Av(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Av(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=AR(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+=e.charAt(o[c]%62))}return r}}function Pe(s,e){return s<e?-1:s>e?1:0}function um(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return Hd(o)===Hd(c)?Pe(o,c):Hd(o)?1:-1}return Pe(s.length,e.length)}const SR=55296,wR=57343;function Hd(s){const e=s.charCodeAt(0);return e>=SR&&e<=wR}function Qa(s,e,n){return s.length===e.length&&s.every((r,o)=>n(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="__name__";class ci{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=ci.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Pe(e.length,n.length)}static compareSegments(e,n){const r=ci.isNumericId(e),o=ci.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?ci.extractNumericId(e).compare(ci.extractNumericId(n)):um(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Us.fromString(e.substring(4,e.length-2))}}class nt extends ci{construct(e,n,r){return new nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const RR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends ci{construct(e,n,r){return new Gt(e,n,r)}static isValidIdentifier(e){return RR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Sv}static keyField(){return new Gt([Sv])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(r.length===0)throw new ae(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ae(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ae(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(r+=g,o++):(c(),o++)}if(c(),d)throw new ae(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(nt.fromString(e))}static fromName(e){return new me(nt.fromString(e).popFirst(5))}static empty(){return new me(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(s,e,n){if(!n)throw new ae(Q.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function xR(s,e,n,r){if(e===!0&&r===!0)throw new ae(Q.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function wv(s){if(!me.isDocumentKey(s))throw new ae(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Rv(s){if(me.isDocumentKey(s))throw new ae(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function kE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function uh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":_e(12329,{type:typeof s})}function bn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ae(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uh(s);throw new ae(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(s,e){const n={typeString:s};return e&&(n.value=e),n}function ql(s,e){if(!kE(s))throw new ae(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new ae(Q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=-62135596800,Iv=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Iv);return new it(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xv)throw new ae(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Iv}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ql(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:St("string",it._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new it(0,0))}static max(){return new be(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=-1;function IR(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=be.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new zs(o,me.empty(),e)}function CR(s){return new zs(s.readTime,s.key,Nl)}class zs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zs(be.min(),me.empty(),Nl)}static max(){return new zs(be.max(),me.empty(),Nl)}}function NR(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(s.documentKey,e.documentKey),n!==0?n:Pe(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(s){if(s.code!==Q.FAILED_PRECONDITION||s.message!==DR)throw s;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,r)=>{n(e)})}static reject(e){return new J((n,r)=>{r(e)})}static waitFor(e){return new J((n,r)=>{let o=0,c=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++c,d&&c===o&&n()},p=>r(p))}),d=!0,c===o&&n()})}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next(o=>o?J.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,c)=>{r.push(n.call(this,o,c))}),this.waitFor(r)}static mapArray(e,n){return new J((r,o)=>{const c=e.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;n(e[y]).next(b=>{d[y]=b,++g,g===c&&r(d)},b=>o(b))}})}static doWhile(e,n){return new J((r,o)=>{const c=()=>{e()===!0?n().next(()=>{c()},o):r()};c()})}}function OR(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function io(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ch.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm=-1;function hh(s){return s==null}function Kc(s){return s===0&&1/s==-1/0}function kR(s){return typeof s=="number"&&Number.isInteger(s)&&!Kc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="";function VR(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=Cv(e)),e=PR(s.get(n),e);return Cv(e)}function PR(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":n+="";break;case VE:n+="";break;default:n+=c}}return n}function Cv(s){return s+VE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Ks(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function PE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??Ft.RED,this.left=o??Ft.EMPTY,this.right=c??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new Ft(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,o,c){return this}insert(e,n,r){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dv(this.data.getIterator())}getIteratorFrom(e){return new Dv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class Dv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new Tn([])}unionWith(e){let n=new Dt(Gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new UE("Invalid base64 string: "+c):c}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const UR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(s){if(Ge(!!s,39018),typeof s=="string"){let e=0;const n=UR.exec(s);if(Ge(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(s.seconds),nanos:pt(s.nanos)}}function pt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function qs(s){return typeof s=="string"?Kt.fromBase64String(s):Kt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="server_timestamp",jE="__type__",zE="__previous_value__",BE="__local_write_time__";function Bm(s){return(s?.mapValue?.fields||{})[jE]?.stringValue===LE}function fh(s){const e=s.mapValue.fields[zE];return Bm(e)?fh(e):e}function Dl(s){const e=Bs(s.mapValue.fields[BE].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n,r,o,c,d,g,p,y,b){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=b}}const Qc="(default)";class Ml{constructor(e,n){this.projectId=e,this.database=n||Qc}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===Qc}isEqual(e){return e instanceof Ml&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="__type__",jR="__max__",Ac={mapValue:{}},HE="__vector__",Yc="value";function Hs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Bm(s)?4:BR(s)?9007199254740991:zR(s)?10:11:_e(28295,{value:s})}function yi(s,e){if(s===e)return!0;const n=Hs(s);if(n!==Hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Dl(s).isEqual(Dl(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Bs(o.timestampValue),g=Bs(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,c){return qs(o.bytesValue).isEqual(qs(c.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,c){return pt(o.geoPointValue.latitude)===pt(c.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(c.geoPointValue.longitude)}(s,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return pt(o.integerValue)===pt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=pt(o.doubleValue),g=pt(c.doubleValue);return d===g?Kc(d)===Kc(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return Qa(s.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(Nv(d)!==Nv(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!yi(d[p],g[p])))return!1;return!0}(s,e);default:return _e(52216,{left:s})}}function Ol(s,e){return(s.values||[]).find(n=>yi(n,e))!==void 0}function Ya(s,e){if(s===e)return 0;const n=Hs(s),r=Hs(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(s.booleanValue,e.booleanValue);case 2:return function(c,d){const g=pt(c.integerValue||c.doubleValue),p=pt(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(s,e);case 3:return Mv(s.timestampValue,e.timestampValue);case 4:return Mv(Dl(s),Dl(e));case 5:return um(s.stringValue,e.stringValue);case 6:return function(c,d){const g=qs(c),p=qs(d);return g.compareTo(p)}(s.bytesValue,e.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const b=Pe(g[y],p[y]);if(b!==0)return b}return Pe(g.length,p.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,d){const g=Pe(pt(c.latitude),pt(d.latitude));return g!==0?g:Pe(pt(c.longitude),pt(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Ov(s.arrayValue,e.arrayValue);case 10:return function(c,d){const g=c.fields||{},p=d.fields||{},y=g[Yc]?.arrayValue,b=p[Yc]?.arrayValue,x=Pe(y?.values?.length||0,b?.values?.length||0);return x!==0?x:Ov(y,b)}(s.mapValue,e.mapValue);case 11:return function(c,d){if(c===Ac.mapValue&&d===Ac.mapValue)return 0;if(c===Ac.mapValue)return 1;if(d===Ac.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=d.fields||{},b=Object.keys(y);p.sort(),b.sort();for(let x=0;x<p.length&&x<b.length;++x){const R=um(p[x],b[x]);if(R!==0)return R;const H=Ya(g[p[x]],y[b[x]]);if(H!==0)return H}return Pe(p.length,b.length)}(s.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function Mv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Pe(s,e);const n=Bs(s),r=Bs(e),o=Pe(n.seconds,r.seconds);return o!==0?o:Pe(n.nanos,r.nanos)}function Ov(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const c=Ya(n[o],r[o]);if(c)return c}return Pe(n.length,r.length)}function Xa(s){return cm(s)}function cm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const r=Bs(n);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return qs(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return me.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let r="[",o=!0;for(const c of n.values||[])o?o=!1:r+=",",r+=cm(c);return r+"]"}(s.arrayValue):"mapValue"in s?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${cm(n.fields[d])}`;return o+"}"}(s.mapValue):_e(61005,{value:s})}function Mc(s){switch(Hs(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fh(s);return e?16+Mc(e):16;case 5:return 2*s.stringValue.length;case 6:return qs(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,c)=>o+Mc(c),0)}(s.arrayValue);case 10:case 11:return function(r){let o=0;return Ks(r.fields,(c,d)=>{o+=c.length+Mc(d)}),o}(s.mapValue);default:throw _e(13486,{value:s})}}function kv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function hm(s){return!!s&&"integerValue"in s}function qm(s){return!!s&&"arrayValue"in s}function Vv(s){return!!s&&"nullValue"in s}function Pv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Oc(s){return!!s&&"mapValue"in s}function zR(s){return(s?.mapValue?.fields||{})[qE]?.stringValue===HE}function Al(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ks(s.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Al(r)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Al(s.arrayValue.values[n]);return e}return{...s}}function BR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===jR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Oc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Al(n)}setAll(e){let n=Gt.emptyPath(),r={},o=[];e.forEach((d,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=g.popLast()}d?r[g.lastSegment()]=Al(d):o.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());Oc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Oc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Ks(n,(o,c)=>e[o]=c);for(const o of r)delete e[o]}clone(){return new un(Al(this.value))}}function FE(s){const e=[];return Ks(s.fields,(n,r)=>{const o=new Gt([n]);if(Oc(r)){const c=FE(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,r,o,c,d,g){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Wt(e,0,be.min(),be.min(),be.min(),un.empty(),0)}static newFoundDocument(e,n,r,o){return new Wt(e,1,n,be.min(),r,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,be.min(),be.min(),un.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,be.min(),be.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n){this.position=e,this.inclusive=n}}function Uv(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?r=me.comparator(me.fromName(d.referenceValue),n.key):r=Ya(d,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Lv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!yi(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n="asc"){this.field=e,this.dir=n}}function qR(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{}class At extends GE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new FR(e,n,r):n==="array-contains"?new QR(e,r):n==="in"?new YR(e,r):n==="not-in"?new XR(e,r):n==="array-contains-any"?new $R(e,r):new At(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GR(e,r):new KR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ya(n,this.value)):n!==null&&Hs(this.value)===Hs(n)&&this.matchesComparison(Ya(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends GE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qn(e,n)}matches(e){return KE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KE(s){return s.op==="and"}function QE(s){return HR(s)&&KE(s)}function HR(s){for(const e of s.filters)if(e instanceof Qn)return!1;return!0}function fm(s){if(s instanceof At)return s.field.canonicalString()+s.op.toString()+Xa(s.value);if(QE(s))return s.filters.map(e=>fm(e)).join(",");{const e=s.filters.map(n=>fm(n)).join(",");return`${s.op}(${e})`}}function YE(s,e){return s instanceof At?function(r,o){return o instanceof At&&r.op===o.op&&r.field.isEqual(o.field)&&yi(r.value,o.value)}(s,e):s instanceof Qn?function(r,o){return o instanceof Qn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((c,d,g)=>c&&YE(d,o.filters[g]),!0):!1}(s,e):void _e(19439)}function XE(s){return s instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${Xa(n.value)}`}(s):s instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(XE).join(" ,")+"}"}(s):"Filter"}class FR extends At{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class GR extends At{constructor(e,n){super(e,"in",n),this.keys=$E("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class KR extends At{constructor(e,n){super(e,"not-in",n),this.keys=$E("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $E(s,e){return(e.arrayValue?.values||[]).map(n=>me.fromName(n.referenceValue))}class QR extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qm(n)&&Ol(n.arrayValue,this.value)}}class YR extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ol(this.value.arrayValue,n)}}class XR extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ol(this.value.arrayValue,n)}}class $R extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ol(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n=null,r=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function jv(s,e=null,n=[],r=[],o=null,c=null,d=null){return new ZR(s,e,n,r,o,c,d)}function Hm(s){const e=Ae(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(c){return c.field.canonicalString()+c.dir}(r)).join(","),hh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xa(r)).join(",")),e.Te=n}return e.Te}function Fm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!qR(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!YE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Lv(s.startAt,e.startAt)&&Lv(s.endAt,e.endAt)}function dm(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n=null,r=[],o=[],c=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function WR(s,e,n,r,o,c,d,g){return new so(s,e,n,r,o,c,d,g)}function dh(s){return new so(s)}function zv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function ZE(s){return s.collectionGroup!==null}function Sl(s){const e=Ae(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Dt(Gt.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new kl(c,r))}),n.has(Gt.keyField().canonicalString())||e.Ie.push(new kl(Gt.keyField(),r))}return e.Ie}function di(s){const e=Ae(s);return e.Ee||(e.Ee=JR(e,Sl(s))),e.Ee}function JR(s,e){if(s.limitType==="F")return jv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new kl(o.field,c)});const n=s.endAt?new Xc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Xc(s.startAt.position,s.startAt.inclusive):null;return jv(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function mm(s,e){const n=s.filters.concat([e]);return new so(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function gm(s,e,n){return new so(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function mh(s,e){return Fm(di(s),di(e))&&s.limitType===e.limitType}function WE(s){return`${Hm(di(s))}|lt:${s.limitType}`}function Pa(s){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>XE(o)).join(", ")}]`),hh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>Xa(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>Xa(o)).join(",")),`Target(${r})`}(di(s))}; limitType=${s.limitType})`}function gh(s,e){return e.isFoundDocument()&&function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):me.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(s,e)&&function(r,o){for(const c of Sl(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(s,e)&&function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0}(s,e)&&function(r,o){return!(r.startAt&&!function(d,g,p){const y=Uv(d,g,p);return d.inclusive?y<=0:y<0}(r.startAt,Sl(r),o)||r.endAt&&!function(d,g,p){const y=Uv(d,g,p);return d.inclusive?y>=0:y>0}(r.endAt,Sl(r),o))}(s,e)}function ex(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function JE(s){return(e,n)=>{let r=!1;for(const o of Sl(s)){const c=tx(o,e,n);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function tx(s,e,n){const r=s.field.isKeyField()?me.comparator(e.key,n.key):function(c,d,g){const p=d.data.field(c),y=g.data.field(c);return p!==null&&y!==null?Ya(p,y):_e(42886)}(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,(n,r)=>{for(const[o,c]of r)e(o,c)})}isEmpty(){return PE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new lt(me.comparator);function $i(){return nx}const eT=new lt(me.comparator);function _l(...s){let e=eT;for(const n of s)e=e.insert(n.key,n);return e}function tT(s){let e=eT;return s.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Or(){return wl()}function nT(){return wl()}function wl(){return new Br(s=>s.toString(),(s,e)=>s.isEqual(e))}const ix=new lt(me.comparator),sx=new Dt(me.comparator);function Ue(...s){let e=sx;for(const n of s)e=e.add(n);return e}const rx=new Dt(Pe);function ax(){return rx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(e)?"-0":e}}function iT(s){return{integerValue:""+s}}function ox(s,e){return kR(e)?iT(e):Gm(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(){this._=void 0}}function lx(s,e,n){return s instanceof $c?function(o,c){const d={fields:{[jE]:{stringValue:LE},[BE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Bm(c)&&(c=fh(c)),c&&(d.fields[zE]=c),{mapValue:d}}(n,e):s instanceof Vl?rT(s,e):s instanceof Pl?aT(s,e):function(o,c){const d=sT(o,c),g=Bv(d)+Bv(o.Ae);return hm(d)&&hm(o.Ae)?iT(g):Gm(o.serializer,g)}(s,e)}function ux(s,e,n){return s instanceof Vl?rT(s,e):s instanceof Pl?aT(s,e):n}function sT(s,e){return s instanceof Zc?function(r){return hm(r)||function(c){return!!c&&"doubleValue"in c}(r)}(e)?e:{integerValue:0}:null}class $c extends ph{}class Vl extends ph{constructor(e){super(),this.elements=e}}function rT(s,e){const n=oT(e);for(const r of s.elements)n.some(o=>yi(o,r))||n.push(r);return{arrayValue:{values:n}}}class Pl extends ph{constructor(e){super(),this.elements=e}}function aT(s,e){let n=oT(e);for(const r of s.elements)n=n.filter(o=>!yi(o,r));return{arrayValue:{values:n}}}class Zc extends ph{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Bv(s){return pt(s.integerValue||s.doubleValue)}function oT(s){return qm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function cx(s,e){return s.field.isEqual(e.field)&&function(r,o){return r instanceof Vl&&o instanceof Vl||r instanceof Pl&&o instanceof Pl?Qa(r.elements,o.elements,yi):r instanceof Zc&&o instanceof Zc?yi(r.Ae,o.Ae):r instanceof $c&&o instanceof $c}(s.transform,e.transform)}class hx{constructor(e,n){this.version=e,this.transformResults=n}}class cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cn}static exists(e){return new cn(void 0,e)}static updateTime(e){return new cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class yh{}function lT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new _h(s.key,cn.none()):new Hl(s.key,s.data,cn.none());{const n=s.data,r=un.empty();let o=new Dt(Gt.comparator);for(let c of e.fields)if(!o.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new Qs(s.key,r,new Tn(o.toArray()),cn.none())}}function fx(s,e,n){s instanceof Hl?function(o,c,d){const g=o.value.clone(),p=Hv(o.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,n):s instanceof Qs?function(o,c,d){if(!kc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Hv(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(uT(o)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,n):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function Rl(s,e,n,r){return s instanceof Hl?function(c,d,g,p){if(!kc(c.precondition,d))return g;const y=c.value.clone(),b=Fv(c.fieldTransforms,p,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(s,e,n,r):s instanceof Qs?function(c,d,g,p){if(!kc(c.precondition,d))return g;const y=Fv(c.fieldTransforms,p,d),b=d.data;return b.setAll(uT(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(x=>x.field))}(s,e,n,r):function(c,d,g){return kc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,n)}function dx(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=sT(r.transform,o||null);c!=null&&(n===null&&(n=un.empty()),n.set(r.field,c))}return n||null}function qv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Qa(r,o,(c,d)=>cx(c,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Hl extends yh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qs extends yh{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function uT(s){const e=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}}),e}function Hv(s,e,n){const r=new Map;Ge(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const c=s[o],d=c.transform,g=e.data.field(c.field);r.set(c.field,ux(d,g,n[o]))}return r}function Fv(s,e,n){const r=new Map;for(const o of s){const c=o.transform,d=n.data.field(o.field);r.set(o.field,lx(c,d,e))}return r}class _h extends yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mx extends yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&fx(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Rl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Rl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nT();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(o.key)?null:g;const p=lT(d,g);p!==null&&r.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Qa(this.mutations,e.mutations,(n,r)=>qv(n,r))&&Qa(this.baseMutations,e.baseMutations,(n,r)=>qv(n,r))}}class Km{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Ge(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=function(){return ix}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new Km(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Be;function _x(s){switch(s){case Q.OK:return _e(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return _e(15467,{code:s})}}function cT(s){if(s===void 0)return Xi("GRPC error has no .code"),Q.UNKNOWN;switch(s){case bt.OK:return Q.OK;case bt.CANCELLED:return Q.CANCELLED;case bt.UNKNOWN:return Q.UNKNOWN;case bt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case bt.INTERNAL:return Q.INTERNAL;case bt.UNAVAILABLE:return Q.UNAVAILABLE;case bt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case bt.NOT_FOUND:return Q.NOT_FOUND;case bt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case bt.ABORTED:return Q.ABORTED;case bt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case bt.DATA_LOSS:return Q.DATA_LOSS;default:return _e(39323,{code:s})}}(Be=bt||(bt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=new Us([4294967295,4294967295],0);function Gv(s){const e=vx().encode(s),n=new wE;return n.update(e),new Uint8Array(n.digest())}function Kv(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Us([n,r],0),new Us([o,c],0)]}class Qm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vl(`Invalid padding: ${n}`);if(r<0)throw new vl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Us.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(Us.fromNumber(r)));return o.compare(Ex)===1&&(o=new Us([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Gv(e),[r,o]=Kv(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Qm(c,o,n);return r.forEach(g=>d.insert(g)),d}insert(e){if(this.ge===0)return;const n=Gv(e),[r,o]=Kv(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Fl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vh(be.min(),o,new lt(Pe),$i(),Ue())}}class Fl{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fl(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class hT{constructor(e,n){this.targetId=e,this.Ce=n}}class fT{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class Qv{constructor(){this.ve=0,this.Fe=Yv(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),r=Ue();return this.Fe.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:_e(38017,{changeType:c})}}),new Fl(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Yv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Tx{constructor(e){this.Ge=e,this.ze=new Map,this.je=$i(),this.Je=Sc(),this.He=Sc(),this.Ye=new lt(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(dm(c))if(r===0){const d=new me(c.path);this.et(n,d,Wt.newNoDocument(d,be.min()))}else Ge(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const g=this.ut(e),p=g?this.ct(g,e,d):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=n;let d,g;try{d=qs(r).toUint8Array()}catch(p){if(p instanceof UE)return Ka("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Qm(d,o,c)}catch(p){return Ka(p instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach(c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(n,c,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((c,d)=>{const g=this.ot(d);if(g){if(c.current&&dm(g.target)){const p=new me(g.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,Wt.newNoDocument(p,e))}c.Be&&(n.set(d,c.ke()),c.qe())}});let r=Ue();this.He.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(r=r.add(c))}),this.je.forEach((c,d)=>d.setReadTime(e));const o=new vh(e,n,this.Ye,this.je,r);return this.je=$i(),this.Je=Sc(),this.He=Sc(),this.Ye=new lt(Pe),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Qv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Dt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Dt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Qv),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Sc(){return new lt(me.comparator)}function Yv(){return new lt(me.comparator)}const bx={asc:"ASCENDING",desc:"DESCENDING"},Ax={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sx={and:"AND",or:"OR"};class wx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pm(s,e){return s.useProto3Json||hh(e)?e:{value:e}}function Wc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Rx(s,e){return Wc(s,e.toTimestamp())}function mi(s){return Ge(!!s,49232),be.fromTimestamp(function(n){const r=Bs(n);return new it(r.seconds,r.nanos)}(s))}function Ym(s,e){return ym(s,e).canonicalString()}function ym(s,e){const n=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?n:n.child(e)}function mT(s){const e=nt.fromString(s);return Ge(vT(e),10190,{key:e.toString()}),e}function _m(s,e){return Ym(s.databaseId,e.path)}function Fd(s,e){const n=mT(e);if(n.get(1)!==s.databaseId.projectId)throw new ae(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ae(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new me(pT(n))}function gT(s,e){return Ym(s.databaseId,e)}function xx(s){const e=mT(s);return e.length===4?nt.emptyPath():pT(e)}function vm(s){return new nt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function pT(s){return Ge(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Xv(s,e,n){return{name:_m(s,e),fields:n.value.mapValue.fields}}function Ix(s,e){let n;if("targetChange"in e){e.targetChange;const r=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_e(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,b){return y.useProto3Json?(Ge(b===void 0||typeof b=="string",58123),Kt.fromBase64String(b||"")):(Ge(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Kt.fromUint8Array(b||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(y){const b=y.code===void 0?Q.UNKNOWN:cT(y.code);return new ae(b,y.message||"")}(d);n=new fT(r,o,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Fd(s,r.document.name),c=mi(r.document.updateTime),d=r.document.createTime?mi(r.document.createTime):be.min(),g=new un({mapValue:{fields:r.document.fields}}),p=Wt.newFoundDocument(o,c,d,g),y=r.targetIds||[],b=r.removedTargetIds||[];n=new Vc(y,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Fd(s,r.document),c=r.readTime?mi(r.readTime):be.min(),d=Wt.newNoDocument(o,c),g=r.removedTargetIds||[];n=new Vc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Fd(s,r.document),c=r.removedTargetIds||[];n=new Vc([],c,o,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new yx(o,c),g=r.targetId;n=new hT(g,d)}}return n}function Cx(s,e){let n;if(e instanceof Hl)n={update:Xv(s,e.key,e.value)};else if(e instanceof _h)n={delete:_m(s,e.key)};else if(e instanceof Qs)n={update:Xv(s,e.key,e.data),updateMask:Lx(e.fieldMask)};else{if(!(e instanceof mx))return _e(16599,{Vt:e.type});n={verify:_m(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(c,d){const g=d.transform;if(g instanceof $c)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Vl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Pl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Zc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _e(20930,{transform:d.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:Rx(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_e(27497)}(s,e.precondition)),n}function Nx(s,e){return s&&s.length>0?(Ge(e!==void 0,14353),s.map(n=>function(o,c){let d=o.updateTime?mi(o.updateTime):mi(c);return d.isEqual(be.min())&&(d=mi(c)),new hx(d,o.transformResults||[])}(n,e))):[]}function Dx(s,e){return{documents:[gT(s,e.path)]}}function Mx(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gT(s,o);const c=function(y){if(y.length!==0)return _T(Qn.create(y,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(b=>function(R){return{field:Ua(R.field),direction:Vx(R.dir)}}(b))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=pm(s,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ft:n,parent:o}}function Ox(s){let e=xx(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Ge(r===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let c=[];n.where&&(c=function(x){const R=yT(x);return R instanceof Qn&&QE(R)?R.getFilters():[R]}(n.where));let d=[];n.orderBy&&(d=function(x){return x.map(R=>function(G){return new kl(La(G.field),function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(G.direction))}(R))}(n.orderBy));let g=null;n.limit&&(g=function(x){let R;return R=typeof x=="object"?x.value:x,hh(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(x){const R=!!x.before,H=x.values||[];return new Xc(H,R)}(n.startAt));let y=null;return n.endAt&&(y=function(x){const R=!x.before,H=x.values||[];return new Xc(H,R)}(n.endAt)),WR(e,o,d,c,g,"F",p,y)}function kx(s,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yT(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=La(n.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=La(n.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=La(n.unaryFilter.field);return At.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=La(n.unaryFilter.field);return At.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}}(s):s.fieldFilter!==void 0?function(n){return At.create(La(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(r=>yT(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}}(n.compositeFilter.op))}(s):_e(30097,{filter:s})}function Vx(s){return bx[s]}function Px(s){return Ax[s]}function Ux(s){return Sx[s]}function Ua(s){return{fieldPath:s.canonicalString()}}function La(s){return Gt.fromServerFormat(s.fieldPath)}function _T(s){return s instanceof At?function(n){if(n.op==="=="){if(Pv(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NAN"}};if(Vv(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Pv(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NAN"}};if(Vv(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(n.field),op:Px(n.op),value:n.value}}}(s):s instanceof Qn?function(n){const r=n.getFilters().map(o=>_T(o));return r.length===1?r[0]:{compositeFilter:{op:Ux(n.op),filters:r}}}(s):_e(54877,{filter:s})}function Lx(s){const e=[];return s.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,r,o,c=be.min(),d=be.min(),g=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.yt=e}}function zx(s){const e=Ox({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?gm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.Cn=new qx}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(zs.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(zs.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class qx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Dt(nt.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Dt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ET=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(ET,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new $a(0)}static cr(){return new $a(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="LruGarbageCollector",Hx=1048576;function Wv([s,e],[n,r]){const o=Pe(s,n);return o===0?Pe(e,r):o}class Fx{constructor(e){this.Ir=e,this.buffer=new Dt(Wv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Wv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Gx{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(Zv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){io(n)?oe(Zv,"Ignoring IndexedDB error during garbage collection: ",n):await no(n)}await this.Vr(3e5)})}}class Kx{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return J.resolve(ch.ce);const r=new Fx(n);return this.mr.forEachTarget(e,o=>r.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>r.Ar(o))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve($v)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$v):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,c,d,g,p,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(e,o))).next(x=>(r=x,g=Date.now(),this.removeTargets(e,r,n))).next(x=>(c=x,p=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(y=Date.now(),Va()<=Ve.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${x} documents in `+(y-p)+`ms
Total Duration: ${y-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x})))}}function Qx(s,e){return new Kx(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(){this.changes=new Br(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(r!==null&&Rl(r.mutation,o,Tn.empty(),it.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ue()){const o=Or();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(c=>{let d=_l();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const r=Or();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ue()))}populateOverlays(e,n,r){const o=[];return r.forEach(c=>{n.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,g)=>{n.set(d,g)})})}computeViews(e,n,r,o){let c=$i();const d=wl(),g=function(){return wl()}();return n.forEach((p,y)=>{const b=r.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof Qs)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Rl(b.mutation,y,b.mutation.getFieldMask(),it.now())):d.set(y.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,b)=>d.set(y,b)),n.forEach((y,b)=>g.set(y,new Xx(b,d.get(y)??null))),g))}recalculateAndSaveOverlays(e,n){const r=wl();let o=new lt((d,g)=>d-g),c=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const g of d)g.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let b=r.get(p)||Tn.empty();b=g.applyToLocalView(y,b),r.set(p,b);const x=(o.get(g.batchId)||Ue()).add(p);o=o.insert(g.batchId,x)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,b=p.value,x=nT();b.forEach(R=>{if(!c.has(R)){const H=lT(n.get(R),r.get(R));H!==null&&x.set(R,H),c=c.add(R)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,x))}return J.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,o){return function(d){return me.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):J.resolve(Or());let g=Nl,p=c;return d.next(y=>J.forEach(y,(b,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),c.get(b)?J.resolve():this.remoteDocumentCache.getEntry(e,b).next(R=>{p=p.insert(b,R)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,Ue())).next(b=>({batchId:g,changes:tT(b)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let o=_l();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const c=n.collectionGroup;let d=_l();return this.indexManager.getCollectionParents(e,c).next(g=>J.forEach(g,p=>{const y=function(x,R){return new so(R,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next(b=>{b.forEach((x,R)=>{d=d.insert(x,R)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,o))).next(d=>{c.forEach((p,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,Wt.newInvalidDocument(b)))});let g=_l();return d.forEach((p,y)=>{const b=c.get(p);b!==void 0&&Rl(b.mutation,y,Tn.empty(),it.now()),gh(n,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:mi(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:zx(o.bundledQuery),readTime:mi(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(){this.overlays=new lt(me.comparator),this.qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Or();return J.forEach(n,o=>this.getOverlay(e,o).next(c=>{c!==null&&r.set(o,c)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,c)=>{this.St(e,n,c)}),J.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const o=Or(),c=n.length+1,d=new me(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>r&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new lt((y,b)=>y-b);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let b=c.get(y.largestBatchId);b===null&&(b=Or(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=Or(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,b)=>g.set(y,b)),!(g.size()>=o)););return J.resolve(g)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new px(n,r));let c=this.qr.get(n);c===void 0&&(c=Ue(),this.qr.set(n,c)),this.qr.set(n,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(){this.Qr=new Dt(Lt.$r),this.Ur=new Dt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Lt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Lt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new me(new nt([])),r=new Lt(n,e),o=new Lt(n,e+1),c=[];return this.Ur.forEachInRange([r,o],d=>{this.Gr(d),c.push(d.key)}),c}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new nt([])),r=new Lt(n,e),o=new Lt(n,e+1);let c=Ue();return this.Ur.forEachInRange([r,o],d=>{c=c.add(d.key)}),c}containsKey(e){const n=new Lt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Dt(Lt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new gx(c,n,r,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Lt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?zm:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Lt(n,0),o=new Lt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],d=>{const g=this.Xr(d.Yr);c.push(g)}),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dt(Pe);return n.forEach(o=>{const c=new Lt(o,0),d=new Lt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],g=>{r=r.add(g.Yr)})}),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;me.isDocumentKey(c)||(c=c.child(""));const d=new Lt(new me(c),0);let g=new Dt(Pe);return this.Zr.forEachWhile(p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Yr)),!0)},d),J.resolve(this.ti(g))}ti(e){const n=[];return e.forEach(r=>{const o=this.Xr(r);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(n.mutations,o=>{const c=new Lt(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Lt(n,0),o=this.Zr.firstAfterOrEqual(r);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.ri=e,this.docs=function(){return new lt(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,d=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=$i();return n.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Wt.newInvalidDocument(o))}),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=$i();const d=n.path,g=new me(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:b}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||NR(CR(b),r)<=0||(o.has(b.key)||gh(n,b))&&(c=c.insert(b.key,b.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,n,r,o){_e(9500)}ii(e,n){return J.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new nI(this)}getSize(e){return J.resolve(this.size)}}class nI extends Yx{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)}),J.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.persistence=e,this.si=new Br(n=>Hm(n),Fm),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new Xm,this.targetCount=0,this.ai=$a.ur()}forEachTarget(e,n){return this.si.forEach((r,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),J.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new $a(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Pr(n),J.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.si.forEach((d,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),J.waitFor(c).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),J.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n){this.ui={},this.overlays={},this.ci=new ch(0),this.li=!1,this.li=!0,this.hi=new Jx,this.referenceDelegate=e(this),this.Pi=new iI(this),this.indexManager=new Bx,this.remoteDocumentCache=function(o){return new tI(o)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new jx(n),this.Ii=new Zx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Wx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new eI(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const o=new sI(this.ci.next());return this.referenceDelegate.Ei(),r(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ai(e,n){return J.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class sI extends MR{constructor(e){super(),this.currentSequenceNumber=e}}class $m{constructor(e){this.persistence=e,this.Ri=new Xm,this.Vi=null}static mi(e){return new $m(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(c=>this.fi.add(c.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,r=>{const o=me.fromPath(r);return this.gi(e,o).next(c=>{c||n.removeEntry(o,be.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Jc{constructor(e,n){this.persistence=e,this.pi=new Br(r=>VR(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=Qx(this,n)}static mi(e,n){return new Jc(e,n)}Ei(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(o=>r+o))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return J.forEach(this.pi,(r,o)=>this.br(e,r,o).next(c=>c?J.resolve():n(o)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,d=>this.br(e,d,n).next(g=>{g||(r++,c.removeEntry(d,be.min()))})).next(()=>c.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mc(e.data.value)),n}br(e,n,r){return J.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=Ue(),o=Ue();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Zm(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return ZA()?8:OR(Jt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const c={result:null};return this.ys(e,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ws(e,n,o,r).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new rI;return this.Ss(e,n,d).next(g=>{if(c.result=g,this.Vs)return this.bs(e,n,d,g.size)})}).next(()=>c.result)}bs(e,n,r,o){return r.documentReadCount<this.fs?(Va()<=Ve.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Pa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Va()<=Ve.DEBUG&&oe("QueryEngine","Query:",Pa(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Va()<=Ve.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Pa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,di(n))):J.resolve())}ys(e,n){if(zv(n))return J.resolve(null);let r=di(n);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=gm(n,null,"F"),r=di(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const d=Ue(...c);return this.ps.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,r).next(p=>{const y=this.Ds(n,g);return this.Cs(n,y,d,p.readTime)?this.ys(e,gm(n,null,"F")):this.vs(e,y,n,p)}))})))}ws(e,n,r,o){return zv(n)||o.isEqual(be.min())?J.resolve(null):this.ps.getDocuments(e,r).next(c=>{const d=this.Ds(n,c);return this.Cs(n,d,r,o)?J.resolve(null):(Va()<=Ve.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Pa(n)),this.vs(e,d,n,IR(o,Nl)).next(g=>g))})}Ds(e,n){let r=new Dt(JE(e));return n.forEach((o,c)=>{gh(e,c)&&(r=r.add(c))}),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,r){return Va()<=Ve.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Pa(n)),this.ps.getDocumentsMatchingQuery(e,n,zs.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="LocalStore",oI=3e8;class lI{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new lt(Pe),this.xs=new Br(c=>Hm(c),Fm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $x(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function uI(s,e,n,r){return new lI(s,e,n,r)}async function bT(s,e){const n=Ae(s);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(c=>{const d=[],g=[];let p=Ue();for(const y of o){d.push(y.batchId);for(const b of y.mutations)p=p.add(b.key)}for(const y of c){g.push(y.batchId);for(const b of y.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(r,p).next(y=>({Ls:y,removedBatchIds:d,addedBatchIds:g}))})})}function cI(s,e){const n=Ae(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return function(g,p,y,b){const x=y.batch,R=x.keys();let H=J.resolve();return R.forEach(G=>{H=H.next(()=>b.getEntry(p,G)).next($=>{const ee=y.docVersions.get(G);Ge(ee!==null,48541),$.version.compareTo(ee)<0&&(x.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),b.addEntry($)))})}),H.next(()=>g.mutationQueue.removeMutationBatch(p,x))}(n,r,e,c).next(()=>c.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(g){let p=Ue();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}function AT(s){const e=Ae(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function hI(s,e){const n=Ae(s),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const g=[];e.targetChanges.forEach((b,x)=>{const R=o.get(x);if(!R)return;g.push(n.Pi.removeMatchingKeys(c,b.removedDocuments,x).next(()=>n.Pi.addMatchingKeys(c,b.addedDocuments,x)));let H=R.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?H=H.withResumeToken(Kt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):b.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(b.resumeToken,r)),o=o.insert(x,H),function($,ee,ne){return $.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=oI?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0}(R,H,b)&&g.push(n.Pi.updateTargetData(c,H))});let p=$i(),y=Ue();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,b))}),g.push(fI(c,d,e.documentUpdates).next(b=>{p=b.ks,y=b.qs})),!r.isEqual(be.min())){const b=n.Pi.getLastRemoteSnapshotVersion(c).next(x=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r));g.push(b)}return J.waitFor(g).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(n.Ms=o,c))}function fI(s,e,n){let r=Ue(),o=Ue();return n.forEach(c=>r=r.add(c)),e.getEntries(s,r).next(c=>{let d=$i();return n.forEach((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):oe(Wm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{ks:d,qs:o}})}function dI(s,e){const n=Ae(s);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=zm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mI(s,e){const n=Ae(s);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Pi.getTargetData(r,e).next(c=>c?(o=c,J.resolve(o)):n.Pi.allocateTargetId(r).next(d=>(o=new Ms(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Em(s,e,n){const r=Ae(s),o=r.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,d=>r.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!io(d))throw d;oe(Wm,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Jv(s,e,n){const r=Ae(s);let o=be.min(),c=Ue();return r.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,b){const x=Ae(p),R=x.xs.get(b);return R!==void 0?J.resolve(x.Ms.get(R)):x.Pi.getTargetData(y,b)}(r,d,di(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>r.Fs.getDocumentsMatchingQuery(d,e,n?o:be.min(),n?c:Ue())).next(g=>(gI(r,ex(e),g),{documents:g,Qs:c})))}function gI(s,e,n){let r=s.Os.get(e)||be.min();n.forEach((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),s.Os.set(e,r)}class e0{constructor(){this.activeTargetIds=ax()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pI{constructor(){this.Mo=new e0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new e0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="ConnectivityMonitor";class n0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(t0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(t0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc=null;function Tm(){return wc===null?wc=function(){return 268435456+Math.round(2147483648*Math.random())}():wc++,"0x"+wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="RestConnection",_I={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Qc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,c){const d=Tm(),g=this.zo(e,n.toUriEncodedString());oe(Gd,`Sending RPC '${e}' ${d}:`,g,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:y}=new URL(g),b=Wa(y);return this.Jo(e,g,p,r,b).then(x=>(oe(Gd,`Received RPC '${e}' ${d}: `,x),x),x=>{throw Ka(Gd,`RPC '${e}' ${d} failed with error: `,x,"url: ",g,"request:",r),x})}Ho(e,n,r,o,c,d){return this.Go(e,n,r,o,c)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+to}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,c)=>e[c]=o),r&&r.headers.forEach((o,c)=>e[c]=o)}zo(e,n){const r=_I[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class TI extends vI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,c){const d=Tm();return new Promise((g,p)=>{const y=new RE;y.setWithCredentials(!0),y.listenOnce(xE.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Dc.NO_ERROR:const x=y.getResponseJson();oe($t,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),g(x);break;case Dc.TIMEOUT:oe($t,`RPC '${e}' ${d} timed out`),p(new ae(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const R=y.getStatus();if(oe($t,`RPC '${e}' ${d} failed with status:`,R,"response text:",y.getResponseText()),R>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const G=H?.error;if(G&&G.status&&G.message){const $=function(ne){const re=ne.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(re)>=0?re:Q.UNKNOWN}(G.status);p(new ae($,G.message))}else p(new ae(Q.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ae(Q.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe($t,`RPC '${e}' ${d} completed.`)}});const b=JSON.stringify(o);oe($t,`RPC '${e}' ${d} sending request:`,o),y.send(n,"POST",b,r,15)})}T_(e,n,r){const o=Tm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=NE(),g=CE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const b=c.join("");oe($t,`Creating RPC '${e}' stream ${o}: ${b}`,p);const x=d.createWebChannel(b,p);this.I_(x);let R=!1,H=!1;const G=new EI({Yo:ee=>{H?oe($t,`Not sending because RPC '${e}' stream ${o} is closed:`,ee):(R||(oe($t,`Opening RPC '${e}' stream ${o} transport.`),x.open(),R=!0),oe($t,`RPC '${e}' stream ${o} sending:`,ee),x.send(ee))},Zo:()=>x.close()}),$=(ee,ne,re)=>{ee.listen(ne,ue=>{try{re(ue)}catch(De){setTimeout(()=>{throw De},0)}})};return $(x,yl.EventType.OPEN,()=>{H||(oe($t,`RPC '${e}' stream ${o} transport opened.`),G.o_())}),$(x,yl.EventType.CLOSE,()=>{H||(H=!0,oe($t,`RPC '${e}' stream ${o} transport closed`),G.a_(),this.E_(x))}),$(x,yl.EventType.ERROR,ee=>{H||(H=!0,Ka($t,`RPC '${e}' stream ${o} transport errored. Name:`,ee.name,"Message:",ee.message),G.a_(new ae(Q.UNAVAILABLE,"The operation could not be completed")))}),$(x,yl.EventType.MESSAGE,ee=>{if(!H){const ne=ee.data[0];Ge(!!ne,16349);const re=ne,ue=re?.error||re[0]?.error;if(ue){oe($t,`RPC '${e}' stream ${o} received error:`,ue);const De=ue.status;let ge=function(S){const I=bt[S];if(I!==void 0)return cT(I)}(De),Me=ue.message;ge===void 0&&(ge=Q.INTERNAL,Me="Unknown error status: "+De+" with message "+ue.message),H=!0,G.a_(new ae(ge,Me)),x.close()}else oe($t,`RPC '${e}' stream ${o} received:`,ne),G.u_(ne)}}),$(g,IE.STAT_EVENT,ee=>{ee.stat===lm.PROXY?oe($t,`RPC '${e}' stream ${o} detected buffering proxy`):ee.stat===lm.NOPROXY&&oe($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{G.__()},0),G}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Kd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(s){return new wx(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="PersistentStream";class wT{constructor(e,n,r,o,c,d,g,p){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ST(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Xi(n.toString()),Xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.D_===n&&this.G_(r,o)},r=>{e(()=>{const o=new ae(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{r(()=>this.z_(o))}),this.stream.onMessage(o=>{r(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return oe(i0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(oe(i0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bI extends wT{constructor(e,n,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Ix(this.serializer,e),r=function(c){if(!("targetChange"in c))return be.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?be.min():d.readTime?mi(d.readTime):be.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=vm(this.serializer),n.addTarget=function(c,d){let g;const p=d.target;if(g=dm(p)?{documents:Dx(c,p)}:{query:Mx(c,p).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=dT(c,d.resumeToken);const y=pm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(be.min())>0){g.readTime=Wc(c,d.snapshotVersion.toTimestamp());const y=pm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,e);const r=kx(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=vm(this.serializer),n.removeTarget=e,this.q_(n)}}class AI extends wT{constructor(e,n,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Nx(e.writeResults,e.commitTime),r=mi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=vm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Cx(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{}class wI extends SI{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ae(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Go(e,ym(n,r),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(Q.UNKNOWN,c.toString())})}Ho(e,n,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Ho(e,ym(n,r),o,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ae(Q.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class RI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xi(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="RemoteStore";class xI{constructor(e,n,r,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(d=>{r.enqueueAndForget(async()=>{qr(this)&&(oe(zr,"Restarting streams for network reachability change."),await async function(p){const y=Ae(p);y.Ea.add(4),await Gl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Th(y)}(this))})}),this.Ra=new RI(r,o)}}async function Th(s){if(qr(s))for(const e of s.da)await e(!0)}async function Gl(s){for(const e of s.da)await e(!1)}function RT(s,e){const n=Ae(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ng(n)?tg(n):ro(n).O_()&&eg(n,e))}function Jm(s,e){const n=Ae(s),r=ro(n);n.Ia.delete(e),r.O_()&&xT(n,e),n.Ia.size===0&&(r.O_()?r.L_():qr(n)&&n.Ra.set("Unknown"))}function eg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ro(s).Y_(e)}function xT(s,e){s.Va.Ue(e),ro(s).Z_(e)}function tg(s){s.Va=new Tx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),ro(s).start(),s.Ra.ua()}function ng(s){return qr(s)&&!ro(s).x_()&&s.Ia.size>0}function qr(s){return Ae(s).Ea.size===0}function IT(s){s.Va=void 0}async function II(s){s.Ra.set("Online")}async function CI(s){s.Ia.forEach((e,n)=>{eg(s,e)})}async function NI(s,e){IT(s),ng(s)?(s.Ra.ha(e),tg(s)):s.Ra.set("Unknown")}async function DI(s,e,n){if(s.Ra.set("Online"),e instanceof fT&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))}(s,e)}catch(r){oe(zr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await eh(s,r)}else if(e instanceof Vc?s.Va.Ze(e):e instanceof hT?s.Va.st(e):s.Va.tt(e),!n.isEqual(be.min()))try{const r=await AT(s.localStore);n.compareTo(r)>=0&&await function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,y)=>{const b=c.Ia.get(p);if(!b)return;c.Ia.set(p,b.withResumeToken(Kt.EMPTY_BYTE_STRING,b.snapshotVersion)),xT(c,p);const x=new Ms(b.target,p,y,b.sequenceNumber);eg(c,x)}),c.remoteSyncer.applyRemoteEvent(g)}(s,n)}catch(r){oe(zr,"Failed to raise snapshot:",r),await eh(s,r)}}async function eh(s,e,n){if(!io(e))throw e;s.Ea.add(1),await Gl(s),s.Ra.set("Offline"),n||(n=()=>AT(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{oe(zr,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Th(s)})}function CT(s,e){return e().catch(n=>eh(s,n,e))}async function bh(s){const e=Ae(s),n=Fs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zm;for(;MI(e);)try{const o=await dI(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,OI(e,o)}catch(o){await eh(e,o)}NT(e)&&DT(e)}function MI(s){return qr(s)&&s.Ta.length<10}function OI(s,e){s.Ta.push(e);const n=Fs(s);n.O_()&&n.X_&&n.ea(e.mutations)}function NT(s){return qr(s)&&!Fs(s).x_()&&s.Ta.length>0}function DT(s){Fs(s).start()}async function kI(s){Fs(s).ra()}async function VI(s){const e=Fs(s);for(const n of s.Ta)e.ea(n.mutations)}async function PI(s,e,n){const r=s.Ta.shift(),o=Km.from(r,e,n);await CT(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await bh(s)}async function UI(s,e){e&&Fs(s).X_&&await async function(r,o){if(function(d){return _x(d)&&d!==Q.ABORTED}(o.code)){const c=r.Ta.shift();Fs(r).B_(),await CT(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o)),await bh(r)}}(s,e),NT(s)&&DT(s)}async function s0(s,e){const n=Ae(s);n.asyncQueue.verifyOperationInProgress(),oe(zr,"RemoteStore received new credentials");const r=qr(n);n.Ea.add(3),await Gl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Th(n)}async function LI(s,e){const n=Ae(s);e?(n.Ea.delete(2),await Th(n)):e||(n.Ea.add(2),await Gl(n),n.Ra.set("Unknown"))}function ro(s){return s.ma||(s.ma=function(n,r,o){const c=Ae(n);return c.sa(),new bI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(s.datastore,s.asyncQueue,{Xo:II.bind(null,s),t_:CI.bind(null,s),r_:NI.bind(null,s),H_:DI.bind(null,s)}),s.da.push(async e=>{e?(s.ma.B_(),ng(s)?tg(s):s.Ra.set("Unknown")):(await s.ma.stop(),IT(s))})),s.ma}function Fs(s){return s.fa||(s.fa=function(n,r,o){const c=Ae(n);return c.sa(),new AI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:kI.bind(null,s),r_:UI.bind(null,s),ta:VI.bind(null,s),na:PI.bind(null,s)}),s.da.push(async e=>{e?(s.fa.B_(),await bh(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(zr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))})),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,c){const d=Date.now()+r,g=new ig(e,n,d,o,c);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(s,e){if(Xi("AsyncQueue",`${e}: ${s}`),io(s))return new ae(Q.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{static emptySet(e){return new Fa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=_l(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(){this.ga=new lt(me.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Za{constructor(e,n,r,o,c,d,g,p,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,c){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new Za(e,n,Fa.emptySet(n),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class zI{constructor(){this.queries=a0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ae(n),c=o.queries;o.queries=a0(),c.forEach((d,g)=>{for(const p of g.Sa)p.onError(r)})})(this,new ae(Q.ABORTED,"Firestore shutting down"))}}function a0(){return new Br(s=>WE(s),mh)}async function rg(s,e){const n=Ae(s);let r=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new jI,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const g=sg(d,`Initialization of query '${Pa(e.query)}' failed`);return void e.onError(g)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&og(n)}async function ag(s,e){const n=Ae(s),r=e.query;let o=3;const c=n.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function BI(s,e){const n=Ae(s);let r=!1;for(const o of e){const c=o.query,d=n.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(r=!0);d.wa=o}}r&&og(n)}function qI(s,e,n){const r=Ae(s),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);r.queries.delete(e)}function og(s){s.Ca.forEach(e=>{e.next()})}var bm,o0;(o0=bm||(bm={})).Ma="default",o0.Cache="cache";class lg{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Za(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e){this.key=e}}class OT{constructor(e){this.key=e}}class HI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=JE(e),this.tu=new Fa(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new r0,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((b,x)=>{const R=o.get(b),H=gh(this.query,x)?x:null,G=!!R&&this.mutatedKeys.has(R.key),$=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let ee=!1;R&&H?R.data.isEqual(H.data)?G!==$&&(r.track({type:3,doc:H}),ee=!0):this.su(R,H)||(r.track({type:2,doc:H}),ee=!0,(p&&this.eu(H,p)>0||y&&this.eu(H,y)<0)&&(g=!0)):!R&&H?(r.track({type:0,doc:H}),ee=!0):R&&!H&&(r.track({type:1,doc:R}),ee=!0,(p||y)&&(g=!0)),ee&&(H?(d=d.add(H),c=$?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),r.track({type:1,doc:b})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((b,x)=>function(H,G){const $=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:ee})}};return $(H)-$(G)}(b.type,x.type)||this.eu(b.doc,x.doc)),this.ou(r),o=o??!1;const g=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,d.length!==0||y?{snapshot:new Za(this.query,e.tu,c,d,e.mutatedKeys,p===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new r0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new OT(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new MT(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ug="SyncEngine";class FI{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class GI{constructor(e){this.key=e,this.hu=!1}}class KI{constructor(e,n,r,o,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Br(g=>WE(g),mh),this.Iu=new Map,this.Eu=new Set,this.du=new lt(me.comparator),this.Au=new Map,this.Ru=new Xm,this.Vu={},this.mu=new Map,this.fu=$a.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QI(s,e,n=!0){const r=jT(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await kT(r,e,n,!0),o}async function YI(s,e){const n=jT(s);await kT(n,e,!0,!1)}async function kT(s,e,n,r){const o=await mI(s.localStore,di(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,n);let g;return r&&(g=await XI(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&n&&RT(s.remoteStore,o),g}async function XI(s,e,n,r,o){s.pu=(x,R,H)=>async function($,ee,ne,re){let ue=ee.view.ru(ne);ue.Cs&&(ue=await Jv($.localStore,ee.query,!1).then(({documents:k})=>ee.view.ru(k,ue)));const De=re&&re.targetChanges.get(ee.targetId),ge=re&&re.targetMismatches.get(ee.targetId)!=null,Me=ee.view.applyChanges(ue,$.isPrimaryClient,De,ge);return u0($,ee.targetId,Me.au),Me.snapshot}(s,x,R,H);const c=await Jv(s.localStore,e,!0),d=new HI(e,c.Qs),g=d.ru(c.documents),p=Fl.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=d.applyChanges(g,s.isPrimaryClient,p);u0(s,n,y.au);const b=new FI(e,n,d);return s.Tu.set(e,b),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function $I(s,e,n){const r=Ae(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter(d=>!mh(d,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Em(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Jm(r.remoteStore,o.targetId),Am(r,o.targetId)}).catch(no)):(Am(r,o.targetId),await Em(r.localStore,o.targetId,!0))}async function ZI(s,e){const n=Ae(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jm(n.remoteStore,r.targetId))}async function WI(s,e,n){const r=rC(s);try{const o=await function(d,g){const p=Ae(d),y=it.now(),b=g.reduce((H,G)=>H.add(G.key),Ue());let x,R;return p.persistence.runTransaction("Locally write mutations","readwrite",H=>{let G=$i(),$=Ue();return p.Ns.getEntries(H,b).next(ee=>{G=ee,G.forEach((ne,re)=>{re.isValidDocument()||($=$.add(ne))})}).next(()=>p.localDocuments.getOverlayedDocuments(H,G)).next(ee=>{x=ee;const ne=[];for(const re of g){const ue=dx(re,x.get(re.key).overlayedDocument);ue!=null&&ne.push(new Qs(re.key,ue,FE(ue.value.mapValue),cn.exists(!0)))}return p.mutationQueue.addMutationBatch(H,y,ne,g)}).next(ee=>{R=ee;const ne=ee.applyToLocalDocumentSet(x,$);return p.documentOverlayCache.saveOverlays(H,ee.batchId,ne)})}).then(()=>({batchId:R.batchId,changes:tT(x)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(d,g,p){let y=d.Vu[d.currentUser.toKey()];y||(y=new lt(Pe)),y=y.insert(g,p),d.Vu[d.currentUser.toKey()]=y}(r,o.batchId,n),await Kl(r,o.changes),await bh(r.remoteStore)}catch(o){const c=sg(o,"Failed to persist write");n.reject(c)}}async function VT(s,e){const n=Ae(s);try{const r=await hI(n.localStore,e);e.targetChanges.forEach((o,c)=>{const d=n.Au.get(c);d&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ge(d.hu,14607):o.removedDocuments.size>0&&(Ge(d.hu,42227),d.hu=!1))}),await Kl(n,r,e)}catch(r){await no(r)}}function l0(s,e,n){const r=Ae(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const p=Ae(d);p.onlineState=g;let y=!1;p.queries.forEach((b,x)=>{for(const R of x.Sa)R.va(g)&&(y=!0)}),y&&og(p)}(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JI(s,e,n){const r=Ae(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new lt(me.comparator);d=d.insert(c,Wt.newNoDocument(c,be.min()));const g=Ue().add(c),p=new vh(be.min(),new Map,new lt(Pe),d,g);await VT(r,p),r.du=r.du.remove(c),r.Au.delete(e),cg(r)}else await Em(r.localStore,e,!1).then(()=>Am(r,e,n)).catch(no)}async function eC(s,e){const n=Ae(s),r=e.batch.batchId;try{const o=await cI(n.localStore,e);UT(n,r,null),PT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Kl(n,o)}catch(o){await no(o)}}async function tC(s,e,n){const r=Ae(s);try{const o=await function(d,g){const p=Ae(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let b;return p.mutationQueue.lookupMutationBatch(y,g).next(x=>(Ge(x!==null,37113),b=x.keys(),p.mutationQueue.removeMutationBatch(y,x))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,b,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b)).next(()=>p.localDocuments.getDocuments(y,b))})}(r.localStore,e);UT(r,e,n),PT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Kl(r,o)}catch(o){await no(o)}}function PT(s,e){(s.mu.get(e)||[]).forEach(n=>{n.resolve()}),s.mu.delete(e)}function UT(s,e,n){const r=Ae(s);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Am(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach(r=>{s.Ru.containsKey(r)||LT(s,r)})}function LT(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(Jm(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),cg(s))}function u0(s,e,n){for(const r of n)r instanceof MT?(s.Ru.addReference(r.key,e),nC(s,r)):r instanceof OT?(oe(ug,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||LT(s,r.key)):_e(19791,{wu:r})}function nC(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(oe(ug,"New document in limbo: "+n),s.Eu.add(r),cg(s))}function cg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new me(nt.fromString(e)),r=s.fu.next();s.Au.set(r,new GI(n)),s.du=s.du.insert(n,r),RT(s.remoteStore,new Ms(di(dh(n.path)),r,"TargetPurposeLimboResolution",ch.ce))}}async function Kl(s,e,n){const r=Ae(s),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach((g,p)=>{d.push(r.pu(p,e,n).then(y=>{if((y||n)&&r.isPrimaryClient){const b=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Zm.As(p.targetId,y);c.push(b)}}))}),await Promise.all(d),r.Pu.H_(o),await async function(p,y){const b=Ae(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>J.forEach(y,R=>J.forEach(R.Es,H=>b.persistence.referenceDelegate.addReference(x,R.targetId,H)).next(()=>J.forEach(R.ds,H=>b.persistence.referenceDelegate.removeReference(x,R.targetId,H)))))}catch(x){if(!io(x))throw x;oe(Wm,"Failed to update sequence numbers: "+x)}for(const x of y){const R=x.targetId;if(!x.fromCache){const H=b.Ms.get(R),G=H.snapshotVersion,$=H.withLastLimboFreeSnapshotVersion(G);b.Ms=b.Ms.insert(R,$)}}}(r.localStore,c))}async function iC(s,e){const n=Ae(s);if(!n.currentUser.isEqual(e)){oe(ug,"User change. New user:",e.toKey());const r=await bT(n.localStore,e);n.currentUser=e,function(c,d){c.mu.forEach(g=>{g.forEach(p=>{p.reject(new ae(Q.CANCELLED,d))})}),c.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Kl(n,r.Ls)}}function sC(s,e){const n=Ae(s),r=n.Au.get(e);if(r&&r.hu)return Ue().add(r.key);{let o=Ue();const c=n.Iu.get(e);if(!c)return o;for(const d of c){const g=n.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function jT(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=VT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JI.bind(null,e),e.Pu.H_=BI.bind(null,e.eventManager),e.Pu.yu=qI.bind(null,e.eventManager),e}function rC(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tC.bind(null,e),e}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Eh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return uI(this.persistence,new aI,e.initialUser,this.serializer)}Cu(e){return new TT($m.mi,this.serializer)}Du(e){return new pI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class aC extends th{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof Jc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Gx(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new TT(r=>Jc.mi(r,n),this.serializer)}}class Sm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>l0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iC.bind(null,this.syncEngine),await LI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zI}()}createDatastore(e){const n=Eh(e.databaseInfo.databaseId),r=function(c){return new TI(c)}(e.databaseInfo);return function(c,d,g,p){return new wI(c,d,g,p)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,o,c,d,g){return new xI(r,o,c,d,g)}(this.localStore,this.datastore,e.asyncQueue,n=>l0(this.syncEngine,n,0),function(){return n0.v()?new n0:new yI}())}createSyncEngine(e,n){return function(o,c,d,g,p,y,b){const x=new KI(o,c,d,g,p,y);return b&&(x.gu=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const r=Ae(n);oe(zr,"RemoteStore shutting down."),r.Ea.add(5),await Gl(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sm.provider={build:()=>new Sm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="FirestoreClient";class oC{constructor(e,n,r,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,async d=>{oe(Gs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(oe(Gs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=sg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Qd(s,e){s.asyncQueue.verifyOperationInProgress(),oe(Gs,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener(async o=>{r.isEqual(o)||(await bT(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function c0(s,e){s.asyncQueue.verifyOperationInProgress();const n=await lC(s);oe(Gs,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener(r=>s0(e.remoteStore,r)),s.setAppCheckTokenChangeListener((r,o)=>s0(e.remoteStore,o)),s._onlineComponents=e}async function lC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(Gs,"Using user provided OfflineComponentProvider");try{await Qd(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ka("Error using user provided cache. Falling back to memory cache: "+n),await Qd(s,new th)}}else oe(Gs,"Using default OfflineComponentProvider"),await Qd(s,new aC(void 0));return s._offlineComponents}async function zT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(Gs,"Using user provided OnlineComponentProvider"),await c0(s,s._uninitializedComponentsProvider._online)):(oe(Gs,"Using default OnlineComponentProvider"),await c0(s,new Sm))),s._onlineComponents}function uC(s){return zT(s).then(e=>e.syncEngine)}async function nh(s){const e=await zT(s),n=e.eventManager;return n.onListen=QI.bind(null,e.syncEngine),n.onUnlisten=$I.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=YI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ZI.bind(null,e.syncEngine),n}function cC(s,e,n={}){const r=new Gi;return s.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,y){const b=new hg({next:R=>{b.Nu(),d.enqueueAndForget(()=>ag(c,x));const H=R.docs.has(g);!H&&R.fromCache?y.reject(new ae(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&R.fromCache&&p&&p.source==="server"?y.reject(new ae(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),x=new lg(dh(g.path),b,{includeMetadataChanges:!0,qa:!0});return rg(c,x)}(await nh(s),s.asyncQueue,e,n,r)),r.promise}function hC(s,e,n={}){const r=new Gi;return s.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,y){const b=new hg({next:R=>{b.Nu(),d.enqueueAndForget(()=>ag(c,x)),R.fromCache&&p.source==="server"?y.reject(new ae(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),x=new lg(g,b,{includeMetadataChanges:!0,qa:!0});return rg(c,x)}(await nh(s),s.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="firestore.googleapis.com",f0=!0;class d0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qT,this.ssl=f0}else this.host=e.host,this.ssl=e.ssl??f0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ET;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Hx)throw new ae(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BT(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ah{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yR;switch(r.type){case"firstParty":return new TR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=h0.get(n);r&&(oe("ComponentProvider","Removing Datastore"),h0.delete(n),r.terminate())}(this),Promise.resolve()}}function fC(s,e,n,r={}){s=bn(s,Ah);const o=Wa(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${n}`;o&&(j0(`https://${g}`),z0("Firestore",!0)),c.host!==qT&&c.host!==g&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:g,ssl:o,emulatorOptions:r};if(!Pr(p,d)&&(s._setSettings(p),r.mockUserToken)){let y,b;if(typeof r.mockUserToken=="string")y=r.mockUserToken,b=Zt.MOCK_USER;else{y=qA(r.mockUserToken,s._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new ae(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Zt(x)}s._authCredentials=new _R(new ME(y,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ys(this.firestore,e,this._query)}}class yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ql(n,yt._jsonSchema))return new yt(e,r||null,new me(nt.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:St("string",yt._jsonSchemaVersion),referencePath:St("string")};class Ls extends Ys{constructor(e,n,r){super(e,n,dh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new me(e))}withConverter(e){return new Ls(this.firestore,e,this._path)}}function Dr(s,e,...n){if(s=Mt(s),OE("collection","path",e),s instanceof Ah){const r=nt.fromString(e,...n);return Rv(r),new Ls(s,null,r)}{if(!(s instanceof yt||s instanceof Ls))throw new ae(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(nt.fromString(e,...n));return Rv(r),new Ls(s.firestore,null,r)}}function ja(s,e,...n){if(s=Mt(s),arguments.length===1&&(e=jm.newId()),OE("doc","path",e),s instanceof Ah){const r=nt.fromString(e,...n);return wv(r),new yt(s,null,new me(r))}{if(!(s instanceof yt||s instanceof Ls))throw new ae(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(nt.fromString(e,...n));return wv(r),new yt(s.firestore,s instanceof Ls?s.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="AsyncQueue";class g0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ST(this,"async_queue_retry"),this._c=()=>{const r=Kd();r&&oe(m0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Kd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Kd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Gi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!io(e))throw e;oe(m0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Xi("INTERNAL UNHANDLED ERROR: ",p0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ig.createAndSchedule(this,e,n,r,c=>this.hc(c));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:p0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function p0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(s){return function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1}(s,["next","error","complete"])}class Zi extends Ah{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new g0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new g0(e),this._firestoreClient=void 0,await e}}}function dC(s,e){const n=typeof s=="object"?s:F0(),r=typeof s=="string"?s:Qc,o=Nm(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=zA("firestore");c&&fC(o,...c)}return o}function Ql(s){if(s._terminated)throw new ae(Q.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||mC(s),s._firestoreClient}function mC(s){const e=s._freezeSettings(),n=function(o,c,d,g){return new LR(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,BT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new oC(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Kt.fromBase64String(e))}catch(n){throw new ae(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ln(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ql(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:St("string",Ln._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gi._jsonSchemaVersion}}static fromJSON(e){if(ql(e,gi._jsonSchema))return new gi(e.latitude,e.longitude)}}gi._jsonSchemaVersion="firestore/geoPoint/1.0",gi._jsonSchema={type:St("string",gi._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ql(e,pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new pi(e.vectorValues);throw new ae(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:St("string",pi._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=/^__.*__$/;class pC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hl(e,this.data,n,this.fieldTransforms)}}class HT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function FT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:s})}}class dg{constructor(e,n,r,o,c,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new dg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(FT(this.Ac)&&gC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class yC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Eh(e)}Cc(e,n,r,o=!1){return new dg({Ac:e,methodName:n,Dc:r,path:Gt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sh(s){const e=s._freezeSettings(),n=Eh(s._databaseId);return new yC(s._databaseId,!!e.ignoreUndefinedProperties,n)}function GT(s,e,n,r,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,n,o);mg("Data must be an object, but it was:",d,r);const g=YT(r,d);let p,y;if(c.merge)p=new Tn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const x of c.mergeFields){const R=wm(e,x,n);if(!d.contains(R))throw new ae(Q.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);$T(b,R)||b.push(R)}p=new Tn(b),y=d.fieldTransforms.filter(x=>p.covers(x.field))}else p=null,y=d.fieldTransforms;return new pC(new un(g),p,y)}class wh extends fg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wh}}function KT(s,e,n,r){const o=s.Cc(1,e,n);mg("Data must be an object, but it was:",o,r);const c=[],d=un.empty();Ks(r,(p,y)=>{const b=gg(e,p,n);y=Mt(y);const x=o.yc(b);if(y instanceof wh)c.push(b);else{const R=Xl(y,x);R!=null&&(c.push(b),d.set(b,R))}});const g=new Tn(c);return new HT(d,g,o.fieldTransforms)}function QT(s,e,n,r,o,c){const d=s.Cc(1,e,n),g=[wm(e,r,n)],p=[o];if(c.length%2!=0)throw new ae(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<c.length;R+=2)g.push(wm(e,c[R])),p.push(c[R+1]);const y=[],b=un.empty();for(let R=g.length-1;R>=0;--R)if(!$T(y,g[R])){const H=g[R];let G=p[R];G=Mt(G);const $=d.yc(H);if(G instanceof wh)y.push(H);else{const ee=Xl(G,$);ee!=null&&(y.push(H),b.set(H,ee))}}const x=new Tn(y);return new HT(b,x,d.fieldTransforms)}function _C(s,e,n,r=!1){return Xl(n,s.Cc(r?4:3,e))}function Xl(s,e){if(XT(s=Mt(s)))return mg("Unsupported field value:",e,s),YT(s,e);if(s instanceof fg)return function(r,o){if(!FT(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,o){const c=[];let d=0;for(const g of r){let p=Xl(g,o.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(s,e)}return function(r,o){if((r=Mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ox(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=it.fromDate(r);return{timestampValue:Wc(o.serializer,c)}}if(r instanceof it){const c=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wc(o.serializer,c)}}if(r instanceof gi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ln)return{bytesValue:dT(o.serializer,r._byteString)};if(r instanceof yt){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ym(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof pi)return function(d,g){return{mapValue:{fields:{[qE]:{stringValue:HE},[Yc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Gm(g.serializer,y)})}}}}}}(r,o);throw o.Sc(`Unsupported field value: ${uh(r)}`)}(s,e)}function YT(s,e){const n={};return PE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(s,(r,o)=>{const c=Xl(o,e.mc(r));c!=null&&(n[r]=c)}),{mapValue:{fields:n}}}function XT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof it||s instanceof gi||s instanceof Ln||s instanceof yt||s instanceof fg||s instanceof pi)}function mg(s,e,n){if(!XT(n)||!kE(n)){const r=uh(n);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function wm(s,e,n){if((e=Mt(e))instanceof Yl)return e._internalPath;if(typeof e=="string")return gg(s,e);throw ih("Field path arguments must be of type string or ",s,!1,void 0,n)}const vC=new RegExp("[~\\*/\\[\\]]");function gg(s,e,n){if(e.search(vC)>=0)throw ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Yl(...e.split("."))._internalPath}catch{throw ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function ih(s,e,n,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${r}`),d&&(p+=` in document ${o}`),p+=")"),new ae(Q.INVALID_ARGUMENT,g+s+p)}function $T(s,e){return s.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class EC extends ZT{data(){return super.data()}}function Rh(s,e){return typeof e=="string"?gg(s,e):e instanceof Yl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ae(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pg{}class JT extends pg{}function Rc(s,e,...n){let r=[];e instanceof pg&&r.push(e),r=r.concat(n),function(c){const d=c.filter(p=>p instanceof yg).length,g=c.filter(p=>p instanceof xh).length;if(d>1||d>0&&g>0)throw new ae(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)s=o._apply(s);return s}class xh extends JT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xh(e,n,r)}_apply(e){const n=this._parse(e);return e1(e._query,n),new Ys(e.firestore,e.converter,mm(e._query,n))}_parse(e){const n=Sh(e.firestore);return function(c,d,g,p,y,b,x){let R;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ae(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){v0(x,b);const G=[];for(const $ of x)G.push(_0(p,c,$));R={arrayValue:{values:G}}}else R=_0(p,c,x)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||v0(x,b),R=_C(g,d,x,b==="in"||b==="not-in");return At.create(y,b,R)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function TC(s,e,n){const r=e,o=Rh("where",s);return xh._create(o,r,n)}class yg extends pg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new yg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,c){let d=o;const g=c.getFlattenedFilters();for(const p of g)e1(d,p),d=mm(d,p)}(e._query,n),new Ys(e.firestore,e.converter,mm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _g extends JT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new _g(e,n)}_apply(e){const n=function(o,c,d){if(o.startAt!==null)throw new ae(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ae(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kl(c,d)}(e._query,this._field,this._direction);return new Ys(e.firestore,e.converter,function(o,c){const d=o.explicitOrderBy.concat([c]);return new so(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function Yd(s,e="asc"){const n=e,r=Rh("orderBy",s);return _g._create(r,n)}function _0(s,e,n){if(typeof(n=Mt(n))=="string"){if(n==="")throw new ae(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZE(e)&&n.indexOf("/")!==-1)throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nt.fromString(n));if(!me.isDocumentKey(r))throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kv(s,new me(r))}if(n instanceof yt)return kv(s,n._key);throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uh(n)}.`)}function v0(s,e){if(!Array.isArray(s)||s.length===0)throw new ae(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e1(s,e){const n=function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bC{convertValue(e,n="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ks(e,(o,c)=>{r[o]=this.convertValue(c,n)}),r}convertVectorValue(e){const n=e.fields?.[Yc].arrayValue?.values?.map(r=>pt(r.doubleValue));return new pi(n)}convertGeoPoint(e){return new gi(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=fh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dl(e));default:return null}}convertTimestamp(e){const n=Bs(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nt.fromString(e);Ge(vT(r),9688,{name:e});const o=new Ml(r.get(1),r.get(3)),c=new me(r.popFirst(5));return o.isEqual(n)||Xi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(s,e,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,r}class El{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kr extends ZT{constructor(e,n,r,o,c,d){super(e,n,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Rh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=kr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",kr._jsonSchema={type:St("string",kr._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class Pc extends kr{data(e={}){return super.data(e)}}class Vr{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new El(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Pc(this._firestore,this._userDataWriter,r.key,r,new El(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const p=new Pc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new El(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new Pc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new El(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:AC(g.type),doc:p,oldIndex:y,newIndex:b}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(s){s=bn(s,yt);const e=bn(s.firestore,Zi);return cC(Ql(e),s._key).then(n=>n1(e,s,n))}Vr._jsonSchemaVersion="firestore/querySnapshot/1.0",Vr._jsonSchema={type:St("string",Vr._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};class vg extends bC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function E0(s){s=bn(s,Ys);const e=bn(s.firestore,Zi),n=Ql(e),r=new vg(e);return WT(s._query),hC(n,s._query).then(o=>new Vr(e,r,s,o))}function T0(s,e,n,...r){s=bn(s,yt);const o=bn(s.firestore,Zi),c=Sh(o);let d;return d=typeof(e=Mt(e))=="string"||e instanceof Yl?QT(c,"updateDoc",s._key,e,n,r):KT(c,"updateDoc",s._key,e),Ih(o,[d.toMutation(s._key,cn.exists(!0))])}function b0(s){return Ih(bn(s.firestore,Zi),[new _h(s._key,cn.none())])}function Xd(s,e){const n=bn(s.firestore,Zi),r=ja(s),o=t1(s.converter,e);return Ih(n,[GT(Sh(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,cn.exists(!1))]).then(()=>r)}function $d(s,...e){s=Mt(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||y0(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(y0(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let c,d,g;if(s instanceof yt)d=bn(s.firestore,Zi),g=dh(s._key.path),c={next:p=>{e[r]&&e[r](n1(d,s,p))},error:e[r+1],complete:e[r+2]};else{const p=bn(s,Ys);d=bn(p.firestore,Zi),g=p._query;const y=new vg(d);c={next:b=>{e[r]&&e[r](new Vr(d,y,p,b))},error:e[r+1],complete:e[r+2]},WT(s._query)}return function(y,b,x,R){const H=new hg(R),G=new lg(b,H,x);return y.asyncQueue.enqueueAndForget(async()=>rg(await nh(y),G)),()=>{H.Nu(),y.asyncQueue.enqueueAndForget(async()=>ag(await nh(y),G))}}(Ql(d),g,o,c)}function Ih(s,e){return function(r,o){const c=new Gi;return r.asyncQueue.enqueueAndForget(async()=>WI(await uC(r),o,c)),c.promise}(Ql(s),e)}function n1(s,e,n){const r=n.docs.get(e._key),o=new vg(s);return new kr(s,o,e._key,r,new El(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Sh(e)}set(e,n,r){this._verifyNotCommitted();const o=Zd(e,this._firestore),c=t1(o.converter,n,r),d=GT(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,r);return this._mutations.push(d.toMutation(o._key,cn.none())),this}update(e,n,r,...o){this._verifyNotCommitted();const c=Zd(e,this._firestore);let d;return d=typeof(n=Mt(n))=="string"||n instanceof Yl?QT(this._dataReader,"WriteBatch.update",c._key,n,r,o):KT(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(d.toMutation(c._key,cn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Zd(e,this._firestore);return this._mutations=this._mutations.concat(new _h(n._key,cn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(Q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zd(s,e){if((s=Mt(s)).firestore!==e)throw new ae(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(s){return Ql(s=bn(s,Zi)),new wC(s,e=>Ih(s,e))}(function(e,n=!0){(function(o){to=o})(Ja),Ga(new Ur("firestore",(r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new Zi(new vR(r.getProvider("auth-internal")),new bR(d,r.getProvider("app-check-internal")),function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ae(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(y.options.projectId,b)}(d,o),d);return c={useFetchStreams:n,...c},g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Vs(Tv,bv,e),Vs(Tv,bv,"esm2020")})();const Wd={apiKey:"AIzaSyAUucKV1nEK_vhm7gammKrjR5VJX34jB2I",authDomain:"prediksi-hijab.firebaseapp.com",projectId:"prediksi-hijab",storageBucket:"prediksi-hijab.firebasestorage.app",messagingSenderId:"710662677447",appId:"1:710662677447:web:c2893e4b4afc9f2bbf2fe2",measurementId:"G-RD795600VP"},xl=(s,e)=>{let n=0;const r=Math.min(s.length,e.length);for(let o=0;o<r;o++)n+=Math.pow(s[o]-e[o],2);return n/r},Eg=(s,e)=>{if(!s||s.length===0)return{forecast:0,historical:[]};let n=[s[0]];for(let c=1;c<s.length;c++)n[c]=e*s[c]+(1-e)*n[c-1];const r=e*s[s.length-1]+(1-e)*n[n.length-1],o=[s[0],...n.slice(0,-1)];return{forecast:r,historical:o}},xC=s=>{let e=.1,n=1/0;for(let r=.1;r<=.9;r+=.1){const{historical:o}=Eg(s,r),c=xl(s,o);c<n&&(n=c,e=r)}return{alpha:e,mse:n}},Tg=(s,e,n)=>{if(!s||s.length<2)return{forecast:0,historical:[]};let r=[s[0]],o=[s[1]-s[0]],c=[s[0]];for(let g=1;g<s.length;g++)c.push(r[g-1]+o[g-1]),r[g]=e*s[g]+(1-e)*(r[g-1]+o[g-1]),o[g]=n*(r[g]-r[g-1])+(1-n)*o[g-1];return{forecast:r[r.length-1]+o[o.length-1],historical:c}},IC=s=>{let e=.1,n=.1,r=1/0;for(let o=.1;o<=.9;o+=.1)for(let c=.1;c<=.9;c+=.1){const{historical:d}=Tg(s,o,c),g=xl(s,d);g<r&&(r=g,e=o,n=c)}return{alpha:e,beta:n,mse:r}},i1=s=>{if(!s||s.length===0)return{forecast:0,historical:[]};const e=s.length;let n=[];for(let o=1;o<=e;o++){const c=s.slice(0,o),d=c.length;if(d<2){n.push(c[0]||0);continue}let g=0,p=0,y=0,b=0;c.forEach((H,G)=>{const $=G+1;g+=$,p+=H,y+=$*H,b+=$*$});const x=(d*y-g*p)/(d*b-g*g)||0,R=(p-x*g)/d;n.push(x*o+R)}const r=n.pop();return n.unshift(s[0]),{forecast:r,historical:n.slice(0,e)}},CC=(s,e,n)=>{const r=Eg(s,e.alpha).historical,o=Tg(s,n.alpha,n.beta).historical,c=i1(s).historical,d=xl(s,r),g=xl(s,o),p=xl(s,c),y=1/(d||1e-6),b=1/(g||1e-6),x=1/(p||1e-6),R=y+b+x;return R===0?{ses:1/3,holt:1/3,lr:1/3}:{ses:y/R,holt:b/R,lr:x/R}},NC=()=>E.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 font-sans",children:E.jsxs("div",{className:"w-full max-w-2xl p-8 space-y-6 bg-white rounded-2xl shadow-lg text-center border-t-4 border-yellow-400",children:[E.jsx(aA,{size:64,className:"mx-auto text-yellow-500"}),E.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Konfigurasi Firebase Diperlukan"}),E.jsx("p",{className:"text-gray-600",children:"Aplikasi ini perlu terhubung ke proyek Firebase Anda. Ada 2 langkah penting:"}),E.jsxs("div",{className:"text-left space-y-4",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"font-bold text-lg",children:"Langkah 1: Salin Konfigurasi Proyek"}),E.jsxs("ol",{className:"list-decimal list-inside space-y-2 p-3 bg-gray-50 rounded-lg mt-2",children:[E.jsxs("li",{children:["Buka konsol Firebase Anda di ",E.jsxs("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:["console.firebase.google.com ",E.jsx($b,{size:14,className:"inline-block ml-1"})]})]}),E.jsx("li",{children:"Pilih proyek Anda (`prediksi-hijab`)."}),E.jsx("li",{children:"Klik ikon roda gigi (Pengaturan Proyek)."}),E.jsx("li",{children:'Di tab "Umum", salin objek `firebaseConfig`.'}),E.jsx("li",{children:"Tempel objek tersebut untuk menggantikan variabel `firebaseConfig` di dalam kode."})]})]}),E.jsxs("div",{children:[E.jsx("h2",{className:"font-bold text-lg",children:"Langkah 2: Aktifkan Login Anonim"}),E.jsxs("ol",{className:"list-decimal list-inside space-y-2 p-3 bg-gray-50 rounded-lg mt-2",children:[E.jsxs("li",{children:["Di menu sebelah kiri, masuk ke ",E.jsx("span",{className:"font-mono bg-gray-200 px-1 rounded",children:"Authentication"}),"."]}),E.jsxs("li",{children:["Pilih tab ",E.jsx("span",{className:"font-mono bg-gray-200 px-1 rounded",children:"Sign-in method"}),"."]}),E.jsx("li",{children:'Cari "Anonim" di daftar penyedia, lalu klik dan aktifkan (enable).'})]})]})]}),E.jsx("p",{className:"text-sm text-gray-500 pt-4",children:"Setelah kedua langkah selesai, aplikasi akan berfungsi secara otomatis."})]})}),bg=({isOpen:s,onClose:e,onConfirm:n,title:r,children:o})=>s?E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm",children:[E.jsx("h3",{className:"text-lg font-bold text-gray-800",children:r}),E.jsx("div",{className:"mt-2 text-sm text-gray-600",children:o}),E.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[E.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Batal"}),E.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Hapus"})]})]})}):null,DC=({onLogin:s})=>{const[e,n]=he.useState(!1),r=()=>{n(!0),s().catch(o=>{alert("Gagal melakukan login anonim. Pastikan metode login 'Anonim' sudah diaktifkan di konsol Firebase Anda."),console.error(o),n(!1)})};return E.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 font-sans",children:E.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-2xl shadow-lg text-center",children:[E.jsx(NA,{size:64,className:"mx-auto text-green-500"}),E.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Aplikasi Prediksi Tren"}),E.jsx("p",{className:"mt-2 text-gray-600",children:"Masuk untuk menyimpan data Anda secara aman di cloud dan mengaksesnya dari mana saja."}),E.jsx("div",{className:"pt-4",children:E.jsx("button",{onClick:r,disabled:e,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:bg-green-300",children:e?E.jsx(Uc,{className:"animate-spin"}):"Masuk Secara Anonim"})})]})})},MC=({activePage:s,setPage:e,onLogout:n})=>{const r=[{id:"dashboard",label:"Dashboard",icon:sA},{id:"kelola-kategori",label:"Kelola Kategori",icon:M0},{id:"input-data",label:"Input Data",icon:_A},{id:"upload-csv",label:"Upload CSV",icon:IA},{id:"lihat-data",label:"Lihat Data",icon:lA},{id:"prediksi",label:"Prediksi",icon:Fb},{id:"laporan",label:"Laporan",icon:eA}];return E.jsxs("div",{className:"flex flex-col h-full bg-[#2F4F4F] text-white w-64 p-4 space-y-4",children:[E.jsx("div",{className:"text-2xl font-bold text-center py-4 border-b border-gray-500",children:"Prediksi Tren"}),E.jsx("nav",{className:"flex-grow",children:E.jsx("ul",{children:r.map(o=>E.jsx("li",{className:"mb-2",children:E.jsxs("a",{href:"#",onClick:c=>{c.preventDefault(),e(o.id)},className:`flex items-center p-3 rounded-lg transition-colors duration-200 ${s===o.id?"bg-green-400 bg-opacity-30 text-white":"hover:bg-green-500 hover:bg-opacity-20 text-gray-300"}`,children:[E.jsx(o.icon,{className:"mr-4",size:20}),E.jsx("span",{children:o.label})]})},o.id))})}),E.jsx("div",{children:E.jsxs("button",{onClick:n,className:"flex items-center w-full p-3 rounded-lg transition-colors duration-200 hover:bg-red-500 hover:bg-opacity-20 text-gray-300",children:[E.jsx(hA,{className:"mr-4",size:20}),E.jsx("span",{children:"Keluar"})]})})]})},A0=({products:s})=>E.jsxs("div",{className:"p-8",children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Dashboard"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md flex items-center space-x-4",children:[E.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:E.jsx(M0,{className:"text-blue-500"})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-gray-500",children:"Total Produk"}),E.jsx("p",{className:"text-2xl font-bold",children:s.length})]})]}),E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md flex items-center space-x-4",children:[E.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:E.jsx(SA,{className:"text-green-500"})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-gray-500",children:"Produk Terlaris (Bulan Ini)"}),E.jsx("p",{className:"text-xl font-bold",children:"Pashmina Ceruty"})]})]}),E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md flex items-center space-x-4",children:[E.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:E.jsx(bA,{className:"text-red-500"})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-gray-500",children:"Produk Kurang Laris"}),E.jsx("p",{className:"text-xl font-bold",children:"Hijab Voal Motif"})]})]})]}),E.jsxs("div",{className:"mt-8 bg-white p-6 rounded-xl shadow-md",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-4",children:"Ringkasan Penjualan 6 Bulan Terakhir"}),E.jsx(S0,{width:"100%",height:300,children:E.jsxs(w0,{children:[E.jsx(R0,{strokeDasharray:"3 3"}),E.jsx(x0,{dataKey:"week",label:{value:"Minggu ke-",position:"insideBottom",offset:-5}}),E.jsx(I0,{label:{value:"Penjualan",angle:-90,position:"insideLeft"}}),E.jsx(C0,{}),E.jsx(N0,{}),s.slice(0,2).map((e,n)=>E.jsx(Jd,{type:"monotone",dataKey:"sales",data:e.history,name:e.name,stroke:n===0?"#8884d8":"#82ca9d",activeDot:{r:8}},e.id))]})})]})]}),OC=({products:s,categories:e,onDeleteEntry:n})=>{const[r,o]=he.useState(""),[c,d]=he.useState(""),[g,p]=he.useState([]),[y,b]=he.useState(!1),[x,R]=he.useState(null),H=he.useMemo(()=>s.flatMap(ne=>ne.history.map(re=>({...re,id:`${ne.id}-${re.week}`,productId:ne.id,category:ne.category,productName:ne.name}))).sort((ne,re)=>ne.week-re.week||ne.category.localeCompare(re.category)),[s]);he.useEffect(()=>{let ne=H;r&&(ne=ne.filter(re=>re.category===r)),c&&(ne=ne.filter(re=>re.week===parseInt(c))),p(ne)},[r,c,H]);const G=()=>{o(""),d("")},$=ne=>{R(ne),b(!0)},ee=()=>{n(x.productId,x.week),b(!1),R(null)};return E.jsxs(E.Fragment,{children:[E.jsx(bg,{isOpen:y,onClose:()=>b(!1),onConfirm:ee,title:"Konfirmasi Hapus Data",children:E.jsxs("p",{children:["Apakah Anda yakin ingin menghapus data penjualan untuk ",E.jsx("strong",{children:x?.productName})," pada minggu ke-",E.jsx("strong",{children:x?.week}),"?"]})}),E.jsxs("div",{className:"p-8 space-y-6",children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Lihat Data Penjualan"}),E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-4",children:"Filter Data Penjualan"}),E.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[E.jsxs("div",{className:"flex-grow",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),E.jsxs("select",{value:r,onChange:ne=>o(ne.target.value),className:"w-full p-2 border rounded-md bg-gray-50",children:[E.jsx("option",{value:"",children:"-- Semua Kategori --"}),e.map(ne=>E.jsx("option",{value:ne.name,children:ne.name},ne.id))]})]}),E.jsxs("div",{className:"flex-grow",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter Minggu ke-"}),E.jsx("input",{type:"number",placeholder:"Contoh: 5",value:c,onChange:ne=>d(ne.target.value),className:"w-full p-2 border rounded-md bg-gray-50"})]}),E.jsxs("button",{onClick:G,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 flex items-center gap-2",children:[E.jsx(gA,{size:16})," Reset"]})]})]}),E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-4",children:"Data Penjualan"}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[E.jsx("thead",{className:"bg-gray-800 text-white",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Minggu Ke"}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Kategori"}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Jumlah Penjualan"}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Trend Score"}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Tgl Input"}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Aksi"})]})}),E.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.length>0?g.map(ne=>E.jsxs("tr",{className:"hover:bg-gray-50",children:[E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:ne.week}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ne.category}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ne.sales}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ne.trendScore||"-"}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ne.tglInput||"-"}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:E.jsx("button",{onClick:()=>$(ne),className:"text-red-600 hover:text-red-900 flex items-center",children:E.jsx(xm,{size:16})})})]},ne.id)):E.jsx("tr",{children:E.jsx("td",{colSpan:"6",className:"px-6 py-10 text-center text-sm text-gray-500",children:"Tidak ada data ditemukan."})})})]})})]})]})]})},kC=({onProcessData:s})=>{const[e,n]=he.useState(null),[r,o]=he.useState(!1),[c,d]=he.useState(""),[g,p]=he.useState(""),[y,b]=he.useState([]),x=$=>{const ee=$.target.files[0];ee&&G(ee)},R=$=>{$.preventDefault(),$.stopPropagation(),$.type==="dragenter"||$.type==="dragover"?o(!0):$.type==="dragleave"&&o(!1)},H=$=>{$.preventDefault(),$.stopPropagation(),o(!1);const ee=$.dataTransfer.files[0];ee&&G(ee)},G=$=>{if($.type!=="text/csv"){d("Format file tidak valid. Harap unggah file .csv"),n(null),b([]),p("");return}n($),d(""),p(""),b([]);const ee=new FileReader;ee.onload=ne=>{try{const ue=ne.target.result.trim().split(`
`),De=ue[0].trim().split(",");if(De[0].toLowerCase()!=="produk"||De[1].toLowerCase()!=="kategori")throw new Error("Format header CSV tidak sesuai. Harusnya: Produk,Kategori,Minggu1,Minggu2,...");const ge=ue.slice(1).map((Me,k)=>{const S=Me.trim().split(","),I=De.slice(2).map((O,V)=>({week:parseInt(O.replace(/minggu/i,"")),sales:parseInt(S[V+2])||0,tglInput:new Date().toISOString().split("T")[0],trendScore:null}));return{id:`csv-p${k+1}`,name:S[0],category:S[1],history:I}});b(ge),s(ge),p(`File "${$.name}" berhasil diproses. ${ge.length} produk diimpor.`)}catch(re){d(`Gagal memproses file: ${re.message}`),n(null)}},ee.readAsText($)};return E.jsxs("div",{className:"p-8",children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Upload Data Penjualan (CSV)"}),E.jsxs("div",{className:"max-w-4xl mx-auto bg-white p-8 rounded-xl shadow-md space-y-6",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-xl font-bold text-gray-700",children:"Format CSV"}),E.jsx("p",{className:"text-gray-600 mt-2",children:"Pastikan file CSV Anda memiliki format header sebagai berikut. Data penjualan dimulai dari kolom ketiga."}),E.jsx("div",{className:"mt-3 p-3 bg-gray-100 rounded-md text-sm font-mono",children:"Produk,Kategori,Minggu1,Minggu2,Minggu3,..."})]}),E.jsxs("div",{className:`border-2 border-dashed rounded-lg p-10 text-center cursor-pointer transition-colors duration-200 ${r?"border-green-500 bg-green-50":"border-gray-300 hover:border-green-400"}`,onDragEnter:R,onDragOver:R,onDragLeave:R,onDrop:H,onClick:()=>document.getElementById("csv-input").click(),children:[E.jsx("input",{type:"file",id:"csv-input",accept:".csv",className:"hidden",onChange:x}),E.jsx(nA,{className:"mx-auto h-12 w-12 text-gray-400"}),E.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[E.jsx("span",{className:"font-semibold text-green-600",children:"Klik untuk mengunggah"})," atau seret dan lepas file CSV"]}),e&&E.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["File terpilih: ",e.name]})]}),c&&E.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded-md flex items-center",role:"alert",children:[E.jsx(RA,{className:"mr-3"}),E.jsx("p",{children:c})]}),g&&E.jsxs("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-4 rounded-md flex items-center",role:"alert",children:[E.jsx(Wb,{className:"mr-3"}),E.jsx("p",{children:g})]}),y.length>0&&E.jsxs("div",{children:[E.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-4",children:"Pratinjau Data"}),E.jsx("div",{className:"overflow-x-auto border rounded-lg",children:E.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[E.jsx("thead",{className:"bg-gray-50",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produk"}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kategori"}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Minggu Data"})]})}),E.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map($=>E.jsxs("tr",{children:[E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:$.name}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$.category}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$.history.length})]},$.id))})]})})]})]})]})},VC=({categories:s,onAddData:e})=>{const[n,r]=he.useState(""),[o,c]=he.useState(""),[d,g]=he.useState(""),[p,y]=he.useState(""),[b,x]=he.useState(""),[R,H]=he.useState({}),[G,$]=he.useState(""),ee=()=>{r(""),c(""),g(""),y(""),x(""),H({})},ne=re=>{re.preventDefault();const ue={};if(n||(ue.week="Minggu ke- harus diisi."),d||(ue.category="Kategori harus dipilih."),p||(ue.sales="Jumlah penjualan harus diisi."),Object.keys(ue).length>0){H(ue),$("");return}e({week:parseInt(n),tglInput:o,category:d,sales:parseInt(p),trendScore:parseInt(b)}),$(`Data untuk kategori "${d}" pada minggu ke-${n} berhasil disimpan!`),ee(),setTimeout(()=>$(""),4e3)};return E.jsxs("div",{className:"p-8",children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Input Data Penjualan Mingguan"}),E.jsx("div",{className:"max-w-2xl mx-auto bg-white p-8 rounded-xl shadow-md",children:E.jsxs("form",{onSubmit:ne,className:"space-y-6",children:[G&&E.jsxs("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-4 rounded-md flex items-center",role:"alert",children:[E.jsx(Kb,{className:"mr-3"}),E.jsx("p",{children:G})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minggu ke-"}),E.jsx("input",{type:"number",value:n,onChange:re=>r(re.target.value),className:`w-full p-2 border rounded-md ${R.week?"border-red-500":"border-gray-300"}`}),R.week&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:R.week})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tanggal Awal Minggu"}),E.jsx("input",{type:"date",value:o,onChange:re=>c(re.target.value),className:"w-full p-2 border border-gray-300 rounded-md"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori Hijab"}),E.jsxs("select",{value:d,onChange:re=>g(re.target.value),className:`w-full p-2 border rounded-md ${R.category?"border-red-500":"border-gray-300"}`,children:[E.jsx("option",{value:"",children:"-- Pilih Kategori --"}),s.map(re=>E.jsx("option",{value:re.name,children:re.name},re.id))]}),R.category&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:R.category})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jumlah Penjualan"}),E.jsx("input",{type:"number",value:p,onChange:re=>y(re.target.value),className:`w-full p-2 border rounded-md ${R.sales?"border-red-500":"border-gray-300"}`}),R.sales&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:R.sales})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trend Score (0-100)"}),E.jsx("input",{type:"number",min:"0",max:"100",value:b,onChange:re=>x(re.target.value),className:"w-full p-2 border border-gray-300 rounded-md"}),E.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Karena API Google Trends memerlukan server, silakan masukkan nilai tren secara manual."})]}),E.jsx("button",{type:"submit",className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Simpan Data"})]})})]})},PC=({categories:s,onAddCategory:e,onDeleteCategory:n})=>{const[r,o]=he.useState(""),[c,d]=he.useState(""),[g,p]=he.useState(!1),[y,b]=he.useState(null),x=()=>{if(!r.trim()){d("Nama kategori tidak boleh kosong.");return}if(s.some(G=>G.name.toLowerCase()===r.trim().toLowerCase())){d("Kategori sudah ada.");return}e(r),o(""),d("")},R=G=>{b(G),p(!0)},H=()=>{n(y.id),p(!1),b(null)};return E.jsxs(E.Fragment,{children:[E.jsxs(bg,{isOpen:g,onClose:()=>p(!1),onConfirm:H,title:"Konfirmasi Hapus Kategori",children:[E.jsxs("p",{children:["Apakah Anda yakin ingin menghapus kategori ",E.jsxs("strong",{children:['"',y?.name,'"']}),"?"]}),E.jsx("p",{className:"mt-2 text-sm text-yellow-600",children:"Tindakan ini tidak dapat diurungkan."})]}),E.jsxs("div",{className:"p-8",children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Kelola Kategori"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[E.jsxs("div",{className:"md:col-span-1 bg-white p-6 rounded-xl shadow-md",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-4",children:"Tambah Kategori Baru"}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"categoryName",className:"block text-sm font-medium text-gray-700",children:"Nama Kategori"}),E.jsx("input",{type:"text",id:"categoryName",value:r,onChange:G=>{o(G.target.value),d("")},className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm",placeholder:"e.g., Bergo, Instant"}),c&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:c})]}),E.jsxs("button",{onClick:x,className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[E.jsx(Yb,{size:18,className:"mr-2"}),"Tambah Kategori"]})]})]}),E.jsxs("div",{className:"md:col-span-2 bg-white p-6 rounded-xl shadow-md",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-4",children:"Daftar Kategori Saat Ini"}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[E.jsx("thead",{className:"bg-gray-50",children:E.jsxs("tr",{children:[E.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Kategori"}),E.jsx("th",{scope:"col",className:"relative px-6 py-3",children:E.jsx("span",{className:"sr-only",children:"Aksi"})})]})}),E.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.length>0?s.map(G=>E.jsxs("tr",{className:"hover:bg-gray-50",children:[E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:G.name}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:E.jsxs("button",{onClick:()=>R(G),className:"text-red-600 hover:text-red-900 flex items-center",children:[E.jsx(xm,{size:16,className:"mr-1"})," Hapus"]})})]},G.id)):E.jsx("tr",{children:E.jsx("td",{colSpan:"2",className:"px-6 py-4 text-center text-sm text-gray-500",children:"Belum ada kategori."})})})]})})]})]})]})]})},UC=({products:s,categories:e,onAddReport:n})=>{const[r,o]=he.useState(""),[c,d]=he.useState("otomatis"),[g,p]=he.useState("otomatis"),[y,b]=he.useState(.5),[x,R]=he.useState(.5),[H,G]=he.useState(.5),[$,ee]=he.useState(.4),[ne,re]=he.useState(.3),[ue,De]=he.useState(.3),[ge,Me]=he.useState(null),[k,S]=he.useState(null),[I,O]=he.useState(null),[V,D]=he.useState(!1),w=he.useMemo(()=>s.find(Y=>Y.category===r),[r,s]),Se=he.useMemo(()=>w?w.history.map(Y=>Y.sales):[],[w]);he.useEffect(()=>{e.length>0&&!r&&o(e[0].name)},[e,r]);const xe=()=>{if(!w){alert("Pilih kategori yang valid terlebih dahulu.");return}D(!0),O(null),Me(null),S(null),setTimeout(()=>{let Y=y,le=x,Ce=H;if(c==="otomatis"){const wt=xC(Se),hn=IC(Se);Y=wt.alpha,le=hn.alpha,Ce=hn.beta,Me({ses:wt,holt:hn})}const N=Eg(Se,Y).forecast,W=Tg(Se,le,Ce).forecast,se=i1(Se).forecast;let te=$,fe=ne,we=ue;if(g==="otomatis"){const wt=CC(Se,{alpha:Y},{alpha:le,beta:Ce});te=wt.ses,fe=wt.holt,we=wt.lr,S(wt)}const ve=te+fe+we,ft=(N*te+W*fe+se*we)/ve,Ke=Se.reduce((wt,hn)=>wt+hn,0)/Se.length,An=ft>Ke?"Laku":"Tidak Laku",Sn={ses:N.toFixed(2),holt:W.toFixed(2),lr:se.toFixed(2),final:ft.toFixed(2),status:An,average:Ke.toFixed(2)};O(Sn),n({id:`rep-${Date.now()}`,category:w.category,week:w.history.length+1,prediction:Sn.final,status:Sn.status}),D(!1)},1500)},B=w?w.history.map(Y=>({...Y,"Penjualan Aktual":Y.sales})):[];return I&&w&&B.push({week:w.history.length+1,Prediksi:parseFloat(I.final)}),E.jsxs("div",{className:"p-8 space-y-6",children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Prediksi Tren Produk"}),E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-4",children:"Lakukan Prediksi untuk Minggu Berikutnya"}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("select",{value:r,onChange:Y=>{o(Y.target.value),O(null)},className:"w-full p-3 border rounded-md bg-gray-50",children:[E.jsx("option",{value:"",children:"-- Pilih Kategori --"}),e.map(Y=>E.jsx("option",{value:Y.name,children:Y.name},Y.id))]}),E.jsx("button",{onClick:xe,disabled:V||!r,className:"px-8 py-3 bg-purple-600 text-white font-semibold rounded-lg shadow-md hover:bg-purple-700 disabled:bg-purple-300 disabled:cursor-not-allowed flex items-center gap-2",children:V?E.jsx(Uc,{className:"animate-spin"}):"Prediksi"})]})]}),V&&E.jsxs("div",{className:"flex justify-center items-center p-10 bg-white rounded-xl shadow-md",children:[E.jsx(Uc,{size:40,className:"animate-spin text-purple-600"}),E.jsx("p",{className:"ml-4 text-lg text-gray-600",children:"Mencari parameter & bobot terbaik, lalu menghitung prediksi..."})]}),I&&E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[E.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-md",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-4",children:"Hasil Prediksi"}),E.jsxs("table",{className:"min-w-full",children:[E.jsx("thead",{className:"bg-gray-800 text-white",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-4 py-2 text-left",children:"Metode"}),E.jsx("th",{className:"px-4 py-2 text-right",children:"Hasil Prediksi (pcs)"})]})}),E.jsxs("tbody",{children:[E.jsxs("tr",{className:"border-b",children:[E.jsx("td",{className:"px-4 py-2",children:"Single Exponential Smoothing"}),E.jsx("td",{className:"px-4 py-2 text-right font-mono",children:I.ses})]}),E.jsxs("tr",{className:"border-b",children:[E.jsx("td",{className:"px-4 py-2",children:"Holt's Linear Trend"}),E.jsx("td",{className:"px-4 py-2 text-right font-mono",children:I.holt})]}),E.jsxs("tr",{className:"border-b",children:[E.jsx("td",{className:"px-4 py-2",children:"Linear Regression"}),E.jsx("td",{className:"px-4 py-2 text-right font-mono",children:I.lr})]}),E.jsxs("tr",{className:"bg-gray-100 font-bold",children:[E.jsx("td",{className:"px-4 py-2",children:"Weighted Fusion (Final)"}),E.jsx("td",{className:"px-4 py-2 text-right font-mono text-lg",children:I.final})]})]})]}),E.jsxs("div",{className:`mt-4 p-4 rounded-lg text-white text-center ${I.status==="Laku"?"bg-green-500":"bg-red-500"}`,children:[E.jsxs("p",{className:"font-bold text-xl",children:["Status: ",I.status]}),E.jsxs("p",{className:"text-xs mt-1",children:["(Dibandingkan rata-rata penjualan: ",I.average,")"]})]})]}),E.jsxs("div",{className:"lg:col-span-3 bg-white p-6 rounded-xl shadow-md",children:[E.jsxs("h2",{className:"text-xl font-bold text-gray-700 mb-4",children:["Grafik Penjualan & Prediksi: ",w?.name]}),E.jsx(S0,{width:"100%",height:300,children:E.jsxs(w0,{data:B,children:[E.jsx(R0,{strokeDasharray:"3 3"}),E.jsx(x0,{dataKey:"week"}),E.jsx(I0,{}),E.jsx(C0,{}),E.jsx(N0,{}),E.jsx(Jd,{type:"monotone",dataKey:"Penjualan Aktual",stroke:"#8884d8",activeDot:{r:8}}),E.jsx(Jd,{type:"monotone",dataKey:"Prediksi",stroke:"#ff7300",strokeDasharray:"5 5"})]})})]})]}),E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-4",children:"Konfigurasi Prediksi (Tingkat Lanjut)"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"font-bold text-gray-700 block mb-2",children:"Mode Parameter Model"}),E.jsxs("div",{className:"flex rounded-lg border p-1 bg-gray-100 w-min",children:[E.jsxs("button",{onClick:()=>d("otomatis"),className:`px-4 py-2 text-sm rounded-md flex items-center gap-2 ${c==="otomatis"?"bg-white shadow":"bg-transparent text-gray-600"}`,children:[E.jsx(G_,{size:16})," Otomatis"]}),E.jsxs("button",{onClick:()=>d("manual"),className:`px-4 py-2 text-sm rounded-md flex items-center gap-2 ${c==="manual"?"bg-white shadow":"bg-transparent text-gray-600"}`,children:[E.jsx(F_,{size:16})," Manual"]})]}),ge&&c==="otomatis"&&E.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm",children:[E.jsx("p",{children:"Parameter optimal yang ditemukan:"}),E.jsxs("ul",{className:"list-disc list-inside mt-1",children:[E.jsxs("li",{children:["SES Alpha (α): ",E.jsx("strong",{children:ge.ses.alpha.toFixed(1)})]}),E.jsxs("li",{children:["Holt Alpha (α): ",E.jsx("strong",{children:ge.holt.alpha.toFixed(1)}),", Beta (β): ",E.jsx("strong",{children:ge.holt.beta.toFixed(1)})]})]})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"font-bold text-gray-700 block mb-2",children:"Mode Bobot Fusion"}),E.jsxs("div",{className:"flex rounded-lg border p-1 bg-gray-100 w-min",children:[E.jsxs("button",{onClick:()=>p("otomatis"),className:`px-4 py-2 text-sm rounded-md flex items-center gap-2 ${g==="otomatis"?"bg-white shadow":"bg-transparent text-gray-600"}`,children:[E.jsx(G_,{size:16})," Otomatis"]}),E.jsxs("button",{onClick:()=>p("manual"),className:`px-4 py-2 text-sm rounded-md flex items-center gap-2 ${g==="manual"?"bg-white shadow":"bg-transparent text-gray-600"}`,children:[E.jsx(F_,{size:16})," Manual"]})]}),k&&g==="otomatis"&&E.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm",children:[E.jsx("p",{children:"Bobot optimal yang ditemukan:"}),E.jsxs("ul",{className:"list-disc list-inside mt-1",children:[E.jsxs("li",{children:["Bobot SES: ",E.jsxs("strong",{children:[(k.ses*100).toFixed(1),"%"]})]}),E.jsxs("li",{children:["Bobot Holt: ",E.jsxs("strong",{children:[(k.holt*100).toFixed(1),"%"]})]}),E.jsxs("li",{children:["Bobot LR: ",E.jsxs("strong",{children:[(k.lr*100).toFixed(1),"%"]})]})]})]})]}),E.jsxs("div",{className:`space-y-4 transition-opacity ${c==="manual"?"opacity-100":"opacity-40 pointer-events-none"}`,children:[E.jsx("h3",{className:"text-lg font-bold text-gray-700 border-b pb-2 mb-4",children:"Parameter Model Manual"}),E.jsx("p",{className:"font-semibold",children:"Single Exponential Smoothing"}),E.jsxs("label",{children:["Alpha (α): ",y]}),E.jsx("input",{type:"range",min:"0.1",max:"0.9",step:"0.1",value:y,onChange:Y=>b(parseFloat(Y.target.value)),className:"w-full",disabled:c!=="manual"}),E.jsx("p",{className:"font-semibold mt-4",children:"Holt's Linear Trend"}),E.jsxs("label",{children:["Alpha (α): ",x]}),E.jsx("input",{type:"range",min:"0.1",max:"0.9",step:"0.1",value:x,onChange:Y=>R(parseFloat(Y.target.value)),className:"w-full",disabled:c!=="manual"}),E.jsxs("label",{children:["Beta (β): ",H]}),E.jsx("input",{type:"range",min:"0.1",max:"0.9",step:"0.1",value:H,onChange:Y=>G(parseFloat(Y.target.value)),className:"w-full",disabled:c!=="manual"})]}),E.jsxs("div",{className:`space-y-4 transition-opacity ${g==="manual"?"opacity-100":"opacity-40 pointer-events-none"}`,children:[E.jsx("h3",{className:"text-lg font-bold text-gray-700 border-b pb-2 mb-4",children:"Bobot Weighted Fusion Manual"}),E.jsxs("label",{children:["Bobot SES: ",$]}),E.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:$,onChange:Y=>ee(parseFloat(Y.target.value)),className:"w-full",disabled:g!=="manual"}),E.jsxs("label",{children:["Bobot Holt: ",ne]}),E.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:ne,onChange:Y=>re(parseFloat(Y.target.value)),className:"w-full",disabled:g!=="manual"}),E.jsxs("label",{children:["Bobot Lin. Reg: ",ue]}),E.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:ue,onChange:Y=>De(parseFloat(Y.target.value)),className:"w-full",disabled:g!=="manual"})]})]})]})]})},LC=({reportData:s,onDeleteReport:e})=>{const[n,r]=he.useState(!1),[o,c]=he.useState(null),d=y=>{c(y),r(!0)},g=()=>{e(o.id),r(!1),c(null)},p=()=>{const{jsPDF:y}=window.jspdf,b=new y;b.setFontSize(18),b.text("Laporan Hasil Prediksi",14,22),b.autoTable({startY:30,head:[["Kategori","Minggu Ke","Hasil Prediksi (pcs)","Status"]],body:s.map(x=>[x.category,x.week,x.prediction,x.status]),headStyles:{fillColor:[41,128,185]},theme:"striped"}),b.save("laporan-prediksi.pdf")};return E.jsxs(E.Fragment,{children:[E.jsx(bg,{isOpen:n,onClose:()=>r(!1),onConfirm:g,title:"Konfirmasi Hapus Laporan",children:E.jsxs("p",{children:["Apakah Anda yakin ingin menghapus laporan prediksi untuk ",E.jsx("strong",{children:o?.category})," pada minggu ke-",E.jsx("strong",{children:o?.week}),"?"]})}),E.jsxs("div",{className:"p-8",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Laporan Hasil Prediksi"}),E.jsxs("button",{onClick:p,disabled:s.length===0,className:"px-4 py-2 bg-green-600 text-white font-semibold rounded-lg shadow-md hover:bg-green-700 disabled:bg-green-300 disabled:cursor-not-allowed flex items-center gap-2",children:[E.jsx(dA,{size:16})," Cetak"]})]}),E.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md",children:E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[E.jsx("thead",{className:"bg-gray-800 text-white",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Kategori"}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Minggu Ke"}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Hasil Prediksi"}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Status"}),E.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Aksi"})]})}),E.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.length>0?s.map(y=>E.jsxs("tr",{className:"hover:bg-gray-50",children:[E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:y.category}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y.week}),E.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[y.prediction," pcs"]}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:E.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${y.status==="Laku"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:y.status})}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:E.jsx("button",{onClick:()=>d(y),className:"text-red-600 hover:text-red-900",children:E.jsx(xm,{size:16})})})]},y.id)):E.jsx("tr",{children:E.jsx("td",{colSpan:"5",className:"px-6 py-10 text-center text-sm text-gray-500",children:"Belum ada laporan prediksi."})})})]})})})]})]})},jC=()=>{const[s,e]=he.useState(null),[n,r]=he.useState(null),[o,c]=he.useState(null),[d,g]=he.useState("dashboard"),[p,y]=he.useState([]),[b,x]=he.useState([]),[R,H]=he.useState([]),[G,$]=he.useState(!0),[ee,ne]=he.useState(!1);he.useEffect(()=>{if(Wd.apiKey&&Wd.apiKey!=="YOUR_API_KEY"){ne(!0);try{const D=H0(Wd),w=dC(D),Se=gR(D);e(w),r(Se);const xe=s2(Se,le=>{c(le),$(!1)}),B=document.createElement("script");B.src="https://unpkg.com/jspdf@latest/dist/jspdf.umd.min.js",B.async=!0,document.body.appendChild(B);const Y=document.createElement("script");return Y.src="https://unpkg.com/jspdf-autotable@3.5.23/dist/jspdf.plugin.autotable.js",Y.async=!0,document.body.appendChild(Y),()=>{xe(),document.body.removeChild(B),document.body.removeChild(Y)}}catch(D){console.error("Firebase initialization error:",D),ne(!1),$(!1)}}else ne(!1),$(!1)},[]),he.useEffect(()=>{if(o&&s){const D=Rc(Dr(s,"users",o.uid,"categories"),Yd("name")),w=$d(D,Se=>{const xe=Se.docs.map(B=>({id:B.id,...B.data()}));y(xe)});return()=>w()}},[s,o]),he.useEffect(()=>{if(o&&s){const D=Rc(Dr(s,"users",o.uid,"products"),Yd("name")),w=$d(D,Se=>{const xe=Se.docs.map(B=>({id:B.id,...B.data()}));x(xe)});return()=>w()}},[s,o]),he.useEffect(()=>{if(o&&s){const D=Rc(Dr(s,"users",o.uid,"reports"),Yd("createdAt","desc")),w=$d(D,Se=>{const xe=Se.docs.map(B=>({id:B.id,...B.data()}));H(xe)});return()=>w()}},[s,o]);const re=async()=>{n&&await Ww(n)},ue=async()=>{n&&await n.signOut()},De=async D=>{s&&o&&await Xd(Dr(s,"users",o.uid,"categories"),{name:D})},ge=async D=>{s&&o&&await b0(ja(s,"users",o.uid,"categories",D))},Me=async D=>{if(s&&o){const w=Dr(s,"users",o.uid,"products"),Se=Rc(w,TC("category","==",D.category)),xe=await E0(Se);if(xe.empty)await Xd(w,{name:D.category,category:D.category,history:[D]});else{const B=xe.docs[0],Y=ja(s,"users",o.uid,"products",B.id),le=B.data().history||[],Ce=le.findIndex(W=>W.week===D.week);let N;Ce!==-1?(N=[...le],N[Ce]=D):N=[...le,D],N.sort((W,se)=>W.week-se.week),await T0(Y,{history:N})}}},k=async(D,w)=>{if(s&&o){const Se=ja(s,"users",o.uid,"products",D),xe=await SC(Se);if(xe.exists()){const Y=(xe.data().history||[]).filter(le=>le.week!==w);await T0(Se,{history:Y})}}},S=async D=>{if(s&&o){const w=RC(s),Se=Dr(s,"users",o.uid,"products");(await E0(Se)).docs.forEach(B=>w.delete(B.ref)),D.forEach(B=>{const Y=ja(Se);w.set(Y,{name:B.name,category:B.category,history:B.history})}),await w.commit()}},I=async D=>{s&&o&&await Xd(Dr(s,"users",o.uid,"reports"),{...D,createdAt:new Date})},O=async D=>{s&&o&&await b0(ja(s,"users",o.uid,"reports",D))};if(!ee)return E.jsx(NC,{});if(G)return E.jsx("div",{className:"flex items-center justify-center min-h-screen",children:E.jsx(Uc,{size:48,className:"animate-spin text-green-600"})});if(!o)return E.jsx(DC,{onLogin:re});const V=()=>{switch(d){case"dashboard":return E.jsx(A0,{products:b});case"kelola-kategori":return E.jsx(PC,{categories:p,onAddCategory:De,onDeleteCategory:ge});case"input-data":return E.jsx(VC,{categories:p,onAddData:Me});case"upload-csv":return E.jsx(kC,{onProcessData:S});case"prediksi":return E.jsx(UC,{products:b,categories:p,onAddReport:I});case"lihat-data":return E.jsx(OC,{products:b,categories:p,onDeleteEntry:k});case"laporan":return E.jsx(LC,{reportData:R,onDeleteReport:O});default:return E.jsx(A0,{products:b})}};return E.jsxs("div",{className:"flex h-screen bg-gray-100 font-sans",children:[E.jsx(MC,{activePage:d,setPage:g,onLogout:ue}),E.jsx("main",{className:"flex-1 overflow-y-auto",children:V()})]})};Ub.createRoot(document.getElementById("root")).render(E.jsx(he.StrictMode,{children:E.jsx(jC,{})}));
